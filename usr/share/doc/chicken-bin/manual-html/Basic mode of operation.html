<!doctype html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="manual.css" type="text/css" /></head>
<title>Chicken &raquo; Basic mode of operation</title>
<meta name="viewport" content="initial-scale=1" /></html>
<body>
<div id="body">
<div id="main"><h2 id="sec:Basic_mode_of_operation"><a href="#sec:Basic_mode_of_operation">Basic mode of operation</a></h2><p>The compiler translates Scheme source code into fairly portable C that can be compiled and linked with most available C compilers. CHICKEN supports the generation of executables and libraries, linked either statically or dynamically. Compiled Scheme code can be loaded dynamically, or can be embedded in applications written in other languages. Separate compilation of modules is fully supported.</p><p>The most portable way of creating separately linkable entities is supported by so-called <i>unit</i>s.  A unit is a single compiled object module that contains a number of toplevel expressions that are executed either when the unit is the <i>main</i> unit or if the unit is <i>used</i>.  To use a unit, the unit has to be <i>declare</i>d as used, like this:</p><pre class="highlight"><span class="paren1">(<span class="default">declare <span class="paren2">(<span class="default">uses UNITNAME</span>)</span></span>)</span></pre><p>The toplevel expressions of used units are executed in the order in which the units appear in the <tt>uses</tt> declaration. Units may be used multiple times and <tt>uses</tt> declarations may be circular (the unit is initialized at most once).  To compile a file as a unit, add a <tt>unit</tt> declaration:</p><pre class="highlight"><span class="paren1">(<span class="default">declare <span class="paren2">(<span class="default">unit UNITNAME</span>)</span></span>)</span></pre><p>When compiling different object modules, make sure to have one main unit. This unit is called initially and initializes all used units before executing its toplevel expressions. The main-unit has no <tt>unit</tt> declaration.</p><p>Another method of using definitions in separate source files is to <i>include</i> them. This simply inserts the code in a given file into the current file:</p><pre class="highlight"><span class="paren1">(<span class="default">include <span class="string">&quot;FILENAME&quot;</span></span>)</span></pre><p>Macro definitions are only available when processed by <tt>include</tt> or <tt>import</tt>. Macro definitions in separate units are not available, since they are defined at compile time, i.e the time when that other unit was compiled (macros can optionally be available at runtime, see <tt>define-syntax</tt> in <a href="Non-standard%20macros%20and%20special%20forms.html">Substitution forms and macros</a>).</p><p>On platforms that support dynamic loading of compiled code (Windows, most ELF based systems like Linux or BSD, MacOS X, and others) code can be compiled into a shared object <tt>.dll</tt>, <tt>.so</tt>, <tt>.dylib</tt>) and loaded dynamically into a running application.</p><hr /><p>Previous: <a href="Getting%20started.html">Getting started</a></p><p>Next: <a href="Using%20the%20compiler.html">Using the compiler</a></p></div></div></body>