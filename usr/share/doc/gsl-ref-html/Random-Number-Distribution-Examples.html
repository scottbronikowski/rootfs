<html lang="en">
<head>
<title>Random Number Distribution Examples - GNU Scientific Library -- Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Scientific Library -- Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Random-Number-Distributions.html" title="Random Number Distributions">
<link rel="prev" href="Shuffling-and-Sampling.html" title="Shuffling and Sampling">
<link rel="next" href="Random-Number-Distribution-References-and-Further-Reading.html" title="Random Number Distribution References and Further Reading">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011 The GSL Team.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'' and ``Free Software
Needs Free Documentation'', the Front-Cover text being ``A GNU Manual'',
and with the Back-Cover Text being (a) (see below).  A copy of the
license is included in the section entitled ``GNU Free Documentation
License''.

(a) The Back-Cover Text is: ``You have the freedom to copy and modify this
GNU Manual.''-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Random-Number-Distribution-Examples"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Random-Number-Distribution-References-and-Further-Reading.html">Random Number Distribution References and Further Reading</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Shuffling-and-Sampling.html">Shuffling and Sampling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Random-Number-Distributions.html">Random Number Distributions</a>
<hr>
</div>

<h3 class="section">20.39 Examples</h3>

<p>The following program demonstrates the use of a random number generator
to produce variates from a distribution.  It prints 10 samples from the
Poisson distribution with a mean of 3.

<pre class="example"><pre class="verbatim">     #include &lt;stdio.h>
     #include &lt;gsl/gsl_rng.h>
     #include &lt;gsl/gsl_randist.h>
     
     int
     main (void)
     {
       const gsl_rng_type * T;
       gsl_rng * r;
     
       int i, n = 10;
       double mu = 3.0;
     
       /* create a generator chosen by the 
          environment variable GSL_RNG_TYPE */
     
       gsl_rng_env_setup();
     
       T = gsl_rng_default;
       r = gsl_rng_alloc (T);
     
       /* print n random variates chosen from 
          the poisson distribution with mean 
          parameter mu */
     
       for (i = 0; i &lt; n; i++) 
         {
           unsigned int k = gsl_ran_poisson (r, mu);
           printf (" %u", k);
         }
     
       printf ("\n");
       gsl_rng_free (r);
       return 0;
     }
</pre></pre>
   <p class="noindent">If the library and header files are installed under <samp><span class="file">/usr/local</span></samp>
(the default location) then the program can be compiled with these
options,

<pre class="example">     $ gcc -Wall demo.c -lgsl -lgslcblas -lm
</pre>
   <p class="noindent">Here is the output of the program,

<pre class="example">     $ ./a.out
<pre class="verbatim">      2 5 5 2 1 0 3 4 1 1
</pre></pre>
   <p class="noindent">The variates depend on the seed used by the generator.  The seed for the
default generator type <code>gsl_rng_default</code> can be changed with the
<code>GSL_RNG_SEED</code> environment variable to produce a different stream
of variates,

<pre class="example">     $ GSL_RNG_SEED=123 ./a.out
<pre class="verbatim">     GSL_RNG_SEED=123
      4 5 6 3 3 1 4 2 5 5
</pre></pre>
   <p class="noindent">The following program generates a random walk in two dimensions.

<pre class="example"><pre class="verbatim">     #include &lt;stdio.h>
     #include &lt;gsl/gsl_rng.h>
     #include &lt;gsl/gsl_randist.h>
     
     int
     main (void)
     {
       int i;
       double x = 0, y = 0, dx, dy;
     
       const gsl_rng_type * T;
       gsl_rng * r;
     
       gsl_rng_env_setup();
       T = gsl_rng_default;
       r = gsl_rng_alloc (T);
     
       printf ("%g %g\n", x, y);
     
       for (i = 0; i &lt; 10; i++)
         {
           gsl_ran_dir_2d (r, &amp;dx, &amp;dy);
           x += dx; y += dy; 
           printf ("%g %g\n", x, y);
         }
     
       gsl_rng_free (r);
       return 0;
     }
</pre></pre>
   <p class="noindent">Here is some output from the program, four 10-step random walks from the origin,

   <p>The following program computes the upper and lower cumulative
distribution functions for the standard normal distribution at
x=2.

<pre class="example"><pre class="verbatim">     #include &lt;stdio.h>
     #include &lt;gsl/gsl_cdf.h>
     
     int
     main (void)
     {
       double P, Q;
       double x = 2.0;
     
       P = gsl_cdf_ugaussian_P (x);
       printf ("prob(x &lt; %f) = %f\n", x, P);
     
       Q = gsl_cdf_ugaussian_Q (x);
       printf ("prob(x > %f) = %f\n", x, Q);
     
       x = gsl_cdf_ugaussian_Pinv (P);
       printf ("Pinv(%f) = %f\n", P, x);
     
       x = gsl_cdf_ugaussian_Qinv (Q);
       printf ("Qinv(%f) = %f\n", Q, x);
     
       return 0;
     }
</pre></pre>
   <p class="noindent">Here is the output of the program,

<pre class="example"><pre class="verbatim">     prob(x &lt; 2.000000) = 0.977250
     prob(x > 2.000000) = 0.022750
     Pinv(0.977250) = 2.000000
     Qinv(0.022750) = 2.000000
</pre></pre>
<hr>The GNU Scientific Library - a free numerical library licensed under the GNU GPL<br>Back to the <a href="/software/gsl/">GNU Scientific Library Homepage</a></body></html>

