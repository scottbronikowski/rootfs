<html lang="en">
<head>
<title>Error Handlers - GNU Scientific Library -- Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Scientific Library -- Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Error-Handling.html" title="Error Handling">
<link rel="prev" href="Error-Codes.html" title="Error Codes">
<link rel="next" href="Using-GSL-error-reporting-in-your-own-functions.html" title="Using GSL error reporting in your own functions">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011 The GSL Team.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'' and ``Free Software
Needs Free Documentation'', the Front-Cover text being ``A GNU Manual'',
and with the Back-Cover Text being (a) (see below).  A copy of the
license is included in the section entitled ``GNU Free Documentation
License''.

(a) The Back-Cover Text is: ``You have the freedom to copy and modify this
GNU Manual.''-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Error-Handlers"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Using-GSL-error-reporting-in-your-own-functions.html">Using GSL error reporting in your own functions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Error-Codes.html">Error Codes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Error-Handling.html">Error Handling</a>
<hr>
</div>

<h3 class="section">3.3 Error Handlers</h3>

<p><a name="index-Error-handlers-60"></a>
The default behavior of the GSL error handler is to print a short
message and call <code>abort</code>.  When this default is in use programs
will stop with a core-dump whenever a library routine reports an error. 
This is intended as a fail-safe default for programs which do not check
the return status of library routines (we don't encourage you to write
programs this way).

   <p>If you turn off the default error handler it is your responsibility to
check the return values of routines and handle them yourself.  You can
also customize the error behavior by providing a new error handler. For
example, an alternative error handler could log all errors to a file,
ignore certain error conditions (such as underflows), or start the
debugger and attach it to the current process when an error occurs.

   <p>All GSL error handlers have the type <code>gsl_error_handler_t</code>, which is
defined in <samp><span class="file">gsl_errno.h</span></samp>,

<div class="defun">
&mdash; Data Type: <b>gsl_error_handler_t</b><var><a name="index-gsl_005ferror_005fhandler_005ft-61"></a></var><br>
<blockquote>
        <p>This is the type of GSL error handler functions.  An error handler will
be passed four arguments which specify the reason for the error (a
string), the name of the source file in which it occurred (also a
string), the line number in that file (an integer) and the error number
(an integer).  The source file and line number are set at compile time
using the <code>__FILE__</code> and <code>__LINE__</code> directives in the
preprocessor.  An error handler function returns type <code>void</code>. 
Error handler functions should be defined like this,

     <pre class="example">          void handler (const char * reason,
                        const char * file,
                        int line,
                        int gsl_errno)
</pre>
        </blockquote></div>

<p class="noindent">To request the use of your own error handler you need to call the
function <code>gsl_set_error_handler</code> which is also declared in
<samp><span class="file">gsl_errno.h</span></samp>,

<div class="defun">
&mdash; Function: gsl_error_handler_t * <b>gsl_set_error_handler</b> (<var>gsl_error_handler_t * new_handler</var>)<var><a name="index-gsl_005fset_005ferror_005fhandler-62"></a></var><br>
<blockquote>
        <p>This function sets a new error handler, <var>new_handler</var>, for the GSL
library routines.  The previous handler is returned (so that you can
restore it later).  Note that the pointer to a user defined error
handler function is stored in a static variable, so there can be only
one error handler per program.  This function should be not be used in
multi-threaded programs except to set up a program-wide error handler
from a master thread.  The following example shows how to set and
restore a new error handler,

     <pre class="example">          /* save original handler, install new handler */
          old_handler = gsl_set_error_handler (&amp;my_handler);
          
          /* code uses new handler */
          .....
          
          /* restore original handler */
          gsl_set_error_handler (old_handler);
</pre>
        <p class="noindent">To use the default behavior (<code>abort</code> on error) set the error
handler to <code>NULL</code>,

     <pre class="example">          old_handler = gsl_set_error_handler (NULL);
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Function: gsl_error_handler_t * <b>gsl_set_error_handler_off</b> ()<var><a name="index-gsl_005fset_005ferror_005fhandler_005foff-63"></a></var><br>
<blockquote><p>This function turns off the error handler by defining an error handler
which does nothing. This will cause the program to continue after any
error, so the return values from any library routines must be checked. 
This is the recommended behavior for production programs.  The previous
handler is returned (so that you can restore it later). 
</p></blockquote></div>

   <p>The error behavior can be changed for specific applications by
recompiling the library with a customized definition of the
<code>GSL_ERROR</code> macro in the file <samp><span class="file">gsl_errno.h</span></samp>.

<hr>The GNU Scientific Library - a free numerical library licensed under the GNU GPL<br>Back to the <a href="/software/gsl/">GNU Scientific Library Homepage</a></body></html>

