<html lang="en">
<head>
<title>Shuffling and Sampling - GNU Scientific Library -- Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Scientific Library -- Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Random-Number-Distributions.html" title="Random Number Distributions">
<link rel="prev" href="The-Logarithmic-Distribution.html" title="The Logarithmic Distribution">
<link rel="next" href="Random-Number-Distribution-Examples.html" title="Random Number Distribution Examples">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011 The GSL Team.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being ``GNU General Public License'' and ``Free Software
Needs Free Documentation'', the Front-Cover text being ``A GNU Manual'',
and with the Back-Cover Text being (a) (see below).  A copy of the
license is included in the section entitled ``GNU Free Documentation
License''.

(a) The Back-Cover Text is: ``You have the freedom to copy and modify this
GNU Manual.''-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Shuffling-and-Sampling"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Random-Number-Distribution-Examples.html">Random Number Distribution Examples</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="The-Logarithmic-Distribution.html">The Logarithmic Distribution</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Random-Number-Distributions.html">Random Number Distributions</a>
<hr>
</div>

<h3 class="section">20.38 Shuffling and Sampling</h3>

<p>The following functions allow the shuffling and sampling of a set of
objects.  The algorithms rely on a random number generator as a source of
randomness and a poor quality generator can lead to correlations in the
output.  In particular it is important to avoid generators with a short
period.  For more information see Knuth, v2, 3rd ed, Section 3.4.2,
&ldquo;Random Sampling and Shuffling&rdquo;.

<div class="defun">
&mdash; Function: void <b>gsl_ran_shuffle</b> (<var>const gsl_rng * r, void * base, size_t n, size_t size</var>)<var><a name="index-gsl_005fran_005fshuffle-1918"></a></var><br>
<blockquote>
        <p>This function randomly shuffles the order of <var>n</var> objects, each of
size <var>size</var>, stored in the array <var>base</var>[0..<var>n</var>-1].  The
output of the random number generator <var>r</var> is used to produce the
permutation.  The algorithm generates all possible n! 
permutations with equal probability, assuming a perfect source of random
numbers.

        <p>The following code shows how to shuffle the numbers from 0 to 51,

     <pre class="example">          int a[52];
          
          for (i = 0; i &lt; 52; i++)
            {
              a[i] = i;
            }
          
          gsl_ran_shuffle (r, a, 52, sizeof (int));
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Function: int <b>gsl_ran_choose</b> (<var>const gsl_rng * r, void * dest, size_t k, void * src, size_t n, size_t size</var>)<var><a name="index-gsl_005fran_005fchoose-1919"></a></var><br>
<blockquote><p>This function fills the array <var>dest</var>[k] with <var>k</var> objects taken
randomly from the <var>n</var> elements of the array
<var>src</var>[0..<var>n</var>-1].  The objects are each of size <var>size</var>.  The
output of the random number generator <var>r</var> is used to make the
selection.  The algorithm ensures all possible samples are equally
likely, assuming a perfect source of randomness.

        <p>The objects are sampled <em>without</em> replacement, thus each object can
only appear once in <var>dest</var>[k].  It is required that <var>k</var> be less
than or equal to <code>n</code>.  The objects in <var>dest</var> will be in the
same relative order as those in <var>src</var>.  You will need to call
<code>gsl_ran_shuffle(r, dest, n, size)</code> if you want to randomize the
order.

        <p>The following code shows how to select a random sample of three unique
numbers from the set 0 to 99,

     <pre class="example">          double a[3], b[100];
          
          for (i = 0; i &lt; 100; i++)
            {
              b[i] = (double) i;
            }
          
          gsl_ran_choose (r, a, 3, b, 100, sizeof (double));
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Function: void <b>gsl_ran_sample</b> (<var>const gsl_rng * r, void * dest, size_t k, void * src, size_t n, size_t size</var>)<var><a name="index-gsl_005fran_005fsample-1920"></a></var><br>
<blockquote><p>This function is like <code>gsl_ran_choose</code> but samples <var>k</var> items
from the original array of <var>n</var> items <var>src</var> with replacement, so
the same object can appear more than once in the output sequence
<var>dest</var>.  There is no requirement that <var>k</var> be less than <var>n</var>
in this case. 
</p></blockquote></div>

<hr>The GNU Scientific Library - a free numerical library licensed under the GNU GPL<br>Back to the <a href="/software/gsl/">GNU Scientific Library Homepage</a></body></html>

