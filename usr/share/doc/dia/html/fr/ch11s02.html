<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>11.2. Forme</title><link rel="stylesheet" type="text/css" href="css/dia.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.76.1" /><link rel="home" href="index.html" title="Dia" /><link rel="up" href="ch11.html" title="Chapitre 11. Module Custom Shape" /><link rel="prev" href="ch11.html" title="Chapitre 11. Module Custom Shape" /><link rel="next" href="ch11s03.html" title="11.3. Description de forme" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.2. Forme</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch11.html">Précédent</a> </td><th width="60%" align="center">Chapitre 11. Module Custom Shape</th><td width="20%" align="right"> <a accesskey="n" href="ch11s03.html">Suivant</a></td></tr></table><hr /></div><div class="sect1" title="11.2. Forme"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="custom-shapes-shapes">11.2. Forme</h2></div></div></div><p>
        Un fichier de forme typique peut ressembler à ceci :
    </p><div class="literallayout"><p><br />
    <code class="literal"><br />
  &lt;?xml version="1.0"?&gt;<br />
<br />
  &lt;shape xmlns="http://www.daa.com.au/~james/dia-shape-ns"<br />
         xmlns:svg="http://www.w3.org/2000/svg"&gt;<br />
    &lt;name&gt;Circuit with identifiers - NPN Transistor&lt;/name&gt;<br />
    &lt;icon&gt;npn.xpm&lt;/icon&gt;<br />
    &lt;connections&gt;<br />
      &lt;point x="0" y="0"/&gt;<br />
      &lt;point x="6" y="-4"/&gt;<br />
      &lt;point x="6" y="4"/&gt;<br />
    &lt;/connections&gt;<br />
<br />
    &lt;aspectratio type="fixed"/&gt;<br />
<br />
    &lt;textbox x1="4" y1="-3" x2="12" y2="3" /&gt;<br />
<br />
    &lt;svg:svg&gt;<br />
      &lt;svg:line x1="0" y1="0" x2="3" y2="0" /&gt;<br />
      &lt;svg:line x1="3" y1="-3" x2="3" y2="3" /&gt;<br />
      &lt;svg:line x1="3" y1="-2" x2="6" y2="-4" /&gt;<br />
      &lt;svg:line x1="3" y1="2" x2="6" y2="4" /&gt;<br />
<br />
      &lt;svg:polyline points="5,4 6,4 5.6154,3.0769" /&gt;<br />
    &lt;/svg:svg&gt;<br />
<br />
  &lt;/shape&gt;<br />
    </code><br />
    </p></div><p>
    </p><p>
        Seuls les éléments « <code class="literal">name</code> » et 
        « <code class="literal">svg</code> » sont requis dans le
        fichier shape. Le reste est optionnel.
    </p><p>
        L'élément <code class="literal">name</code> donne le nom de l'objet. 
        Le nom est l'identifiant
        unique de cette forme, utilisé pour le chargement et l'enregistrement.
    </p><p>
        Comme dans cet exemple, vous pouvez utiliser des « noms
        composés ».
        Beaucoup de formes ont pour première partie de leur nom le
        nom de la feuille (sheet) dans laquelle elles apparaissent, mais
        c'est optionnel.
    </p><p>
        L'élément « <code class="literal">icon</code> » spécifie un 
        fichier xpm ou png utilisé comme
        icône dans la Boîte à outils Dia. Le nom de fichier peut être
        relatif au fichier de forme (le chemin peut...). Si
        cet élément n'est pas précisé,
        une icône par défault sera
        utilisée pour les formes personnalisées.
    </p><p>
        La section « <code class="literal">connections</code> »
        spécifie un jeu de points de
        connexion pour la forme. Le repère de coordonnées pour ces
        points est le même que le repère utilisé dans la description svg
        de la forme.
    </p><p>
        L'élément « <code class="literal">aspectratio</code> » 
        vous permet de spécifier
        quelles proportions
        de la forme peuvent être modifiées. Les trois possibilités
        sont :
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
    <code class="literal">&lt;aspectratio type="free"/&gt;</code>
    : tout ratio de proportions autorisé (le defaut)
    </li><li class="listitem">
    <code class="literal">&lt;aspectratio type="fixed"/&gt;</code>
    : la proportion est fixe.
    </li><li class="listitem">
    <code class="literal">&lt;aspectratio type="range" min="n" max="m"/&gt;</code>
    : Donne une plage de valeurs.
    </li></ul></div><p>
        La dernière option vous permet de spécifier une plage des valeurs
        de déformation, ce qui peut être utile dans certains cas.
    </p><p>
        L'élément <code class="literal">textbox</code> vous permet 
        d'associer du texte[1] à la forme.
        La syntaxe est :
    </p><div class="literallayout"><p><br />
    <code class="literal"><br />
   &lt;textbox x1="left" y1="top" x2="right" y2="bottom"/&gt;<br />
    </code><br />
    </p></div><p>
        (seulement une textbox par forme) où les attributs donnent les
        limites de la boîte de texte dans le même repère que la
        description SVG de la forme.
    </p><p>
	À leur création, les formes ont une taille par défaut.
	Si leur dimension ne correspond pas à vos besoins, vous
	pouvez remplacer celles-ci par l'une ou les deux directives:
	</p><table border="0" summary="Simple list" class="simplelist"><tr><td><code class="literal"> &lt;default-width&gt;1cm&lt;/default-width&gt; </code></td></tr><tr><td><code class="literal"> &lt;default-height&gt;1cm&lt;/default-height&gt;  </code></td></tr></table><p>
    </p><p>
        L'élément <code class="literal">svg</code> décrit la forme.
        les attributs width et height
        sont ignorés, et donnés seulement pour compatibilité avec la
        spécification SVG. voir les pages du W3C à-propos du format à 
        l'adresse :
        <a class="ulink" href="http://www.w3.org/Graphics/SVG" target="_top">http://www.w3.org/Graphics/SVG</a>
     </p><p>
        La section suivante détaille quelles parties de la spécification
        SVG peuvent être utilisées dans un fichier shape.
     </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch11.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="ch11.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="ch11s03.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">Chapitre 11. Module Custom Shape </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 11.3. Description de forme</td></tr></table></div></body></html>
