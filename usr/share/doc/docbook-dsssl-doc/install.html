<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Installation and Setup</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="The Modular DocBook Stylesheets"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Other Documentation"
HREF="otherdoc.html"><LINK
REL="NEXT"
TITLE="Customizing the Stylesheets"
HREF="custom.html"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The Modular DocBook Stylesheets</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="otherdoc.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="custom.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="INSTALL"
></A
>Chapter 2. Installation and Setup</H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A
HREF="install.html#INSTJADE"
>Installing Jade</A
></DT
><DT
><A
HREF="install.html#INSTDOCBOOK"
>Installing the DocBook DTD</A
></DT
><DT
><A
HREF="install.html#INSTMDS"
>Installing the Modular DocBook Stylesheets</A
></DT
></DL
></DIV
><P
>In order to process DocBook documents with these stylesheets,
you must get three separate components installed and configured correctly:</P
><P
></P
><UL
><LI
><P
><A
HREF="http://www.jclark.com/jade/"
TARGET="_top"
>Jade</A
> (or
another DSSSL processor)</P
></LI
><LI
><P
>The
<A
HREF="http://www.oasis-open.org/docbook/"
TARGET="_top"
>DocBook DTD</A
>.</P
></LI
><LI
><P
>The <A
HREF="http://sourceforge.net/projects/docbook/"
TARGET="_top"
>The Modular DocBook Stylesheets</A
></P
></LI
></UL
><P
>For simplicity, these instructions assume that you are working with
Jade on a Microsoft Windows machine. These instructions should be just as
useful if you are working on a non-M$ platform, modulo the normal cross-platform
idiosyncracies (path and filename separator characters, use of drive letters,
etc.)</P
><P
>If you are using another DSSSL processor, <A
HREF="install.html#INSTDOCBOOK"
>the Section called <I
>Installing the DocBook DTD</I
></A
>
may still be helpful, but most of the rest probably won't apply.</P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="INSTJADE"
>Installing Jade</A
></H1
><DIV
CLASS="PROCEDURE"
><OL
TYPE="1"
><LI
CLASS="STEP"
><P
>Download and unpack the <A
HREF="http://www.jclark.com/jade/"
TARGET="_top"
>Jade</A
> distribution. Binary distributions are available for some platforms,
including Microsoft Windows, which makes installation a simple matter of unpacking
the distribution. For other platforms, you will need to build Jade from sources.
Please consult the documentation that comes with Jade for more detailed installation
instructions.</P
><P
>You may wish to add the directory where you installed Jade to your <CODE
CLASS="ENVAR"
>PATH</CODE
>. If not, make sure that you use the fully qualified name of the
executable when you try to run the commands below.</P
></LI
><LI
CLASS="STEP"
><P
>Download <A
HREF="testdata/jtest.sgm"
TARGET="_top"
>jtest.sgm</A
> and <A
HREF="testdata/jtest.dsl"
TARGET="_top"
>jtest.dsl</A
>. These are self-contained test
documents. Test Jade by running:</P
><PRE
CLASS="SCREEN"
>jade -t rtf -d jtest.dsl jtest.sgm</PRE
><P
>This command should silently produce <A
HREF="testdata/jtest.rtf"
TARGET="_top"
>jtest.rtf</A
>.</P
><P
>If you get errors of the form:<PRE
CLASS="SCREEN"
>jade:jtest.dsl:1:72:W: cannot generate system identifier for public
text "-//James Clark//DTD DSSSL Style Sheet//EN"
jade:jtest.dsl:1:72:E: reference to entity "STYLE-SHEET" for which no
system identifier could be generated
jade:jtest.dsl:1:0: entity was defined here
jade:jtest.dsl:1:72:E: DTD did not contain element declaration for
document type name
jade:jtest.dsl:2:12:E: element "STYLE-SHEET" undefined
jade:jtest.dsl:3:20:E: element "STYLE-SPECIFICATION" undefined
jade:jtest.dsl:4:25:E: element "STYLE-SPECIFICATION-BODY" undefined
jade:E: specification document does not have the DSSSL architecture
as a base architecture</PRE
></P
><P
>You probably need to setup the <CODE
CLASS="ENVAR"
>SGML_CATALOG_FILES</CODE
> path,
as described below.</P
></LI
><LI
CLASS="STEP"
><P
>If you encounter other warnings or errors, Jade is not installed
correctly.</P
></LI
></OL
></DIV
></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="INSTDOCBOOK"
>Installing the DocBook DTD</A
></H1
><DIV
CLASS="PROCEDURE"
><OL
TYPE="1"
><LI
CLASS="STEP"
><P
>Download and unpack the <A
HREF="http://www.ora.com/davenport/"
TARGET="_top"
>DocBook DTD</A
> distribution. Please consult the documentation that comes
with DocBook for more detailed installation instructions.</P
></LI
><LI
CLASS="STEP"
><P
>The DocBook DTD is composed of several modules. In order for SGML
tools on your system to find these modules, you will need to setup an <A
HREF="http://www.sgmlopen.org/"
TARGET="_top"
>SGML Open</A
> catalog file that maps the
public identifiers used in DocBook to local system identifiers. The DocBook
distribution comes with a default catalog called <TT
CLASS="FILENAME"
>docbook.cat</TT
>
which is probably sufficient.</P
><P
>Note, however, that Jade does not understand the <TT
CLASS="LITERAL"
>DTDDECL</TT
>
directive in catalog files and will issue a warning if you use <TT
CLASS="FILENAME"
>docbook.cat</TT
> unchanged.</P
></LI
><LI
CLASS="STEP"
><P
>In order to find your catalog files, Jade, nsgmlsu, and the other
tools in the Jade distribution examine the <CODE
CLASS="ENVAR"
>SGML_CATALOG_FILES</CODE
>
environment variable. This variable should contain a <CODE
CLASS="ENVAR"
>PATH</CODE
>-like
list of the catalog files on your system. I have combined the catalog from
the DocBook distribution and several other DTDs that I use frequently into
a single catalog in <TT
CLASS="FILENAME"
>d:/share/sgml/catalog</TT
>, so I set my <CODE
CLASS="ENVAR"
>SGML_CATALOG_FILES</CODE
> variable to:<PRE
CLASS="SCREEN"
>./catalog;d:/share/sgml/catalog;c:/jade/catalog;</PRE
>If you are using only Jade and the DocBook DTD on your system, this
setting should be sufficient:<PRE
CLASS="SCREEN"
>c:/docbook/docbook.cat;c:/jade/catalog</PRE
>assuming that you have the DocBook DTD installed in <TT
CLASS="FILENAME"
>c:\docbook</TT
> and Jade installed in <TT
CLASS="FILENAME"
>c:\jade</TT
>.</P
><P
>Note: If you are on a UNIX system, the catalog file separator in <CODE
CLASS="ENVAR"
>SGML_CATALOG_FILES</CODE
> is the colon, not the semicolon.</P
><P
>One mistake that I frequently make the first time I try to install Jade
somewhere new is to set the <CODE
CLASS="ENVAR"
>SGML_CATALOG_FILES</CODE
> variable to
the list of <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>directories</I
></SPAN
> that contain catalog files rather
than the list of catalog files. That doesn' t work, it has to be a list of
the actual catalog <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>files</I
></SPAN
>.</P
><P
>Another wrinkle to be aware of is that Jade will also search the catalog
files for the <TT
CLASS="LITERAL"
>SGMLDECL</TT
> entry which specifies the default <A
HREF="http://www.oasis-open.org/cover/wlw11.html"
TARGET="_top"
>SGML Declaration</A
> to use.
On my system, I have several doctypes that don't use the declaration identified
as the default in one of my catalog files, so I have to explicitly include
the proper declaration when I format those documents.</P
></LI
><LI
CLASS="STEP"
><A
NAME="DBTEST"
></A
><P
>To test your installation, download <A
HREF="testdata/test.sgm"
TARGET="_top"
>test.sgm</A
> and run following command:<PRE
CLASS="SCREEN"
>nsgmls -sv test.sgm</PRE
>The <B
CLASS="COMMAND"
>nsgmls</B
> program is a stand-alone SGML parser included in the current
Jade distribution (in previous distributions, it was called <B
CLASS="COMMAND"
>nsgmlsu</B
>).</P
><P
>If the <B
CLASS="COMMAND"
>nsgmls</B
> command produces errors, review your
catalog and resolve the errors:<P
></P
><UL
><LI
><P
>Ignore warnings about <TT
CLASS="LITERAL"
>DTDDECL</TT
> being unsupported.
It is unsupported, and there's no way to disable the warning message. Note,
however, that this may also effect which SGML declaration gets used. When
in doubt, pass the correct declaration explicitly and see if that corrects
any problems. (To parse <TT
CLASS="FILENAME"
>test.sgm</TT
> with the declaration <TT
CLASS="FILENAME"
>docbook.dcl</TT
> explicitly, run <B
CLASS="COMMAND"
>nsgmls -sv docbook.dcl test.sgm</B
>.)</P
></LI
><LI
><P
>If you are missing some of the <ACRONYM
CLASS="ACRONYM"
>ISO</ACRONYM
> entity
sets, they are available on the web at <A
HREF="http://www.oasis-open.org/cover/topics.html#entities"
TARGET="_top"
>http://www.oasis-open.org/cover/topics.html#entities</A
></P
></LI
></UL
></P
></LI
></OL
></DIV
></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="INSTMDS"
>Installing the Modular DocBook Stylesheets</A
></H1
><DIV
CLASS="PROCEDURE"
><OL
TYPE="1"
><LI
CLASS="STEP"
><P
>Download and unpack the
<A
HREF="http://sourceforge.net/projects/docbook/"
TARGET="_top"
>stylesheet</A
>
distribution.</P
></LI
><LI
CLASS="STEP"
><P
>Test the installation by processing <TT
CLASS="FILENAME"
>test.sgm</TT
>
(from the <A
HREF="install.html#DBTEST"
>previous section)</A
> with Jade:<PRE
CLASS="SCREEN"
>jade -t rtf -d d:\where-you-unpacked-the-stylesheets\docbook\print\docbook.dsl test.sgm</PRE
> </P
><P
>This command should silently produce <A
HREF="testdata/test.rtf"
TARGET="_top"
><TT
CLASS="FILENAME"
>test.rtf</TT
></A
>.</P
><P
>If you get errors indicating that a capacity has been exceeded (<TT
CLASS="LITERAL"
>...must not exceed LITLEN</TT
> or <TT
CLASS="LITERAL"
>...must not exceed GRPCNT</TT
>, etc.), you are probably using the wrong declaration. Try the test
again, with an explicit declaration:<PRE
CLASS="SCREEN"
>jade -t rtf -d d:\where-you-unpacked-the-stylesheets\docbook\print\docbook.dsl docbook.dcl test.sgm</PRE
></P
><P
>If errors persist, and the <A
HREF="install.html#DBTEST"
>preceding test</A
>
succeeded, something has gone wrong&mdash;<A
HREF="http://nwalsh.com/~ndw/contact.html"
TARGET="_top"
>contact the maintainer</A
>.</P
><P
>To test the HTML stylesheet, run<PRE
CLASS="SCREEN"
>jade -t sgml -d d:\where-you-unpacked-the-stylesheets\docbook\html\docbook.dsl test.sgm</PRE
></P
><P
>This command should silently produce <A
HREF="testdata/c01.htm"
TARGET="_top"
><TT
CLASS="FILENAME"
>c01.htm</TT
></A
>. If not, and the preceding test succeeded, something
has gone wrong&mdash;<A
HREF="http://nwalsh.com/~ndw/contact.html"
TARGET="_top"
>contact
the maintainer</A
>.</P
></LI
></OL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="otherdoc.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="custom.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Other Documentation</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Customizing the Stylesheets</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>