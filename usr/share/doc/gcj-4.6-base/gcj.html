<html lang="en">
<head>
<title>Guide to GNU gcj</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Guide to GNU gcj">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2010 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, the Front-Cover Texts being (a) (see below), and
with the Back-Cover Texts being (b) (see below).
A copy of the license is included in the
section entitled "GNU Free Documentation License".


(a) The FSF's Front-Cover Text is:

     A GNU Manual

(b) The FSF's Back-Cover Text is:

     You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development.
-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<h1 class="settitle">Guide to GNU gcj</h1>
<div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top">Introduction</a>
<li><a name="toc_Copying" href="#Copying">GNU General Public License</a>
<li><a name="toc_GNU-Free-Documentation-License" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>
<ul>
<li><a href="#GNU-Free-Documentation-License">ADDENDUM: How to use this License for your documents</a>
</li></ul>
<li><a name="toc_Invoking-gcj" href="#Invoking-gcj">1 Invoking gcj</a>
<ul>
<li><a href="#Input-and-output-files">1.1 Input and output files</a>
<li><a href="#Input-Options">1.2 Input Options</a>
<li><a href="#Encodings">1.3 Encodings</a>
<li><a href="#Warnings">1.4 Warnings</a>
<li><a href="#Linking">1.5 Linking</a>
<li><a href="#Code-Generation">1.6 Code Generation</a>
<li><a href="#Configure_002dtime-Options">1.7 Configure-time Options</a>
</li></ul>
<li><a name="toc_Compatibility" href="#Compatibility">2 Compatibility with the Java Platform</a>
<ul>
<li><a href="#Limitations">2.1 Standard features not yet supported</a>
<li><a href="#Extensions">2.2 Extra features unique to gcj</a>
</li></ul>
<li><a name="toc_Invoking-jcf_002ddump" href="#Invoking-jcf_002ddump">3 Invoking jcf-dump</a>
<li><a name="toc_Invoking-gij" href="#Invoking-gij">4 Invoking gij</a>
<li><a name="toc_Invoking-gcj_002ddbtool" href="#Invoking-gcj_002ddbtool">5 Invoking gcj-dbtool.</a>
<li><a name="toc_Invoking-jv_002dconvert" href="#Invoking-jv_002dconvert">6 Invoking jv-convert</a>
<li><a name="toc_Invoking-grmic" href="#Invoking-grmic">7 Invoking grmic</a>
<li><a name="toc_Invoking-gc_002danalyze" href="#Invoking-gc_002danalyze">8 Invoking gc-analyze</a>
<li><a name="toc_Invoking-aot_002dcompile" href="#Invoking-aot_002dcompile">9 Invoking aot-compile</a>
<li><a name="toc_Invoking-rebuild_002dgcj_002ddb" href="#Invoking-rebuild_002dgcj_002ddb">10 Invoking rebuild-gcj-db</a>
<li><a name="toc_About-CNI" href="#About-CNI">11 About CNI</a>
<ul>
<li><a href="#Basic-concepts">11.1 Basic concepts</a>
<ul>
<li><a href="#Basic-concepts">11.1.1 Limitations</a>
</li></ul>
<li><a href="#Packages">11.2 Packages</a>
<ul>
<li><a href="#Packages">11.2.1 Leaving out package names</a>
</li></ul>
<li><a href="#Primitive-types">11.3 Primitive types</a>
<ul>
<li><a href="#Primitive-types">11.3.1 Reference types associated with primitive types</a>
</li></ul>
<li><a href="#Reference-types">11.4 Reference types</a>
<li><a href="#Interfaces">11.5 Interfaces</a>
<li><a href="#Objects-and-Classes">11.6 Objects and Classes</a>
<ul>
<li><a href="#Objects-and-Classes">11.6.1 Classes</a>
<li><a href="#Objects-and-Classes">11.6.2 Object fields</a>
<li><a href="#Objects-and-Classes">11.6.3 Access specifiers</a>
</li></ul>
<li><a href="#Class-Initialization">11.7 Class Initialization</a>
<li><a href="#Object-allocation">11.8 Object allocation</a>
<li><a href="#Memory-allocation">11.9 Memory allocation</a>
<li><a href="#Arrays">11.10 Arrays</a>
<ul>
<li><a href="#Arrays">11.10.1 Creating arrays</a>
</li></ul>
<li><a href="#Methods">11.11 Methods</a>
<ul>
<li><a href="#Methods">11.11.1 Overloading</a>
<li><a href="#Methods">11.11.2 Static methods</a>
<li><a href="#Methods">11.11.3 Object Constructors</a>
<li><a href="#Methods">11.11.4 Instance methods</a>
<li><a href="#Methods">11.11.5 Interface methods</a>
</li></ul>
<li><a href="#Strings">11.12 Strings</a>
<li><a href="#Mixing-with-C_002b_002b">11.13 Interoperating with C/C++</a>
<ul>
<li><a href="#Mixing-with-C_002b_002b">11.13.1 RawData</a>
<li><a href="#Mixing-with-C_002b_002b">11.13.2 RawDataManaged</a>
<li><a href="#Mixing-with-C_002b_002b">11.13.3 Native memory allocation</a>
<li><a href="#Mixing-with-C_002b_002b">11.13.4 Posix signals</a>
</li></ul>
<li><a href="#Exception-Handling">11.14 Exception Handling</a>
<li><a href="#Synchronization">11.15 Synchronization</a>
<li><a href="#Invocation">11.16 Invocation</a>
<ul>
<li><a href="#Invocation">11.16.1 Handling uncaught exceptions</a>
<li><a href="#Invocation">11.16.2 Example</a>
</li></ul>
<li><a href="#Reflection">11.17 Reflection</a>
</li></ul>
<li><a name="toc_System-properties" href="#System-properties">12 System properties</a>
<ul>
<li><a href="#Standard-Properties">12.1 Standard Properties</a>
<li><a href="#GNU-Classpath-Properties">12.2 GNU Classpath Properties</a>
<li><a href="#libgcj-Runtime-Properties">12.3 libgcj Runtime Properties</a>
</li></ul>
<li><a name="toc_Resources" href="#Resources">13 Resources</a>
<li><a name="toc_Index" href="#Index">Index</a>
</li></ul>
</div>



<div class="node">
<a name="Top"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Copying">Copying</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">Introduction</h2>

<p>This manual describes how to use <samp><span class="command">gcj</span></samp>, the GNU compiler for the
Java programming language.  <samp><span class="command">gcj</span></samp> can generate both <samp><span class="file">.class</span></samp>
files and object files, and it can read both Java source code and
<samp><span class="file">.class</span></samp> files.

<ul class="menu">
<li><a accesskey="1" href="#Copying">Copying</a>:              The GNU General Public License
<li><a accesskey="2" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>
                        How you can share and copy this manual
<li><a accesskey="3" href="#Invoking-gcj">Invoking gcj</a>:         Compiler options supported by <samp><span class="command">gcj</span></samp>
<li><a accesskey="4" href="#Compatibility">Compatibility</a>:        Compatibility between gcj and other tools for Java
<li><a accesskey="5" href="#Invoking-jcf_002ddump">Invoking jcf-dump</a>:    Print information about class files
<li><a accesskey="6" href="#Invoking-gij">Invoking gij</a>:         Interpreting Java bytecodes
<li><a accesskey="7" href="#Invoking-gcj_002ddbtool">Invoking gcj-dbtool</a>:  Tool for manipulating class file databases. 
<li><a accesskey="8" href="#Invoking-jv_002dconvert">Invoking jv-convert</a>:  Converting from one encoding to another
<li><a accesskey="9" href="#Invoking-grmic">Invoking grmic</a>:       Generate stubs for Remote Method Invocation. 
<li><a href="#Invoking-gc_002danalyze">Invoking gc-analyze</a>:  Analyze Garbage Collector (GC) memory dumps. 
<li><a href="#Invoking-aot_002dcompile">Invoking aot-compile</a>:  Compile bytecode to native and generate databases. 
<li><a href="#Invoking-rebuild_002dgcj_002ddb">Invoking rebuild-gcj-db</a>:  Merge the per-solib databases made by aot-compile
                            into one system-wide database. 
<li><a href="#About-CNI">About CNI</a>:            Description of the Compiled Native Interface
<li><a href="#System-properties">System properties</a>:    Modifying runtime behavior of the libgcj library
<li><a href="#Resources">Resources</a>:            Where to look for more information
<li><a href="#Index">Index</a>:                Index. 
</ul>

<div class="node">
<a name="Copying"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<!-- man begin DESCRIPTION -->
<h2 class="unnumbered">GNU General Public License</h2>

<div align="center">Version 3, 29 June 2007</div>

<!-- This file is intended to be included in another file. -->
<pre class="display">     Copyright &copy; 2007 Free Software Foundation, Inc. <a href="http://fsf.org/">http://fsf.org/</a>
     
     Everyone is permitted to copy and distribute verbatim copies of this
     license document, but changing it is not allowed.
</pre>
   <h3 class="heading">Preamble</h3>

<p>The GNU General Public License is a free, copyleft license for
software and other kinds of works.

   <p>The licenses for most software and other practical works are designed
to take away your freedom to share and change the works.  By contrast,
the GNU General Public License is intended to guarantee your freedom
to share and change all versions of a program&ndash;to make sure it remains
free software for all its users.  We, the Free Software Foundation,
use the GNU General Public License for most of our software; it
applies also to any other work released this way by its authors.  You
can apply it to your programs, too.

   <p>When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
them if you wish), that you receive source code or can get it if you
want it, that you can change the software or use pieces of it in new
free programs, and that you know you can do these things.

   <p>To protect your rights, we need to prevent others from denying you
these rights or asking you to surrender the rights.  Therefore, you
have certain responsibilities if you distribute copies of the
software, or if you modify it: responsibilities to respect the freedom
of others.

   <p>For example, if you distribute copies of such a program, whether
gratis or for a fee, you must pass on to the recipients the same
freedoms that you received.  You must make sure that they, too,
receive or can get the source code.  And you must show them these
terms so they know their rights.

   <p>Developers that use the GNU GPL protect your rights with two steps:
(1) assert copyright on the software, and (2) offer you this License
giving you legal permission to copy, distribute and/or modify it.

   <p>For the developers' and authors' protection, the GPL clearly explains
that there is no warranty for this free software.  For both users' and
authors' sake, the GPL requires that modified versions be marked as
changed, so that their problems will not be attributed erroneously to
authors of previous versions.

   <p>Some devices are designed to deny users access to install or run
modified versions of the software inside them, although the
manufacturer can do so.  This is fundamentally incompatible with the
aim of protecting users' freedom to change the software.  The
systematic pattern of such abuse occurs in the area of products for
individuals to use, which is precisely where it is most unacceptable. 
Therefore, we have designed this version of the GPL to prohibit the
practice for those products.  If such problems arise substantially in
other domains, we stand ready to extend this provision to those
domains in future versions of the GPL, as needed to protect the
freedom of users.

   <p>Finally, every program is threatened constantly by software patents. 
States should not allow patents to restrict development and use of
software on general-purpose computers, but in those that do, we wish
to avoid the special danger that patents applied to a free program
could make it effectively proprietary.  To prevent this, the GPL
assures that patents cannot be used to render the program non-free.

   <p>The precise terms and conditions for copying, distribution and
modification follow.

<h3 class="heading">TERMS AND CONDITIONS</h3>

     <ol type=1 start=0>
<li>Definitions.

     <p>&ldquo;This License&rdquo; refers to version 3 of the GNU General Public License.

     <p>&ldquo;Copyright&rdquo; also means copyright-like laws that apply to other kinds
of works, such as semiconductor masks.

     <p>&ldquo;The Program&rdquo; refers to any copyrightable work licensed under this
License.  Each licensee is addressed as &ldquo;you&rdquo;.  &ldquo;Licensees&rdquo; and
&ldquo;recipients&rdquo; may be individuals or organizations.

     <p>To &ldquo;modify&rdquo; a work means to copy from or adapt all or part of the work
in a fashion requiring copyright permission, other than the making of
an exact copy.  The resulting work is called a &ldquo;modified version&rdquo; of
the earlier work or a work &ldquo;based on&rdquo; the earlier work.

     <p>A &ldquo;covered work&rdquo; means either the unmodified Program or a work based
on the Program.

     <p>To &ldquo;propagate&rdquo; a work means to do anything with it that, without
permission, would make you directly or secondarily liable for
infringement under applicable copyright law, except executing it on a
computer or modifying a private copy.  Propagation includes copying,
distribution (with or without modification), making available to the
public, and in some countries other activities as well.

     <p>To &ldquo;convey&rdquo; a work means any kind of propagation that enables other
parties to make or receive copies.  Mere interaction with a user
through a computer network, with no transfer of a copy, is not
conveying.

     <p>An interactive user interface displays &ldquo;Appropriate Legal Notices&rdquo; to
the extent that it includes a convenient and prominently visible
feature that (1) displays an appropriate copyright notice, and (2)
tells the user that there is no warranty for the work (except to the
extent that warranties are provided), that licensees may convey the
work under this License, and how to view a copy of this License.  If
the interface presents a list of user commands or options, such as a
menu, a prominent item in the list meets this criterion.

     <li>Source Code.

     <p>The &ldquo;source code&rdquo; for a work means the preferred form of the work for
making modifications to it.  &ldquo;Object code&rdquo; means any non-source form
of a work.

     <p>A &ldquo;Standard Interface&rdquo; means an interface that either is an official
standard defined by a recognized standards body, or, in the case of
interfaces specified for a particular programming language, one that
is widely used among developers working in that language.

     <p>The &ldquo;System Libraries&rdquo; of an executable work include anything, other
than the work as a whole, that (a) is included in the normal form of
packaging a Major Component, but which is not part of that Major
Component, and (b) serves only to enable use of the work with that
Major Component, or to implement a Standard Interface for which an
implementation is available to the public in source code form.  A
&ldquo;Major Component&rdquo;, in this context, means a major essential component
(kernel, window system, and so on) of the specific operating system
(if any) on which the executable work runs, or a compiler used to
produce the work, or an object code interpreter used to run it.

     <p>The &ldquo;Corresponding Source&rdquo; for a work in object code form means all
the source code needed to generate, install, and (for an executable
work) run the object code and to modify the work, including scripts to
control those activities.  However, it does not include the work's
System Libraries, or general-purpose tools or generally available free
programs which are used unmodified in performing those activities but
which are not part of the work.  For example, Corresponding Source
includes interface definition files associated with source files for
the work, and the source code for shared libraries and dynamically
linked subprograms that the work is specifically designed to require,
such as by intimate data communication or control flow between those
subprograms and other parts of the work.

     <p>The Corresponding Source need not include anything that users can
regenerate automatically from other parts of the Corresponding Source.

     <p>The Corresponding Source for a work in source code form is that same
work.

     <li>Basic Permissions.

     <p>All rights granted under this License are granted for the term of
copyright on the Program, and are irrevocable provided the stated
conditions are met.  This License explicitly affirms your unlimited
permission to run the unmodified Program.  The output from running a
covered work is covered by this License only if the output, given its
content, constitutes a covered work.  This License acknowledges your
rights of fair use or other equivalent, as provided by copyright law.

     <p>You may make, run and propagate covered works that you do not convey,
without conditions so long as your license otherwise remains in force. 
You may convey covered works to others for the sole purpose of having
them make modifications exclusively for you, or provide you with
facilities for running those works, provided that you comply with the
terms of this License in conveying all material for which you do not
control copyright.  Those thus making or running the covered works for
you must do so exclusively on your behalf, under your direction and
control, on terms that prohibit them from making any copies of your
copyrighted material outside their relationship with you.

     <p>Conveying under any other circumstances is permitted solely under the
conditions stated below.  Sublicensing is not allowed; section 10
makes it unnecessary.

     <li>Protecting Users' Legal Rights From Anti-Circumvention Law.

     <p>No covered work shall be deemed part of an effective technological
measure under any applicable law fulfilling obligations under article
11 of the WIPO copyright treaty adopted on 20 December 1996, or
similar laws prohibiting or restricting circumvention of such
measures.

     <p>When you convey a covered work, you waive any legal power to forbid
circumvention of technological measures to the extent such
circumvention is effected by exercising rights under this License with
respect to the covered work, and you disclaim any intention to limit
operation or modification of the work as a means of enforcing, against
the work's users, your or third parties' legal rights to forbid
circumvention of technological measures.

     <li>Conveying Verbatim Copies.

     <p>You may convey verbatim copies of the Program's source code as you
receive it, in any medium, provided that you conspicuously and
appropriately publish on each copy an appropriate copyright notice;
keep intact all notices stating that this License and any
non-permissive terms added in accord with section 7 apply to the code;
keep intact all notices of the absence of any warranty; and give all
recipients a copy of this License along with the Program.

     <p>You may charge any price or no price for each copy that you convey,
and you may offer support or warranty protection for a fee.

     <li>Conveying Modified Source Versions.

     <p>You may convey a work based on the Program, or the modifications to
produce it from the Program, in the form of source code under the
terms of section 4, provided that you also meet all of these
conditions:

          <ol type=a start=1>
<li>The work must carry prominent notices stating that you modified it,
and giving a relevant date.

          <li>The work must carry prominent notices stating that it is released
under this License and any conditions added under section 7.  This
requirement modifies the requirement in section 4 to &ldquo;keep intact all
notices&rdquo;.

          <li>You must license the entire work, as a whole, under this License to
anyone who comes into possession of a copy.  This License will
therefore apply, along with any applicable section 7 additional terms,
to the whole of the work, and all its parts, regardless of how they
are packaged.  This License gives no permission to license the work in
any other way, but it does not invalidate such permission if you have
separately received it.

          <li>If the work has interactive user interfaces, each must display
Appropriate Legal Notices; however, if the Program has interactive
interfaces that do not display Appropriate Legal Notices, your work
need not make them do so.
          </ol>

     <p>A compilation of a covered work with other separate and independent
works, which are not by their nature extensions of the covered work,
and which are not combined with it such as to form a larger program,
in or on a volume of a storage or distribution medium, is called an
&ldquo;aggregate&rdquo; if the compilation and its resulting copyright are not
used to limit the access or legal rights of the compilation's users
beyond what the individual works permit.  Inclusion of a covered work
in an aggregate does not cause this License to apply to the other
parts of the aggregate.

     <li>Conveying Non-Source Forms.

     <p>You may convey a covered work in object code form under the terms of
sections 4 and 5, provided that you also convey the machine-readable
Corresponding Source under the terms of this License, in one of these
ways:

          <ol type=a start=1>
<li>Convey the object code in, or embodied in, a physical product
(including a physical distribution medium), accompanied by the
Corresponding Source fixed on a durable physical medium customarily
used for software interchange.

          <li>Convey the object code in, or embodied in, a physical product
(including a physical distribution medium), accompanied by a written
offer, valid for at least three years and valid for as long as you
offer spare parts or customer support for that product model, to give
anyone who possesses the object code either (1) a copy of the
Corresponding Source for all the software in the product that is
covered by this License, on a durable physical medium customarily used
for software interchange, for a price no more than your reasonable
cost of physically performing this conveying of source, or (2) access
to copy the Corresponding Source from a network server at no charge.

          <li>Convey individual copies of the object code with a copy of the written
offer to provide the Corresponding Source.  This alternative is
allowed only occasionally and noncommercially, and only if you
received the object code with such an offer, in accord with subsection
6b.

          <li>Convey the object code by offering access from a designated place
(gratis or for a charge), and offer equivalent access to the
Corresponding Source in the same way through the same place at no
further charge.  You need not require recipients to copy the
Corresponding Source along with the object code.  If the place to copy
the object code is a network server, the Corresponding Source may be
on a different server (operated by you or a third party) that supports
equivalent copying facilities, provided you maintain clear directions
next to the object code saying where to find the Corresponding Source. 
Regardless of what server hosts the Corresponding Source, you remain
obligated to ensure that it is available for as long as needed to
satisfy these requirements.

          <li>Convey the object code using peer-to-peer transmission, provided you
inform other peers where the object code and Corresponding Source of
the work are being offered to the general public at no charge under
subsection 6d.

          </ol>

     <p>A separable portion of the object code, whose source code is excluded
from the Corresponding Source as a System Library, need not be
included in conveying the object code work.

     <p>A &ldquo;User Product&rdquo; is either (1) a &ldquo;consumer product&rdquo;, which means any
tangible personal property which is normally used for personal,
family, or household purposes, or (2) anything designed or sold for
incorporation into a dwelling.  In determining whether a product is a
consumer product, doubtful cases shall be resolved in favor of
coverage.  For a particular product received by a particular user,
&ldquo;normally used&rdquo; refers to a typical or common use of that class of
product, regardless of the status of the particular user or of the way
in which the particular user actually uses, or expects or is expected
to use, the product.  A product is a consumer product regardless of
whether the product has substantial commercial, industrial or
non-consumer uses, unless such uses represent the only significant
mode of use of the product.

     <p>&ldquo;Installation Information&rdquo; for a User Product means any methods,
procedures, authorization keys, or other information required to
install and execute modified versions of a covered work in that User
Product from a modified version of its Corresponding Source.  The
information must suffice to ensure that the continued functioning of
the modified object code is in no case prevented or interfered with
solely because modification has been made.

     <p>If you convey an object code work under this section in, or with, or
specifically for use in, a User Product, and the conveying occurs as
part of a transaction in which the right of possession and use of the
User Product is transferred to the recipient in perpetuity or for a
fixed term (regardless of how the transaction is characterized), the
Corresponding Source conveyed under this section must be accompanied
by the Installation Information.  But this requirement does not apply
if neither you nor any third party retains the ability to install
modified object code on the User Product (for example, the work has
been installed in ROM).

     <p>The requirement to provide Installation Information does not include a
requirement to continue to provide support service, warranty, or
updates for a work that has been modified or installed by the
recipient, or for the User Product in which it has been modified or
installed.  Access to a network may be denied when the modification
itself materially and adversely affects the operation of the network
or violates the rules and protocols for communication across the
network.

     <p>Corresponding Source conveyed, and Installation Information provided,
in accord with this section must be in a format that is publicly
documented (and with an implementation available to the public in
source code form), and must require no special password or key for
unpacking, reading or copying.

     <li>Additional Terms.

     <p>&ldquo;Additional permissions&rdquo; are terms that supplement the terms of this
License by making exceptions from one or more of its conditions. 
Additional permissions that are applicable to the entire Program shall
be treated as though they were included in this License, to the extent
that they are valid under applicable law.  If additional permissions
apply only to part of the Program, that part may be used separately
under those permissions, but the entire Program remains governed by
this License without regard to the additional permissions.

     <p>When you convey a copy of a covered work, you may at your option
remove any additional permissions from that copy, or from any part of
it.  (Additional permissions may be written to require their own
removal in certain cases when you modify the work.)  You may place
additional permissions on material, added by you to a covered work,
for which you have or can give appropriate copyright permission.

     <p>Notwithstanding any other provision of this License, for material you
add to a covered work, you may (if authorized by the copyright holders
of that material) supplement the terms of this License with terms:

          <ol type=a start=1>
<li>Disclaiming warranty or limiting liability differently from the terms
of sections 15 and 16 of this License; or

          <li>Requiring preservation of specified reasonable legal notices or author
attributions in that material or in the Appropriate Legal Notices
displayed by works containing it; or

          <li>Prohibiting misrepresentation of the origin of that material, or
requiring that modified versions of such material be marked in
reasonable ways as different from the original version; or

          <li>Limiting the use for publicity purposes of names of licensors or
authors of the material; or

          <li>Declining to grant rights under trademark law for use of some trade
names, trademarks, or service marks; or

          <li>Requiring indemnification of licensors and authors of that material by
anyone who conveys the material (or modified versions of it) with
contractual assumptions of liability to the recipient, for any
liability that these contractual assumptions directly impose on those
licensors and authors.
          </ol>

     <p>All other non-permissive additional terms are considered &ldquo;further
restrictions&rdquo; within the meaning of section 10.  If the Program as you
received it, or any part of it, contains a notice stating that it is
governed by this License along with a term that is a further
restriction, you may remove that term.  If a license document contains
a further restriction but permits relicensing or conveying under this
License, you may add to a covered work material governed by the terms
of that license document, provided that the further restriction does
not survive such relicensing or conveying.

     <p>If you add terms to a covered work in accord with this section, you
must place, in the relevant source files, a statement of the
additional terms that apply to those files, or a notice indicating
where to find the applicable terms.

     <p>Additional terms, permissive or non-permissive, may be stated in the
form of a separately written license, or stated as exceptions; the
above requirements apply either way.

     <li>Termination.

     <p>You may not propagate or modify a covered work except as expressly
provided under this License.  Any attempt otherwise to propagate or
modify it is void, and will automatically terminate your rights under
this License (including any patent licenses granted under the third
paragraph of section 11).

     <p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

     <p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

     <p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, you do not qualify to receive new licenses for the same
material under section 10.

     <li>Acceptance Not Required for Having Copies.

     <p>You are not required to accept this License in order to receive or run
a copy of the Program.  Ancillary propagation of a covered work
occurring solely as a consequence of using peer-to-peer transmission
to receive a copy likewise does not require acceptance.  However,
nothing other than this License grants you permission to propagate or
modify any covered work.  These actions infringe copyright if you do
not accept this License.  Therefore, by modifying or propagating a
covered work, you indicate your acceptance of this License to do so.

     <li>Automatic Licensing of Downstream Recipients.

     <p>Each time you convey a covered work, the recipient automatically
receives a license from the original licensors, to run, modify and
propagate that work, subject to this License.  You are not responsible
for enforcing compliance by third parties with this License.

     <p>An &ldquo;entity transaction&rdquo; is a transaction transferring control of an
organization, or substantially all assets of one, or subdividing an
organization, or merging organizations.  If propagation of a covered
work results from an entity transaction, each party to that
transaction who receives a copy of the work also receives whatever
licenses to the work the party's predecessor in interest had or could
give under the previous paragraph, plus a right to possession of the
Corresponding Source of the work from the predecessor in interest, if
the predecessor has it or can get it with reasonable efforts.

     <p>You may not impose any further restrictions on the exercise of the
rights granted or affirmed under this License.  For example, you may
not impose a license fee, royalty, or other charge for exercise of
rights granted under this License, and you may not initiate litigation
(including a cross-claim or counterclaim in a lawsuit) alleging that
any patent claim is infringed by making, using, selling, offering for
sale, or importing the Program or any portion of it.

     <li>Patents.

     <p>A &ldquo;contributor&rdquo; is a copyright holder who authorizes use under this
License of the Program or a work on which the Program is based.  The
work thus licensed is called the contributor's &ldquo;contributor version&rdquo;.

     <p>A contributor's &ldquo;essential patent claims&rdquo; are all patent claims owned
or controlled by the contributor, whether already acquired or
hereafter acquired, that would be infringed by some manner, permitted
by this License, of making, using, or selling its contributor version,
but do not include claims that would be infringed only as a
consequence of further modification of the contributor version.  For
purposes of this definition, &ldquo;control&rdquo; includes the right to grant
patent sublicenses in a manner consistent with the requirements of
this License.

     <p>Each contributor grants you a non-exclusive, worldwide, royalty-free
patent license under the contributor's essential patent claims, to
make, use, sell, offer for sale, import and otherwise run, modify and
propagate the contents of its contributor version.

     <p>In the following three paragraphs, a &ldquo;patent license&rdquo; is any express
agreement or commitment, however denominated, not to enforce a patent
(such as an express permission to practice a patent or covenant not to
sue for patent infringement).  To &ldquo;grant&rdquo; such a patent license to a
party means to make such an agreement or commitment not to enforce a
patent against the party.

     <p>If you convey a covered work, knowingly relying on a patent license,
and the Corresponding Source of the work is not available for anyone
to copy, free of charge and under the terms of this License, through a
publicly available network server or other readily accessible means,
then you must either (1) cause the Corresponding Source to be so
available, or (2) arrange to deprive yourself of the benefit of the
patent license for this particular work, or (3) arrange, in a manner
consistent with the requirements of this License, to extend the patent
license to downstream recipients.  &ldquo;Knowingly relying&rdquo; means you have
actual knowledge that, but for the patent license, your conveying the
covered work in a country, or your recipient's use of the covered work
in a country, would infringe one or more identifiable patents in that
country that you have reason to believe are valid.

     <p>If, pursuant to or in connection with a single transaction or
arrangement, you convey, or propagate by procuring conveyance of, a
covered work, and grant a patent license to some of the parties
receiving the covered work authorizing them to use, propagate, modify
or convey a specific copy of the covered work, then the patent license
you grant is automatically extended to all recipients of the covered
work and works based on it.

     <p>A patent license is &ldquo;discriminatory&rdquo; if it does not include within the
scope of its coverage, prohibits the exercise of, or is conditioned on
the non-exercise of one or more of the rights that are specifically
granted under this License.  You may not convey a covered work if you
are a party to an arrangement with a third party that is in the
business of distributing software, under which you make payment to the
third party based on the extent of your activity of conveying the
work, and under which the third party grants, to any of the parties
who would receive the covered work from you, a discriminatory patent
license (a) in connection with copies of the covered work conveyed by
you (or copies made from those copies), or (b) primarily for and in
connection with specific products or compilations that contain the
covered work, unless you entered into that arrangement, or that patent
license was granted, prior to 28 March 2007.

     <p>Nothing in this License shall be construed as excluding or limiting
any implied license or other defenses to infringement that may
otherwise be available to you under applicable patent law.

     <li>No Surrender of Others' Freedom.

     <p>If conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot convey
a covered work so as to satisfy simultaneously your obligations under
this License and any other pertinent obligations, then as a
consequence you may not convey it at all.  For example, if you agree
to terms that obligate you to collect a royalty for further conveying
from those to whom you convey the Program, the only way you could
satisfy both those terms and this License would be to refrain entirely
from conveying the Program.

     <li>Use with the GNU Affero General Public License.

     <p>Notwithstanding any other provision of this License, you have
permission to link or combine any covered work with a work licensed
under version 3 of the GNU Affero General Public License into a single
combined work, and to convey the resulting work.  The terms of this
License will continue to apply to the part which is the covered work,
but the special requirements of the GNU Affero General Public License,
section 13, concerning interaction through a network will apply to the
combination as such.

     <li>Revised Versions of this License.

     <p>The Free Software Foundation may publish revised and/or new versions
of the GNU General Public License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.

     <p>Each version is given a distinguishing version number.  If the Program
specifies that a certain numbered version of the GNU General Public
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that numbered version or
of any later version published by the Free Software Foundation.  If
the Program does not specify a version number of the GNU General
Public License, you may choose any version ever published by the Free
Software Foundation.

     <p>If the Program specifies that a proxy can decide which future versions
of the GNU General Public License can be used, that proxy's public
statement of acceptance of a version permanently authorizes you to
choose that version for the Program.

     <p>Later license versions may give you additional or different
permissions.  However, no additional obligations are imposed on any
author or copyright holder as a result of your choosing to follow a
later version.

     <li>Disclaimer of Warranty.

     <p>THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY
APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM &ldquo;AS IS&rdquo; WITHOUT
WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND
PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE PROGRAM PROVE
DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR
CORRECTION.

     <li>Limitation of Liability.

     <p>IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR
CONVEYS THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT
NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR
LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM
TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER
PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.

     <li>Interpretation of Sections 15 and 16.

     <p>If the disclaimer of warranty and limitation of liability provided
above cannot be given local legal effect according to their terms,
reviewing courts shall apply local law that most closely approximates
an absolute waiver of all civil liability in connection with the
Program, unless a warranty or assumption of liability accompanies a
copy of the Program in return for a fee.

     </ol>

<h3 class="heading">END OF TERMS AND CONDITIONS</h3>

<h3 class="heading">How to Apply These Terms to Your New Programs</h3>

<p>If you develop a new program, and you want it to be of the greatest
possible use to the public, the best way to achieve this is to make it
free software which everyone can redistribute and change under these
terms.

   <p>To do so, attach the following notices to the program.  It is safest
to attach them to the start of each source file to most effectively
state the exclusion of warranty; and each file should have at least
the &ldquo;copyright&rdquo; line and a pointer to where the full notice is found.

<pre class="smallexample">     <var>one line to give the program's name and a brief idea of what it does.</var>
     Copyright (C) <var>year</var> <var>name of author</var>
     
     This program is free software: you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation, either version 3 of the License, or (at
     your option) any later version.
     
     This program is distributed in the hope that it will be useful, but
     WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     General Public License for more details.
     
     You should have received a copy of the GNU General Public License
     along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.
</pre>
   <p>Also add information on how to contact you by electronic and paper mail.

   <p>If the program does terminal interaction, make it output a short
notice like this when it starts in an interactive mode:

<pre class="smallexample">     <var>program</var> Copyright (C) <var>year</var> <var>name of author</var>
     This program comes with ABSOLUTELY NO WARRANTY; for details type &lsquo;<samp><span class="samp">show w</span></samp>&rsquo;.
     This is free software, and you are welcome to redistribute it
     under certain conditions; type &lsquo;<samp><span class="samp">show c</span></samp>&rsquo; for details.
</pre>
   <p>The hypothetical commands &lsquo;<samp><span class="samp">show w</span></samp>&rsquo; and &lsquo;<samp><span class="samp">show c</span></samp>&rsquo; should show
the appropriate parts of the General Public License.  Of course, your
program's commands might be different; for a GUI interface, you would
use an &ldquo;about box&rdquo;.

   <p>You should also get your employer (if you work as a programmer) or school,
if any, to sign a &ldquo;copyright disclaimer&rdquo; for the program, if necessary. 
For more information on this, and how to apply and follow the GNU GPL, see
<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.

   <p>The GNU General Public License does not permit incorporating your
program into proprietary programs.  If your program is a subroutine
library, you may consider it more useful to permit linking proprietary
applications with the library.  If this is what you want to do, use
the GNU Lesser General Public License instead of this License.  But
first, please read <a href="http://www.gnu.org/philosophy/why-not-lgpl.html">http://www.gnu.org/philosophy/why-not-lgpl.html</a>. 
<!-- man end -->

<!-- Special handling for inclusion in the install manual. -->
<!-- man begin DESCRIPTION -->
<div class="node">
<a name="GNU-Free-Documentation-License"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-gcj">Invoking gcj</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Copying">Copying</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">GNU Free Documentation License</h2>

   <p><a name="index-FDL_002c-GNU-Free-Documentation-License-1"></a><div align="center">Version 1.3, 3 November 2008</div>

<pre class="display">     Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
     <a href="http://fsf.org/">http://fsf.org/</a>
     
     Everyone is permitted to copy and distribute verbatim copies
     of this license document, but changing it is not allowed.
</pre>
     <ol type=1 start=0>
<li>PREAMBLE

     <p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <dfn>free</dfn> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially. 
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.

     <p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

     <p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.

     <li>APPLICABILITY AND DEFINITIONS

     <p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.

     <p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

     <p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

     <p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.

     <p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.

     <p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent. 
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.

     <p>Examples of suitable formats for Transparent copies include plain
<span class="sc">ascii</span> without markup, Texinfo input format, LaTeX input
format, <acronym>SGML</acronym> or <acronym>XML</acronym> using a publicly available
<acronym>DTD</acronym>, and standard-conforming simple <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> designed for human modification.  Examples
of transparent image formats include <acronym>PNG</acronym>, <acronym>XCF</acronym> and
<acronym>JPG</acronym>.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, <acronym>SGML</acronym> or
<acronym>XML</acronym> for which the <acronym>DTD</acronym> and/or processing tools are
not generally available, and the machine-generated <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> produced by some word processors for
output purposes only.

     <p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

     <p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.

     <p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.

     <p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.

     <li>VERBATIM COPYING

     <p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

     <p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.

     <li>COPYING IN QUANTITY

     <p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

     <p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

     <p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material. 
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.

     <p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.

     <li>MODIFICATIONS

     <p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

          <ol type=A start=1>
<li>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

          <li>List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

          <li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.

          <li>Preserve all the copyright notices of the Document.

          <li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

          <li>Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

          <li>Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

          <li>Include an unaltered copy of this License.

          <li>Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

          <li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section. 
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

          <li>For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

          <li>Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

          <li>Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

          <li>Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

          <li>Preserve any Warranty Disclaimers.
          </ol>

     <p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice. 
These titles must be distinct from any other section titles.

     <p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

     <p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

     <p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.

     <li>COMBINING DOCUMENTS

     <p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.

     <p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number. 
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

     <p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;

     <li>COLLECTIONS OF DOCUMENTS

     <p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

     <p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.

     <li>AGGREGATION WITH INDEPENDENT WORKS

     <p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit. 
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.

     <p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form. 
Otherwise they must appear on printed covers that bracket the whole
aggregate.

     <li>TRANSLATION

     <p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4. 
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.

     <p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.

     <li>TERMINATION

     <p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.

     <p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

     <p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

     <p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.

     <li>FUTURE REVISIONS OF THIS LICENSE

     <p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.

     <p>Each version of the License is given a distinguishing version number. 
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy's public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.

     <li>RELICENSING

     <p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.

     <p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.

     <p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.

     <p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.

     <p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.

        </ol>

<h3 class="unnumberedsec">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

<pre class="smallexample">       Copyright (C)  <var>year</var>  <var>your name</var>.
       Permission is granted to copy, distribute and/or modify this document
       under the terms of the GNU Free Documentation License, Version 1.3
       or any later version published by the Free Software Foundation;
       with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
       Texts.  A copy of the license is included in the section entitled ``GNU
       Free Documentation License''.
</pre>
   <p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with...Texts.&rdquo; line with this:

<pre class="smallexample">         with the Invariant Sections being <var>list their titles</var>, with
         the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
         being <var>list</var>.
</pre>
   <p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.

   <p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.

<!-- Local Variables: -->
<!-- ispell-local-pdict: "ispell-dict" -->
<!-- End: -->
<!-- man end -->
<div class="node">
<a name="Invoking-gcj"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Compatibility">Compatibility</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 Invoking gcj</h2>

<!-- man title gcj Ahead-of-time compiler for the Java language -->
<!-- man begin DESCRIPTION gcj -->
<p>As <samp><span class="command">gcj</span></samp> is just another front end to <samp><span class="command">gcc</span></samp>, it supports many
of the same options as gcc.  See <a href="{No value for `fngcc'}.html#Option-Summary">Option Summary</a>.  This manual only documents the
options specific to <samp><span class="command">gcj</span></samp>.

<!-- man end -->
<ul class="menu">
<li><a accesskey="1" href="#Input-and-output-files">Input and output files</a>
<li><a accesskey="2" href="#Input-Options">Input Options</a>:                How gcj finds files
<li><a accesskey="3" href="#Encodings">Encodings</a>:                    Options controlling source file encoding
<li><a accesskey="4" href="#Warnings">Warnings</a>:                     Options controlling warnings specific to gcj
<li><a accesskey="5" href="#Linking">Linking</a>:                      Options for making an executable
<li><a accesskey="6" href="#Code-Generation">Code Generation</a>:              Options controlling the output of gcj
<li><a accesskey="7" href="#Configure_002dtime-Options">Configure-time Options</a>:       Options you won't use
</ul>

<!-- man begin OPTIONS gcj -->
<div class="node">
<a name="Input-and-output-files"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Input-Options">Input Options</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Invoking-gcj">Invoking gcj</a>

</div>

<h3 class="section">1.1 Input and output files</h3>

<p>A <samp><span class="command">gcj</span></samp> command is like a <samp><span class="command">gcc</span></samp> command, in that it
consists of a number of options and file names.  The following kinds
of input file names are supported:

     <dl>
<dt><var>file</var><code>.java</code><dd>Java source files. 
<br><dt><var>file</var><code>.class</code><dd>Java bytecode files. 
<br><dt><var>file</var><code>.zip</code><dt><var>file</var><code>.jar</code><dd>An archive containing one or more <code>.class</code> files, all of
which are compiled.  The archive may be compressed.  Files in
an archive which don't end with &lsquo;<samp><span class="samp">.class</span></samp>&rsquo; are treated as
resource files; they are compiled into the resulting object file
as &lsquo;<samp><span class="samp">core:</span></samp>&rsquo; URLs. 
<br><dt><code>@</code><var>file</var><dd>A file containing a whitespace-separated list of input file names. 
(Currently, these must all be <code>.java</code> source files, but that
may change.) 
Each named file is compiled, just as if it had been on the command line. 
<br><dt><var>library</var><code>.a</code><dt><var>library</var><code>.so</code><dt><code>-l</code><var>libname</var><dd>Libraries to use when linking.  See the <samp><span class="command">gcc</span></samp> manual. 
</dl>

   <p>You can specify more than one input file on the <samp><span class="command">gcj</span></samp> command line,
in which case they will all be compiled.  If you specify a
<code>-o </code><var>FILENAME</var>
option, all the input files will be compiled together, producing a
single output file, named <var>FILENAME</var>. 
This is allowed even when using <code>-S</code> or <code>-c</code>,
but not when using <code>-C</code> or <code>--resource</code>. 
(This is an extension beyond the what plain <samp><span class="command">gcc</span></samp> allows.) 
(If more than one input file is specified, all must currently
be <code>.java</code> files, though we hope to fix this.)

<div class="node">
<a name="Input-Options"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Encodings">Encodings</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Input-and-output-files">Input and output files</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Invoking-gcj">Invoking gcj</a>

</div>

<h3 class="section">1.2 Input Options</h3>

<p><a name="index-class-path-2"></a>
<samp><span class="command">gcj</span></samp> has options to control where it looks to find files it needs. 
For instance, <samp><span class="command">gcj</span></samp> might need to load a class that is referenced
by the file it has been asked to compile.  Like other compilers for the
Java language, <samp><span class="command">gcj</span></samp> has a notion of a <dfn>class path</dfn>.  There are
several options and environment variables which can be used to
manipulate the class path.  When <samp><span class="command">gcj</span></samp> looks for a given class, it
searches the class path looking for matching <samp><span class="file">.class</span></samp> or
<samp><span class="file">.java</span></samp> file.  <samp><span class="command">gcj</span></samp> comes with a built-in class path which
points at the installed <samp><span class="file">libgcj.jar</span></samp>, a file which contains all the
standard classes.

   <p>In the text below, a directory or path component can refer either to an
actual directory on the filesystem, or to a <samp><span class="file">.zip</span></samp> or <samp><span class="file">.jar</span></samp>
file, which <samp><span class="command">gcj</span></samp> will search as if it is a directory.

     <dl>
<dt><code>-I</code><var>dir</var><dd>All directories specified by <code>-I</code> are kept in order and prepended
to the class path constructed from all the other options.  Unless
compatibility with tools like <code>javac</code> is important, we recommend
always using <code>-I</code> instead of the other options for manipulating the
class path.

     <br><dt><code>--classpath=</code><var>path</var><dd>This sets the class path to <var>path</var>, a colon-separated list of paths
(on Windows-based systems, a semicolon-separate list of paths). 
This does not override the builtin (&ldquo;boot&rdquo;) search path.

     <br><dt><code>--CLASSPATH=</code><var>path</var><dd>Deprecated synonym for <code>--classpath</code>.

     <br><dt><code>--bootclasspath=</code><var>path</var><dd>Where to find the standard builtin classes, such as <code>java.lang.String</code>.

     <br><dt><code>--extdirs=</code><var>path</var><dd>For each directory in the <var>path</var>, place the contents of that
directory at the end of the class path.

     <br><dt><code>CLASSPATH</code><dd>This is an environment variable which holds a list of paths. 
</dl>

   <p>The final class path is constructed like so:

     <ul>
<li>First come all directories specified via <code>-I</code>.

     <li>If <samp><span class="option">--classpath</span></samp> is specified, its value is appended. 
Otherwise, if the <code>CLASSPATH</code> environment variable is specified,
then its value is appended. 
Otherwise, the current directory (<code>"."</code>) is appended.

     <li>If <code>--bootclasspath</code> was specified, append its value. 
Otherwise, append the built-in system directory, <samp><span class="file">libgcj.jar</span></samp>.

     <li>Finally, if <code>--extdirs</code> was specified, append the contents of the
specified directories at the end of the class path.  Otherwise, append
the contents of the built-in extdirs at <code>$(prefix)/share/java/ext</code>. 
</ul>

   <p>The classfile built by <samp><span class="command">gcj</span></samp> for the class <code>java.lang.Object</code>
(and placed in <code>libgcj.jar</code>) contains a special zero length
attribute <code>gnu.gcj.gcj-compiled</code>. The compiler looks for this
attribute when loading <code>java.lang.Object</code> and will report an error
if it isn't found, unless it compiles to bytecode (the option
<code>-fforce-classes-archive-check</code> can be used to override this
behavior in this particular case.)

     <dl>
<dt><code>-fforce-classes-archive-check</code><dd>This forces the compiler to always check for the special zero length
attribute <code>gnu.gcj.gcj-compiled</code> in <code>java.lang.Object</code> and
issue an error if it isn't found.

     <br><dt><code>-fsource=</code><var>VERSION</var><dd>This option is used to choose the source version accepted by
<samp><span class="command">gcj</span></samp>.  The default is &lsquo;<samp><span class="samp">1.5</span></samp>&rsquo;. 
</dl>

<div class="node">
<a name="Encodings"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Warnings">Warnings</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Input-Options">Input Options</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Invoking-gcj">Invoking gcj</a>

</div>

<h3 class="section">1.3 Encodings</h3>

<p>The Java programming language uses Unicode throughout.  In an effort to
integrate well with other locales, <samp><span class="command">gcj</span></samp> allows <samp><span class="file">.java</span></samp> files
to be written using almost any encoding.  <samp><span class="command">gcj</span></samp> knows how to
convert these encodings into its internal encoding at compile time.

   <p>You can use the <code>--encoding=</code><var>NAME</var> option to specify an
encoding (of a particular character set) to use for source files.  If
this is not specified, the default encoding comes from your current
locale.  If your host system has insufficient locale support, then
<samp><span class="command">gcj</span></samp> assumes the default encoding to be the &lsquo;<samp><span class="samp">UTF-8</span></samp>&rsquo; encoding
of Unicode.

   <p>To implement <code>--encoding</code>, <samp><span class="command">gcj</span></samp> simply uses the host
platform's <code>iconv</code> conversion routine.  This means that in practice
<samp><span class="command">gcj</span></samp> is limited by the capabilities of the host platform.

   <p>The names allowed for the argument <code>--encoding</code> vary from platform
to platform (since they are not standardized anywhere).  However,
<samp><span class="command">gcj</span></samp> implements the encoding named &lsquo;<samp><span class="samp">UTF-8</span></samp>&rsquo; internally, so if
you choose to use this for your source files you can be assured that it
will work on every host.

<div class="node">
<a name="Warnings"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Linking">Linking</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Encodings">Encodings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Invoking-gcj">Invoking gcj</a>

</div>

<h3 class="section">1.4 Warnings</h3>

<p><samp><span class="command">gcj</span></samp> implements several warnings.  As with other generic
<samp><span class="command">gcc</span></samp> warnings, if an option of the form <code>-Wfoo</code> enables a
warning, then <code>-Wno-foo</code> will disable it.  Here we've chosen to
document the form of the warning which will have an effect &ndash; the
default being the opposite of what is listed.

     <dl>
<dt><code>-Wredundant-modifiers</code><dd>With this flag, <samp><span class="command">gcj</span></samp> will warn about redundant modifiers.  For
instance, it will warn if an interface method is declared <code>public</code>.

     <br><dt><code>-Wextraneous-semicolon</code><dd>This causes <samp><span class="command">gcj</span></samp> to warn about empty statements.  Empty statements
have been deprecated.

     <br><dt><code>-Wno-out-of-date</code><dd>This option will cause <samp><span class="command">gcj</span></samp> not to warn when a source file is
newer than its matching class file.  By default <samp><span class="command">gcj</span></samp> will warn
about this.

     <br><dt><code>-Wno-deprecated</code><dd>Warn if a deprecated class, method, or field is referred to.

     <br><dt><code>-Wunused</code><dd>This is the same as <samp><span class="command">gcc</span></samp>'s <code>-Wunused</code>.

     <br><dt><code>-Wall</code><dd>This is the same as <code>-Wredundant-modifiers -Wextraneous-semicolon
-Wunused</code>. 
</dl>

<div class="node">
<a name="Linking"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Code-Generation">Code Generation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Warnings">Warnings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Invoking-gcj">Invoking gcj</a>

</div>

<h3 class="section">1.5 Linking</h3>

<p>To turn a Java application into an executable program,
you need to link it with the needed libraries, just as for C or C++. 
The linker by default looks for a global function named <code>main</code>. 
Since Java does not have global functions, and a
collection of Java classes may have more than one class with a
<code>main</code> method, you need to let the linker know which of those
<code>main</code> methods it should invoke when starting the application. 
You can do that in any of these ways:

     <ul>
<li>Specify the class containing the desired <code>main</code> method
when you link the application, using the <code>--main</code> flag,
described below. 
<li>Link the Java package(s) into a shared library (dll) rather than an
executable.  Then invoke the application using the <code>gij</code> program,
making sure that <code>gij</code> can find the libraries it needs. 
<li>Link the Java packages(s) with the flag <code>-lgij</code>, which links
in the <code>main</code> routine from the <code>gij</code> command. 
This allows you to select the class whose <code>main</code> method you
want to run when you run the application.  You can also use
other <code>gij</code> flags, such as <code>-D</code> flags to set properties. 
Using the <code>-lgij</code> library (rather than the <code>gij</code> program
of the previous mechanism) has some advantages: it is compatible with
static linking, and does not require configuring or installing libraries. 
</ul>

   <p>These <code>gij</code> options relate to linking an executable:

     <dl>
<dt><code>--main=</code><var>CLASSNAME</var><dd>This option is used when linking to specify the name of the class whose
<code>main</code> method should be invoked when the resulting executable is
run.

     <br><dt><code>-D</code><var>name</var><code>[=</code><var>value</var><code>]</code><dd>This option can only be used with <code>--main</code>.  It defines a system
property named <var>name</var> with value <var>value</var>.  If <var>value</var> is not
specified then it defaults to the empty string.  These system properties
are initialized at the program's startup and can be retrieved at runtime
using the <code>java.lang.System.getProperty</code> method.

     <br><dt><code>-lgij</code><dd>Create an application whose command-line processing is that
of the <code>gij</code> command.

     <p>This option is an alternative to using <code>--main</code>; you cannot use both.

     <br><dt><code>-static-libgcj</code><dd>This option causes linking to be done against a static version of the
libgcj runtime library.  This option is only available if
corresponding linker support exists.

     <p><strong>Caution:</strong> Static linking of libgcj may cause essential parts
of libgcj to be omitted.  Some parts of libgcj use reflection to load
classes at runtime.  Since the linker does not see these references at
link time, it can omit the referred to classes.  The result is usually
(but not always) a <code>ClassNotFoundException</code> being thrown at
runtime. Caution must be used when using this option.  For more
details see:
<a href="http://gcc.gnu.org/wiki/Statically%20linking%20libgcj">http://gcc.gnu.org/wiki/Statically%20linking%20libgcj</a><!-- /@w -->
</dl>

<div class="node">
<a name="Code-Generation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Configure_002dtime-Options">Configure-time Options</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Linking">Linking</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Invoking-gcj">Invoking gcj</a>

</div>

<h3 class="section">1.6 Code Generation</h3>

<p>In addition to the many <samp><span class="command">gcc</span></samp> options controlling code generation,
<samp><span class="command">gcj</span></samp> has several options specific to itself.

     <dl>
<dt><code>-C</code><dd>This option is used to tell <samp><span class="command">gcj</span></samp> to generate bytecode
(<samp><span class="file">.class</span></samp> files) rather than object code.

     <br><dt><code>--resource </code><var>resource-name</var><dd>This option is used to tell <samp><span class="command">gcj</span></samp> to compile the contents of a
given file to object code so it may be accessed at runtime with the core
protocol handler as &lsquo;<samp><span class="samp">core:/</span><var>resource-name</var></samp>&rsquo;.  Note that
<var>resource-name</var> is the name of the resource as found at runtime; for
instance, it could be used in a call to <code>ResourceBundle.getBundle</code>. 
The actual file name to be compiled this way must be specified
separately.

     <br><dt><code>-ftarget=</code><var>VERSION</var><dd>This can be used with <samp><span class="option">-C</span></samp> to choose the version of bytecode
emitted by <samp><span class="command">gcj</span></samp>.  The default is &lsquo;<samp><span class="samp">1.5</span></samp>&rsquo;.  When not
generating bytecode, this option has no effect.

     <br><dt><code>-d </code><var>directory</var><dd>When used with <code>-C</code>, this causes all generated <samp><span class="file">.class</span></samp> files
to be put in the appropriate subdirectory of <var>directory</var>.  By
default they will be put in subdirectories of the current working
directory.

     <br><dt><code>-fno-bounds-check</code><dd>By default, <samp><span class="command">gcj</span></samp> generates code which checks the bounds of all
array indexing operations.  With this option, these checks are omitted, which
can improve performance for code that uses arrays extensively.  Note that this
can result in unpredictable behavior if the code in question actually does
violate array bounds constraints.  It is safe to use this option if you are
sure that your code will never throw an <code>ArrayIndexOutOfBoundsException</code>.

     <br><dt><code>-fno-store-check</code><dd>Don't generate array store checks.  When storing objects into arrays, a runtime
check is normally generated in order to ensure that the object is assignment
compatible with the component type of the array (which may not be known
at compile-time).  With this option, these checks are omitted.  This can
improve performance for code which stores objects into arrays frequently. 
It is safe to use this option if you are sure your code will never throw an
<code>ArrayStoreException</code>.

     <br><dt><code>-fjni</code><dd>With <samp><span class="command">gcj</span></samp> there are two options for writing native methods: CNI
and JNI.  By default <samp><span class="command">gcj</span></samp> assumes you are using CNI.  If you are
compiling a class with native methods, and these methods are implemented
using JNI, then you must use <code>-fjni</code>.  This option causes
<samp><span class="command">gcj</span></samp> to generate stubs which will invoke the underlying JNI
methods.

     <br><dt><code>-fno-assert</code><dd>Don't recognize the <code>assert</code> keyword.  This is for compatibility
with older versions of the language specification.

     <br><dt><code>-fno-optimize-static-class-initialization</code><dd>When the optimization level is greater or equal to <code>-O2</code>,
<samp><span class="command">gcj</span></samp> will try to optimize the way calls into the runtime are made
to initialize static classes upon their first use (this optimization
isn't carried out if <code>-C</code> was specified.) When compiling to native
code, <code>-fno-optimize-static-class-initialization</code> will turn this
optimization off, regardless of the optimization level in use.

     <br><dt><code>--disable-assertions[=</code><var>class-or-package</var><code>]</code><dd>Don't include code for checking assertions in the compiled code. 
If <code>=</code><var>class-or-package</var> is missing disables assertion code
generation for all classes, unless overridden by a more
specific <code>--enable-assertions</code> flag. 
If <var>class-or-package</var> is a class name, only disables generating
assertion checks within the named class or its inner classes. 
If <var>class-or-package</var> is a package name, disables generating
assertion checks within the named package or a subpackage.

     <p>By default, assertions are enabled when generating class files
or when not optimizing, and disabled when generating optimized binaries.

     <br><dt><code>--enable-assertions[=</code><var>class-or-package</var><code>]</code><dd>Generates code to check assertions.  The option is perhaps misnamed,
as you still need to turn on assertion checking at run-time,
and we don't support any easy way to do that. 
So this flag isn't very useful yet, except to partially override
<code>--disable-assertions</code>.

     <br><dt><code>-findirect-dispatch</code><dd><samp><span class="command">gcj</span></samp> has a special binary compatibility ABI, which is enabled
by the <code>-findirect-dispatch</code> option.  In this mode, the code
generated by <samp><span class="command">gcj</span></samp> honors the binary compatibility guarantees
in the Java Language Specification, and the resulting object files do
not need to be directly linked against their dependencies.  Instead,
all dependencies are looked up at runtime.  This allows free mixing of
interpreted and compiled code.

     <p>Note that, at present, <code>-findirect-dispatch</code> can only be used
when compiling <samp><span class="file">.class</span></samp> files.  It will not work when compiling
from source.  CNI also does not yet work with the binary compatibility
ABI.  These restrictions will be lifted in some future release.

     <p>However, if you compile CNI code with the standard ABI, you can call
it from code built with the binary compatibility ABI.

     <br><dt><code>-fbootstrap-classes</code><dd>This option can be use to tell <code>libgcj</code> that the compiled classes
should be loaded by the bootstrap loader, not the system class loader. 
By default, if you compile a class and link it into an executable, it
will be treated as if it was loaded using the system class loader. 
This is convenient, as it means that things like
<code>Class.forName()</code> will search &lsquo;<samp><span class="samp">CLASSPATH</span></samp>&rsquo; to find the
desired class.

     <br><dt><code>-freduced-reflection</code><dd>This option causes the code generated by <samp><span class="command">gcj</span></samp> to contain a
reduced amount of the class meta-data used to support runtime
reflection. The cost of this savings is the loss of
the ability to use certain reflection capabilities of the standard
Java runtime environment. When set all meta-data except for that
which is needed to obtain correct runtime semantics is eliminated.

     <p>For code that does not use reflection (i.e. serialization, RMI, CORBA
or call methods in the <code>java.lang.reflect</code> package),
<code>-freduced-reflection</code> will result in proper operation with a
savings in executable code size.

     <p>JNI (<code>-fjni</code>) and the binary compatibility ABI
(<code>-findirect-dispatch</code>) do not work properly without full
reflection meta-data.  Because of this, it is an error to use these options
with <code>-freduced-reflection</code>.

     <p><strong>Caution:</strong> If there is no reflection meta-data, code that uses
a <code>SecurityManager</code> may not work properly.  Also calling
<code>Class.forName()</code> may fail if the calling method has no
reflection meta-data.

   </dl>

<div class="node">
<a name="Configure-time-Options"></a>
<a name="Configure_002dtime-Options"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Code-Generation">Code Generation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Invoking-gcj">Invoking gcj</a>

</div>

<h3 class="section">1.7 Configure-time Options</h3>

<p>Some <samp><span class="command">gcj</span></samp> code generations options affect the resulting ABI, and
so can only be meaningfully given when <code>libgcj</code>, the runtime
package, is configured.  <code>libgcj</code> puts the appropriate options from
this group into a &lsquo;<samp><span class="samp">spec</span></samp>&rsquo; file which is read by <samp><span class="command">gcj</span></samp>.  These
options are listed here for completeness; if you are using <code>libgcj</code>
then you won't want to touch these options.

     <dl>
<dt><code>-fuse-boehm-gc</code><dd>This enables the use of the Boehm GC bitmap marking code.  In particular
this causes <samp><span class="command">gcj</span></samp> to put an object marking descriptor into each
vtable.

     <br><dt><code>-fhash-synchronization</code><dd>By default, synchronization data (the data used for <code>synchronize</code>,
<code>wait</code>, and <code>notify</code>) is pointed to by a word in each object. 
With this option <samp><span class="command">gcj</span></samp> assumes that this information is stored in a
hash table and not in the object itself.

     <br><dt><code>-fuse-divide-subroutine</code><dd>On some systems, a library routine is called to perform integer
division.  This is required to get exception handling correct when
dividing by zero.

     <br><dt><code>-fcheck-references</code><dd>On some systems it's necessary to insert inline checks whenever
accessing an object via a reference.  On other systems you won't need
this because null pointer accesses are caught automatically by the
processor.

     <br><dt><code>-fuse-atomic-builtins</code><dd>On some systems, gcc can generate code for built-in atomic operations. 
Use this option to force gcj to use these builtins when compiling Java
code.  Where this capability is present it should be automatically
detected, so you won't usually need to use this option.

   </dl>

<!-- man end -->
<div class="node">
<a name="Compatibility"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-jcf_002ddump">Invoking jcf-dump</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-gcj">Invoking gcj</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Compatibility with the Java Platform</h2>

<p>As we believe it is important that the Java platform not be fragmented,
<samp><span class="command">gcj</span></samp> and <code>libgcj</code> try to conform to the relevant Java
specifications.  However, limited manpower and incomplete and unclear
documentation work against us.  So, there are caveats to using
<samp><span class="command">gcj</span></samp>.

<ul class="menu">
<li><a accesskey="1" href="#Limitations">Limitations</a>
<li><a accesskey="2" href="#Extensions">Extensions</a>
</ul>

<div class="node">
<a name="Limitations"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Extensions">Extensions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Compatibility">Compatibility</a>

</div>

<h3 class="section">2.1 Standard features not yet supported</h3>

<p>This list of compatibility issues is by no means complete.

     <ul>
<li><samp><span class="command">gcj</span></samp> implements the JDK 1.2 language.  It supports inner classes
and the new 1.4 <code>assert</code> keyword.  It does not yet support the Java 2
<code>strictfp</code> keyword (it recognizes the keyword but ignores it).

     <li><code>libgcj</code> is largely compatible with the JDK 1.2 libraries. 
However, <code>libgcj</code> is missing many packages, most notably
<code>java.awt</code>.  There are also individual missing classes and methods. 
We currently do not have a list showing differences between
<code>libgcj</code> and the Java 2 platform.

     <li>Sometimes the <code>libgcj</code> implementation of a method or class differs
from the JDK implementation.  This is not always a bug.  Still, if it
affects you, it probably makes sense to report it so that we can discuss
the appropriate response.

     <li><samp><span class="command">gcj</span></samp> does not currently allow for piecemeal replacement of
components within <code>libgcj</code>. Unfortunately, programmers often want
to use newer versions of certain packages, such as those provided by
the Apache Software Foundation's Jakarta project.  This has forced us
to place the <code>org.w3c.dom</code> and <code>org.xml.sax</code> packages into
their own libraries, separate from <code>libgcj</code>.  If you intend to
use these classes, you must link them explicitly with
<code>-l-org-w3c-dom</code> and <code>-l-org-xml-sax</code>.  Future versions of
<samp><span class="command">gcj</span></samp> may not have this restriction. 
</ul>

<div class="node">
<a name="Extensions"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Limitations">Limitations</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Compatibility">Compatibility</a>

</div>

<h3 class="section">2.2 Extra features unique to gcj</h3>

<p>The main feature of <samp><span class="command">gcj</span></samp> is that it can compile programs written in
the Java programming language to native code.  Most extensions that have been
added are to facilitate this functionality.

     <ul>
<li><samp><span class="command">gcj</span></samp> makes it easy and efficient to mix code written in Java and C++. 
See <a href="#About-CNI">About CNI</a>, for more info on how to use this in your programs.

     <li>When you compile your classes into a shared library using
<code>-findirect-dispatch</code> then add them to the system-wide
classmap.db file using <code>gcj-dbtool</code>, they will be automatically
loaded by the <code>libgcj</code> system classloader.  This is the new,
preferred classname-to-library resolution mechanism.  See <a href="#Invoking-gcj_002ddbtool">Invoking gcj-dbtool</a>, for more information on using the classmap database.

     <li>The old classname-to-library lookup mechanism is still supported
through the <code>gnu.gcj.runtime.VMClassLoader.library_control</code>
property, but it is deprecated and will likely be removed in some
future release.  When trying to load a class <code>gnu.pkg.SomeClass</code>
the system classloader will first try to load the shared library
<samp><span class="file">lib-gnu-pkg-SomeClass.so</span></samp>, if that fails to load the class then
it will try to load <samp><span class="file">lib-gnu-pkg.so</span></samp> and finally when the class
is still not loaded it will try to load <samp><span class="file">lib-gnu.so</span></samp>.  Note that
all &lsquo;<samp><span class="samp">.</span></samp>&rsquo;s will be transformed into &lsquo;<samp><span class="samp">-</span></samp>&rsquo;s and that searching
for inner classes starts with their outermost outer class.  If the
class cannot be found this way the system classloader tries to use the
<code>libgcj</code> bytecode interpreter to load the class from the standard
classpath.  This process can be controlled to some degree via the
<code>gnu.gcj.runtime.VMClassLoader.library_control</code> property;
See <a href="#libgcj-Runtime-Properties">libgcj Runtime Properties</a>.

     <li><code>libgcj</code> includes a special &lsquo;<samp><span class="samp">gcjlib</span></samp>&rsquo; URL type.  A URL of
this form is like a <code>jar</code> URL, and looks like
&lsquo;<samp><span class="samp">gcjlib:/path/to/shared/library.so!/path/to/resource</span></samp>&rsquo;.  An access
to one of these URLs causes the shared library to be <code>dlopen()</code>d,
and then the resource is looked for in that library.  These URLs are
most useful when used in conjunction with <code>java.net.URLClassLoader</code>. 
Note that, due to implementation limitations, currently any such URL
can be accessed by only one class loader, and libraries are never
unloaded.  This means some care must be exercised to make sure that
a <code>gcjlib</code> URL is not accessed by more than one class loader at once. 
In a future release this limitation will be lifted, and such
libraries will be mapped privately.

     <li>A program compiled by <samp><span class="command">gcj</span></samp> will examine the
<samp><span class="env">GCJ_PROPERTIES</span></samp> environment variable and change its behavior in
some ways.  In particular <samp><span class="env">GCJ_PROPERTIES</span></samp> holds a list of
assignments to global properties, such as would be set with the
<samp><span class="option">-D</span></samp> option to <samp><span class="command">java</span></samp>.  For instance,
&lsquo;<samp><span class="samp">java.compiler=gcj</span></samp>&rsquo; is a valid (but currently meaningless)
setting. 
<a name="index-GCJ_005fPROPERTIES-3"></a><a name="index-GCJ_005fPROPERTIES-4"></a>
</ul>

<div class="node">
<a name="Invoking-jcf-dump"></a>
<a name="Invoking-jcf_002ddump"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-gij">Invoking gij</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Compatibility">Compatibility</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 Invoking jcf-dump</h2>

<!-- man title jcf-dump print information about Java class files -->
<!-- man begin DESCRIPTION jcf-dump -->
<p>This is a class file examiner, similar to <code>javap</code>.  It will print
information about a number of classes, which are specified by class name
or file name.

<!-- man end -->
<!-- man begin OPTIONS jcf-dump -->
     <dl>
<dt><code>-c</code><dd>Disassemble method bodies.  By default method bodies are not printed.

     <br><dt><code>--print-constants</code><dd>Print the constant pool.  When printing a reference to a constant
also print its index in the constant pool.

     <br><dt><code>--javap</code><dd>Generate output in <code>javap</code> format.  The implementation of this
feature is very incomplete.

     <br><dt><code>--classpath=</code><var>path</var><dt><code>--CLASSPATH=</code><var>path</var><dt><code>-I</code><var>directory</var><dt><code>-o </code><var>file</var><dd>These options as the same as the corresponding <samp><span class="command">gcj</span></samp> options.

     <br><dt><code>--help</code><dd>Print help, then exit.

     <br><dt><code>--version</code><dd>Print version number, then exit.

     <br><dt><code>-v, --verbose</code><dd>Print extra information while running. 
Implies <code>--print-constants</code>. 
</dl>

<!-- man end -->
<div class="node">
<a name="Invoking-gij"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-gcj_002ddbtool">Invoking gcj-dbtool</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-jcf_002ddump">Invoking jcf-dump</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Invoking gij</h2>

<!-- man title gij GNU interpreter for Java bytecode -->
<!-- man begin DESCRIPTION gij -->
<p><code>gij</code> is a Java bytecode interpreter included with <code>libgcj</code>. 
<code>gij</code> is not available on every platform; porting it requires a
small amount of assembly programming which has not been done for all the
targets supported by <samp><span class="command">gcj</span></samp>.

   <p>The primary argument to <code>gij</code> is the name of a class or, with
<code>-jar</code>, a jar file.  Options before this argument are interpreted
by <code>gij</code>; remaining options are passed to the interpreted program.

   <p>If a class name is specified and this class does not have a <code>main</code>
method with the appropriate signature (a <code>static void</code> method with
a <code>String[]</code> as its sole argument), then <code>gij</code> will print an
error and exit.

   <p>If a jar file is specified then <code>gij</code> will use information in it to
determine which class' <code>main</code> method will be invoked.

   <p><code>gij</code> will invoke the <code>main</code> method with all the remaining
command-line options.

   <p>Note that <code>gij</code> is not limited to interpreting code.  Because
<code>libgcj</code> includes a class loader which can dynamically load shared
objects, it is possible to give <code>gij</code> the name of a class which has
been compiled and put into a shared library on the class path.

<!-- man end -->
<!-- man begin OPTIONS gij -->
     <dl>
<dt><code>-cp </code><var>path</var><dt><code>-classpath </code><var>path</var><dd>Set the initial class path.  The class path is used for finding
class and resource files.  If specified, this option overrides the
<code>CLASSPATH</code> environment variable.  Note that this option is
ignored if <code>-jar</code> is used.

     <br><dt><code>-D</code><var>name</var><code>[=</code><var>value</var><code>]</code><dd>This defines a system property named <var>name</var> with value <var>value</var>. 
If <var>value</var> is not specified then it defaults to the empty string. 
These system properties are initialized at the program's startup and can
be retrieved at runtime using the <code>java.lang.System.getProperty</code>
method.

     <br><dt><code>-ms=</code><var>number</var><dd>Equivalent to <code>-Xms</code>.

     <br><dt><code>-mx=</code><var>number</var><dd>Equivalent to <code>-Xmx</code>.

     <br><dt><code>-noverify</code><dd>Do not verify compliance of bytecode with the VM specification. In addition,
this option disables type verification which is otherwise performed on BC-ABI
compiled code.

     <br><dt><code>-X</code><dt><code>-X</code><var>argument</var><dd>Supplying <code>-X</code> by itself will cause <code>gij</code> to list all the
supported <code>-X</code> options.  Currently these options are supported:

          <dl>
<dt><code>-Xms</code><var>size</var><dd>Set the initial heap size.

          <br><dt><code>-Xmx</code><var>size</var><dd>Set the maximum heap size.

          <br><dt><code>-Xss</code><var>size</var><dd>Set the thread stack size. 
</dl>

     <p>Unrecognized <code>-X</code> options are ignored, for compatibility with
other runtimes.

     <br><dt><code>-jar</code><dd>This indicates that the name passed to <code>gij</code> should be interpreted
as the name of a jar file, not a class.

     <br><dt><code>--help</code><dt><code>-?</code><dd>Print help, then exit.

     <br><dt><code>--showversion</code><dd>Print version number and continue.

     <br><dt><code>--fullversion</code><dd>Print detailed version information, then exit.

     <br><dt><code>--version</code><dd>Print version number, then exit.

     <br><dt><code>-verbose</code><dt><code>-verbose:class</code><dd>Each time a class is initialized, print a short message on standard error. 
</dl>

   <p><code>gij</code> also recognizes and ignores the following options, for
compatibility with existing application launch scripts:
<code>-client</code>, <code>-server</code>, <code>-hotspot</code>, <code>-jrockit</code>,
<code>-agentlib</code>, <code>-agentpath</code>, <code>-debug</code>, <code>-d32</code>,
<code>-d64</code>, <code>-javaagent</code>, <code>-noclassgc</code>, <code>-verify</code>,
and <code>-verifyremote</code>.

<!-- man end -->
<div class="node">
<a name="Invoking-gcj-dbtool"></a>
<a name="Invoking-gcj_002ddbtool"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-jv_002dconvert">Invoking jv-convert</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-gij">Invoking gij</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 Invoking gcj-dbtool.</h2>

<!-- man title gcj-dbtool Manipulate class file mapping databases for libgcj -->
<!-- man begin DESCRIPTION gcj-dbtool -->
<p><code>gcj-dbtool</code> is a tool for creating and manipulating class file
mapping databases.  <code>libgcj</code> can use these databases to find a
shared library corresponding to the bytecode representation of a
class.  This functionality is useful for ahead-of-time compilation of
a program that has no knowledge of <code>gcj</code>.

   <p><code>gcj-dbtool</code> works best if all the jar files added to it are
compiled using <code>-findirect-dispatch</code>.

   <p>Note that <code>gcj-dbtool</code> is currently available as &ldquo;preview
technology&rdquo;.  We believe it is a reasonable way to allow
application-transparent ahead-of-time compilation, but this is an
unexplored area.  We welcome your comments.

<!-- man end -->
<!-- man begin OPTIONS gcj-dbtool -->
     <dl>
<dt><code>-n </code><var>DBFILE</var><code> [</code><var>SIZE</var><code>]</code><dd>This creates a new database.  Currently, databases cannot be resized;
you can choose a larger initial size if desired.  The default size is
32,749.

     <br><dt><code>-a </code><var>DBFILE</var> <var>JARFILE</var> <var>LIB</var><dt><code>-f </code><var>DBFILE</var> <var>JARFILE</var> <var>LIB</var><dd>This adds a jar file to the database.  For each class file in the jar,
a cryptographic signature of the bytecode representation of the class
is recorded in the database.  At runtime, a class is looked up by its
signature and the compiled form of the class is looked for in the
corresponding shared library.  The <samp><span class="option">-a</span></samp> option will verify
that <var>LIB</var> exists before adding it to the database; <samp><span class="option">-f</span></samp>
skips this check.

     <br><dt><code>[</code><samp><span class="option">-</span></samp><code>][</code><samp><span class="option">-0</span></samp><code>] -m </code><var>DBFILE</var> <var>DBFILE</var><code>,[</code><var>DBFILE</var><code>]</code><dd>Merge a number of databases.  The output database overwrites any
existing database.  To add databases into an existing database,
include the destination in the list of sources.

     <p>If <samp><span class="option">-</span></samp> or <samp><span class="option">-0</span></samp> are used, the list of files to read is
taken from standard input instead of the command line.  For
<samp><span class="option">-0</span></samp>, Input filenames are terminated by a null character
instead of by whitespace.  Useful when arguments might contain white
space.  The GNU find -print0 option produces input suitable for this
mode.

     <br><dt><code>-t </code><var>DBFILE</var><dd>Test a database.

     <br><dt><code>-l </code><var>DBFILE</var><dd>List the contents of a database.

     <br><dt><code>-p</code><dd>Print the name of the default database.  If there is no default
database, this prints a blank line.  If <var>LIBDIR</var> is specified, use
it instead of the default library directory component of the database
name.

     <br><dt><code>--help</code><dd>Print a help message, then exit.

     <br><dt><code>--version</code><dt><code>-v</code><dd>Print version information, then exit.

   </dl>

<!-- man end -->
<div class="node">
<a name="Invoking-jv-convert"></a>
<a name="Invoking-jv_002dconvert"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-grmic">Invoking grmic</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-gcj_002ddbtool">Invoking gcj-dbtool</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">6 Invoking jv-convert</h2>

<!-- man title jv-convert Convert file from one encoding to another -->
<!-- man begin SYNOPSIS jv-convert -->
<p><samp><span class="command">jv-convert</span></samp> [<samp><span class="option">OPTION</span></samp>] <small class="dots">...</small> [<var>INPUTFILE</var> [<var>OUTPUTFILE</var>]]
<!-- man end -->

<!-- man begin DESCRIPTION jv-convert -->
   <p><samp><span class="command">jv-convert</span></samp> is a utility included with <code>libgcj</code> which
converts a file from one encoding to another.  It is similar to the Unix
<samp><span class="command">iconv</span></samp> utility.

   <p>The encodings supported by <samp><span class="command">jv-convert</span></samp> are platform-dependent. 
Currently there is no way to get a list of all supported encodings.

<!-- man end -->
<!-- man begin OPTIONS jv-convert -->
     <dl>
<dt><code>--encoding </code><var>name</var><dt><code>--from </code><var>name</var><dd>Use <var>name</var> as the input encoding.  The default is the current
locale's encoding.

     <br><dt><code>--to </code><var>name</var><dd>Use <var>name</var> as the output encoding.  The default is the
<code>JavaSrc</code> encoding; this is ASCII with &lsquo;<samp><span class="samp">\u</span></samp>&rsquo; escapes for
non-ASCII characters.

     <br><dt><code>-i </code><var>file</var><dd>Read from <var>file</var>.  The default is to read from standard input.

     <br><dt><code>-o </code><var>file</var><dd>Write to <var>file</var>.  The default is to write to standard output.

     <br><dt><code>--reverse</code><dd>Swap the input and output encodings.

     <br><dt><code>--help</code><dd>Print a help message, then exit.

     <br><dt><code>--version</code><dd>Print version information, then exit. 
</dl>

<!-- man end -->
<div class="node">
<a name="Invoking-grmic"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-gc_002danalyze">Invoking gc-analyze</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-jv_002dconvert">Invoking jv-convert</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">7 Invoking grmic</h2>

<!-- man title grmic Generate stubs for Remote Method Invocation -->
<!-- man begin SYNOPSIS grmic -->
<p><samp><span class="command">grmic</span></samp> [<samp><span class="option">OPTION</span></samp>] <small class="dots">...</small> <var>class</var> <small class="dots">...</small>
<!-- man end -->

<!-- man begin DESCRIPTION grmic -->
   <p><samp><span class="command">grmic</span></samp> is a utility included with <code>libgcj</code> which generates
stubs for remote objects.

<!-- FIXME: Add real information here. -->
<!-- This really isn't much more than the -help output. -->
   <p>Note that this program isn't yet fully compatible with the JDK
<samp><span class="command">grmic</span></samp>.  Some options, such as <samp><span class="option">-classpath</span></samp>, are
recognized but currently ignored.  We have left these options
undocumented for now.

   <p>Long options can also be given with a GNU-style leading &lsquo;<samp><span class="samp">--</span></samp>&rsquo;.  For
instance, <samp><span class="option">--help</span></samp> is accepted.

<!-- man end -->
<!-- man begin OPTIONS grmic -->
     <dl>
<dt><code>-keep</code><dt><code>-keepgenerated</code><dd>By default, <samp><span class="command">grmic</span></samp> deletes intermediate files.  Either of these
options causes it not to delete such files.

     <br><dt><code>-v1.1</code><dd>Cause <samp><span class="command">grmic</span></samp> to create stubs and skeletons for the 1.1
protocol version.

     <br><dt><code>-vcompat</code><dd>Cause <samp><span class="command">grmic</span></samp> to create stubs and skeletons compatible with both
the 1.1 and 1.2 protocol versions.  This is the default.

     <br><dt><code>-v1.2</code><dd>Cause <samp><span class="command">grmic</span></samp> to create stubs and skeletons for the 1.2
protocol version.

     <br><dt><code>-nocompile</code><dd>Don't compile the generated files.

     <br><dt><code>-verbose</code><dd>Print information about what <samp><span class="command">grmic</span></samp> is doing.

     <br><dt><code>-d </code><var>directory</var><dd>Put output files in <var>directory</var>.  By default the files are put in
the current working directory.

     <br><dt><code>-help</code><dd>Print a help message, then exit.

     <br><dt><code>-version</code><dd>Print version information, then exit. 
</dl>

<!-- man end -->
<div class="node">
<a name="Invoking-gc-analyze"></a>
<a name="Invoking-gc_002danalyze"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-aot_002dcompile">Invoking aot-compile</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-grmic">Invoking grmic</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">8 Invoking gc-analyze</h2>

<!-- man title gc-analyze Analyze Garbage Collector (GC) memory dumps -->
<!-- man begin SYNOPSIS gc-analyze -->
<p><samp><span class="command">gc-analyze</span></samp> [<samp><span class="option">OPTION</span></samp>] <small class="dots">...</small> [<var>file</var>]
<!-- man end -->

<!-- man begin DESCRIPTION gc-analyze -->
   <p><samp><span class="command">gc-analyze</span></samp> prints an analysis of a GC memory dump to
standard out.

   <p>The memory dumps may be created by calling
<code>gnu.gcj.util.GCInfo.enumerate(String namePrefix)</code> from java
code.  A memory dump will be created on an out of memory condition if
<code>gnu.gcj.util.GCInfo.setOOMDump(String namePrefix)</code> is called
before the out of memory occurs.

   <p>Running this program will create two files: <samp><span class="file">TestDump001</span></samp> and
<samp><span class="file">TestDump001.bytes</span></samp>.

<pre class="example">     import gnu.gcj.util.*;
     import java.util.*;
     
     public class GCDumpTest
     {
         static public void main(String args[])
         {
             ArrayList&lt;String&gt; l = new ArrayList&lt;String&gt;(1000);
     
             for (int i = 1; i &lt; 1500; i++) {
                 l.add("This is string #" + i);
             }
             GCInfo.enumerate("TestDump");
         }
     }
</pre>
   <p>The memory dump may then be displayed by running:

<pre class="example">     gc-analyze -v TestDump001
</pre>
   <!-- FIXME: Add real information here. -->
<!-- This really isn't much more than the -help output. -->
<!-- man end -->
<!-- man begin OPTIONS gc-analyze -->
     <dl>
<dt><code>--verbose</code><dt><code>-v</code><dd>Verbose output.

     <br><dt><code>-p </code><var>tool-prefix</var><dd>Prefix added to the names of the <samp><span class="command">nm</span></samp> and <samp><span class="command">readelf</span></samp> commands.

     <br><dt><code>-d </code><var>directory</var><dd>Directory that contains the executable and shared libraries used when
the dump was generated.

     <br><dt><code>--help</code><dd>Print a help message, then exit.

     <br><dt><code>--version</code><dd>Print version information, then exit. 
</dl>

<!-- man end -->
<div class="node">
<a name="Invoking-aot-compile"></a>
<a name="Invoking-aot_002dcompile"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invoking-rebuild_002dgcj_002ddb">Invoking rebuild-gcj-db</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-gc_002danalyze">Invoking gc-analyze</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">9 Invoking aot-compile</h2>

<!-- man title aot-compile Compile bytecode to native and generate databases -->
<!-- man begin DESCRIPTION aot-compile -->
<p><code>aot-compile</code> is a script that searches a directory for Java bytecode
(as class files, or in jars) and uses <code>gcj</code> to compile it to native
code and generate the databases from it. 
<!-- man end -->

<!-- man begin OPTIONS aot-compile -->
     <dl>
<dt><code>-M, --make=</code><var>PATH</var><dd>Specify the path to the <code>make</code> executable to use.

     <br><dt><code>-C, --gcj=</code><var>PATH</var><dd>Specify the path to the <code>gcj</code> executable to use.

     <br><dt><code>-D, --dbtool=</code><var>PATH</var><dd>Specify the path to the <code>gcj-dbtool</code> executable to use.

     <br><dt><code>-m, --makeflags=</code><var>FLAGS</var><dd>Specify flags to pass to <code>make</code> during the build.

     <br><dt><code>-c, --gcjflags=</code><var>FLAGS</var><dd>Specify flags to pass to <code>gcj</code> during compilation, in addition to
'-fPIC -findirect-dispatch -fjni'.

     <br><dt><code>-l, --ldflags=</code><var>FLAGS</var><dd>Specify flags to pass to <code>gcj</code> during linking, in addition to
'-Wl,-Bsymbolic'.

     <br><dt><code>-e, --exclude=</code><var>PATH</var><dd>Do not compile <var>PATH</var>.

   </dl>

<!-- man end -->
<div class="node">
<a name="Invoking-rebuild-gcj-db"></a>
<a name="Invoking-rebuild_002dgcj_002ddb"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#About-CNI">About CNI</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-aot_002dcompile">Invoking aot-compile</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">10 Invoking rebuild-gcj-db</h2>

<!-- man title rebuild-gcj-db Merge the per-solib databases made by aot-compile into one system-wide database. -->
<!-- man begin DESCRIPTION rebuild-gcj-db -->
<p><code>rebuild-gcj-db</code> is a script that merges the per-solib databases made by
<code>aot-compile</code> into one system-wide database so <code>gij</code> can find the
solibs. 
<!-- man end -->

<div class="node">
<a name="About-CNI"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#System-properties">System properties</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-rebuild_002dgcj_002ddb">Invoking rebuild-gcj-db</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">11 About CNI</h2>

<p>This documents CNI, the Compiled Native Interface,
which is is a convenient way to write Java native methods using C++. 
This is a more efficient, more convenient, but less portable
alternative to the standard JNI (Java Native Interface).

<ul class="menu">
<li><a accesskey="1" href="#Basic-concepts">Basic concepts</a>:               Introduction to using CNI. 
<li><a accesskey="2" href="#Packages">Packages</a>:                     How packages are mapped to C++. 
<li><a accesskey="3" href="#Primitive-types">Primitive types</a>:              Handling primitive Java types in C++. 
<li><a accesskey="4" href="#Reference-types">Reference types</a>:              Handling Java reference types in C++. 
<li><a accesskey="5" href="#Interfaces">Interfaces</a>:                   How Java interfaces map to C++. 
<li><a accesskey="6" href="#Objects-and-Classes">Objects and Classes</a>:          C++ and Java classes. 
<li><a accesskey="7" href="#Class-Initialization">Class Initialization</a>:         How objects are initialized. 
<li><a accesskey="8" href="#Object-allocation">Object allocation</a>:            How to create Java objects in C++. 
<li><a accesskey="9" href="#Memory-allocation">Memory allocation</a>:            How to allocate and free memory. 
<li><a href="#Arrays">Arrays</a>:                       Dealing with Java arrays in C++. 
<li><a href="#Methods">Methods</a>:                      Java methods in C++. 
<li><a href="#Strings">Strings</a>:                      Information about Java Strings. 
<li><a href="#Mixing-with-C_002b_002b">Mixing with C++</a>:              How CNI can interoperate with C++. 
<li><a href="#Exception-Handling">Exception Handling</a>:           How exceptions are handled. 
<li><a href="#Synchronization">Synchronization</a>:              Synchronizing between Java and C++. 
<li><a href="#Invocation">Invocation</a>:                   Starting the Java runtime from C++. 
<li><a href="#Reflection">Reflection</a>:                   Using reflection from C++. 
</ul>

<div class="node">
<a name="Basic-concepts"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Packages">Packages</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.1 Basic concepts</h3>

<p>In terms of languages features, Java is mostly a subset
of C++.  Java has a few important extensions, plus a powerful standard
class library, but on the whole that does not change the basic similarity. 
Java is a hybrid object-oriented language, with a few native types,
in addition to class types.  It is class-based, where a class may have
static as well as per-object fields, and static as well as instance methods. 
Non-static methods may be virtual, and may be overloaded.  Overloading is
resolved at compile time by matching the actual argument types against
the parameter types.  Virtual methods are implemented using indirect calls
through a dispatch table (virtual function table).  Objects are
allocated on the heap, and initialized using a constructor method. 
Classes are organized in a package hierarchy.

   <p>All of the listed attributes are also true of C++, though C++ has
extra features (for example in C++ objects may be allocated not just
on the heap, but also statically or in a local stack frame).  Because
<samp><span class="command">gcj</span></samp> uses the same compiler technology as G++ (the GNU
C++ compiler), it is possible to make the intersection of the two
languages use the same ABI (object representation and calling
conventions).  The key idea in CNI is that Java objects are C++
objects, and all Java classes are C++ classes (but not the other way
around).  So the most important task in integrating Java and C++ is to
remove gratuitous incompatibilities.

   <p>You write CNI code as a regular C++ source file.  (You do have to use
a Java/CNI-aware C++ compiler, specifically a recent version of G++.)

<p class="noindent">A CNI C++ source file must have:

<pre class="example">     #include &lt;gcj/cni.h&gt;
</pre>
   <p class="noindent">and then must include one header file for each Java class it uses, e.g.:

<pre class="example">     #include &lt;java/lang/Character.h&gt;
     #include &lt;java/util/Date.h&gt;
     #include &lt;java/lang/IndexOutOfBoundsException.h&gt;
</pre>
   <p class="noindent">These header files are automatically generated by <code>gcjh</code>.

   <p>CNI provides some functions and macros to make using Java objects and
primitive types from C++ easier.  In general, these CNI functions and
macros start with the <code>Jv</code> prefix, for example the function
<code>JvNewObjectArray</code>.  This convention is used to avoid conflicts
with other libraries.  Internal functions in CNI start with the prefix
<code>_Jv_</code>.  You should not call these; if you find a need to, let us
know and we will try to come up with an alternate solution.

<h4 class="subsection">11.1.1 Limitations</h4>

<p>Whilst a Java class is just a C++ class that doesn't mean that you are
freed from the shackles of Java, a <acronym>CNI</acronym> C++ class must adhere to the
rules of the Java programming language.

   <p>For example: it is not possible to declare a method in a CNI class
that will take a C string (<code>char*</code>) as an argument, or to declare a
member variable of some non-Java datatype.

<div class="node">
<a name="Packages"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Primitive-types">Primitive types</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Basic-concepts">Basic concepts</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.2 Packages</h3>

<p>The only global names in Java are class names, and packages.  A
<dfn>package</dfn> can contain zero or more classes, and also zero or more
sub-packages.  Every class belongs to either an unnamed package or a
package that has a hierarchical and globally unique name.

   <p>A Java package is mapped to a C++ <dfn>namespace</dfn>.  The Java class
<code>java.lang.String</code> is in the package <code>java.lang</code>, which is a
sub-package of <code>java</code>.  The C++ equivalent is the class
<code>java::lang::String</code>, which is in the namespace <code>java::lang</code>
which is in the namespace <code>java</code>.

<p class="noindent">Here is how you could express this:

<pre class="example">     (// <span class="roman">Declare the class(es), possibly in a header file:</span>
     namespace java {
       namespace lang {
         class Object;
         class String;
         ...
       }
     }
     
     class java::lang::String : public java::lang::Object
     {
       ...
     };
</pre>
   <p class="noindent">The <code>gcjh</code> tool automatically generates the necessary namespace
declarations.

<h4 class="subsection">11.2.1 Leaving out package names</h4>

<p>Always using the fully-qualified name of a java class can be
tiresomely verbose.  Using the full qualified name also ties the code
to a single package making code changes necessary should the class
move from one package to another.  The Java <code>package</code> declaration
specifies that the following class declarations are in the named
package, without having to explicitly name the full package
qualifiers.  The <code>package</code> declaration can be
followed by zero or more <code>import</code> declarations, which
allows either a single class or all the classes in a package to be
named by a simple identifier.  C++ provides something similar with the
<code>using</code> declaration and directive.

<p class="noindent">In Java:

<pre class="example">     import <var>package-name</var>.<var>class-name</var>;
</pre>
   <p class="noindent">allows the program text to refer to <var>class-name</var> as a shorthand for
the fully qualified name: <var>package-name</var><code>.</code><var>class-name</var>.

<p class="noindent">To achieve the same effect C++, you have to do this:

<pre class="example">     using <var>package-name</var>::<var>class-name</var>;
</pre>
   <p class="noindent">Java can also cause imports on demand, like this:

<pre class="example">     import <var>package-name</var>.*;
</pre>
   <p class="noindent">Doing this allows any class from the package <var>package-name</var> to be
referred to only by its class-name within the program text.

<p class="noindent">The same effect can be achieved in C++ like this:

<pre class="example">     using namespace <var>package-name</var>;
</pre>
   <div class="node">
<a name="Primitive-types"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Reference-types">Reference types</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Packages">Packages</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.3 Primitive types</h3>

<p>Java provides 8 <dfn>primitives</dfn> types which represent integers, floats,
characters and booleans (and also the void type).  C++ has its own
very similar concrete types.  Such types in C++ however are not always
implemented in the same way (an int might be 16, 32 or 64 bits for example)
so CNI provides a special C++ type for each primitive Java type:

   <p><table summary=""><tr align="left"><td valign="top" width="20%"><strong>Java type</strong>   </td><td valign="top" width="25%"><strong>C/C++ typename</strong> </td><td valign="top" width="60%"><strong>Description</strong>
<br></td></tr><tr align="left"><td valign="top" width="20%"><code>char</code>        </td><td valign="top" width="25%"><code>jchar</code>          </td><td valign="top" width="60%">16 bit Unicode character
<br></td></tr><tr align="left"><td valign="top" width="20%"><code>boolean</code>     </td><td valign="top" width="25%"><code>jboolean</code>       </td><td valign="top" width="60%">logical (true or false) values
<br></td></tr><tr align="left"><td valign="top" width="20%"><code>byte</code>        </td><td valign="top" width="25%"><code>jbyte</code>          </td><td valign="top" width="60%">8-bit signed integer
<br></td></tr><tr align="left"><td valign="top" width="20%"><code>short</code>       </td><td valign="top" width="25%"><code>jshort</code>         </td><td valign="top" width="60%">16 bit signed integer
<br></td></tr><tr align="left"><td valign="top" width="20%"><code>int</code>         </td><td valign="top" width="25%"><code>jint</code>           </td><td valign="top" width="60%">32 bit signed integer
<br></td></tr><tr align="left"><td valign="top" width="20%"><code>long</code>        </td><td valign="top" width="25%"><code>jlong</code>          </td><td valign="top" width="60%">64 bit signed integer
<br></td></tr><tr align="left"><td valign="top" width="20%"><code>float</code>       </td><td valign="top" width="25%"><code>jfloat</code>         </td><td valign="top" width="60%">32 bit IEEE floating point number
<br></td></tr><tr align="left"><td valign="top" width="20%"><code>double</code>      </td><td valign="top" width="25%"><code>jdouble</code>        </td><td valign="top" width="60%">64 bit IEEE floating point number
<br></td></tr><tr align="left"><td valign="top" width="20%"><code>void</code>        </td><td valign="top" width="25%"><code>void</code>           </td><td valign="top" width="60%">no value
   <br></td></tr></table>

   <p>When referring to a Java type You should always use these C++ typenames (e.g.: <code>jint</code>)
to avoid disappointment.

<h4 class="subsection">11.3.1 Reference types associated with primitive types</h4>

<p>In Java each primitive type has an associated reference type,
e.g.: <code>boolean</code> has an associated <code>java.lang.Boolean.TYPE</code> class. 
In order to make working with such classes easier GCJ provides the macro
<code>JvPrimClass</code>:

<div class="defun">
&mdash; macro: <b>JvPrimClass</b><var> type<a name="index-JvPrimClass-5"></a></var><br>
<blockquote><p>Return a pointer to the <code>Class</code> object corresponding to the type supplied.

     <pre class="example">          JvPrimClass(void) &rArr; java.lang.Void.TYPE
</pre>
        </blockquote></div>

<div class="node">
<a name="Reference-types"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Interfaces">Interfaces</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Primitive-types">Primitive types</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.4 Reference types</h3>

<p>A Java reference type is treated as a class in C++.  Classes and
interfaces are handled this way.  A Java reference is translated to a
C++ pointer, so for instance a Java <code>java.lang.String</code> becomes,
in C++, <code>java::lang::String *</code>.

   <p>CNI provides a few built-in typedefs for the most common classes:
   <p><table summary=""><tr align="left"><td valign="top" width="30%"><strong>Java type</strong> </td><td valign="top" width="25%"><strong>C++ typename</strong> </td><td valign="top" width="60%"><strong>Description</strong>
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>java.lang.Object</code> </td><td valign="top" width="25%"><code>jobject</code> </td><td valign="top" width="60%">Object type
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>java.lang.String</code> </td><td valign="top" width="25%"><code>jstring</code> </td><td valign="top" width="60%">String type
<br></td></tr><tr align="left"><td valign="top" width="30%"><code>java.lang.Class</code> </td><td valign="top" width="25%"><code>jclass</code> </td><td valign="top" width="60%">Class type
   <br></td></tr></table>
<a name="index-jobject-6"></a><a name="index-jstring-7"></a><a name="index-jclass-8"></a>
Every Java class or interface has a corresponding <code>Class</code>
instance.  These can be accessed in CNI via the static <code>class$</code>
field of a class.  The <code>class$</code> field is of type <code>Class</code>
(and not <code>Class *</code>), so you will typically take the address of
it. 
<a name="index-class_0024-9"></a>
Here is how you can refer to the class of <code>String</code>, which in
Java would be written <code>String.class</code>:

<pre class="example">     using namespace java::lang;
     doSomething (&amp;String::class$);
</pre>
   <div class="node">
<a name="Interfaces"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Objects-and-Classes">Objects and Classes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Reference-types">Reference types</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.5 Interfaces</h3>

<p>A Java class can <dfn>implement</dfn> zero or more
<dfn>interfaces</dfn>, in addition to inheriting from
a single base class.

   <p><acronym>CNI</acronym> allows CNI code to implement methods of interfaces. 
You can also call methods through interface references, with some
limitations.

   <p><acronym>CNI</acronym> doesn't understand interface inheritance at all yet.  So,
you can only call an interface method when the declared type of the
field being called matches the interface which declares that
method.  The workaround is to cast the interface reference to the right
superinterface.

   <p>For example if you have:

<pre class="example">     interface A
     {
       void a();
     }
     
     interface B extends A
     {
       void b();
     }
</pre>
   <p>and declare a variable of type <code>B</code> in C++, you can't call
<code>a()</code> unless you cast it to an <code>A</code> first.

<div class="node">
<a name="Objects-and-Classes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Class-Initialization">Class Initialization</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Interfaces">Interfaces</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.6 Objects and Classes</h3>

<h4 class="subsection">11.6.1 Classes</h4>

<p>All Java classes are derived from <code>java.lang.Object</code>.  C++ does
not have a unique root class, but we use the C++ class
<code>java::lang::Object</code> as the C++ version of the
<code>java.lang.Object</code> Java class.  All other Java classes are mapped
into corresponding C++ classes derived from <code>java::lang::Object</code>.

   <p>Interface inheritance (the <code>implements</code> keyword) is currently not
reflected in the C++ mapping.

<h4 class="subsection">11.6.2 Object fields</h4>

<p>Each object contains an object header, followed by the instance fields
of the class, in order.  The object header consists of a single
pointer to a dispatch or virtual function table.  (There may be extra
fields <em>in front of</em> the object, for example for memory
management, but this is invisible to the application, and the
reference to the object points to the dispatch table pointer.)

   <p>The fields are laid out in the same order, alignment, and size as in
C++.  Specifically, 8-bit and 16-bit native types (<code>byte</code>,
<code>short</code>, <code>char</code>, and <code>boolean</code>) are <em>not</em> widened
to 32 bits.  Note that the Java VM does extend 8-bit and 16-bit types
to 32 bits when on the VM stack or temporary registers.

   <p>If you include the <code>gcjh</code>-generated header for a
class, you can access fields of Java classes in the <em>natural</em>
way.  For example, given the following Java class:

<pre class="example">     public class Int
     {
       public int i;
       public Int (int i) { this.i = i; }
       public static Int zero = new Int(0);
     }
</pre>
   <p>you can write:

<pre class="example">     #include &lt;gcj/cni.h&gt;;
     #include &lt;Int&gt;;
     
     Int*
     mult (Int *p, jint k)
     {
       if (k == 0)
         return Int::zero;  // <span class="roman">Static member access.</span>
       return new Int(p-&gt;i * k);
     }
</pre>
   <h4 class="subsection">11.6.3 Access specifiers</h4>

<p>CNI does not strictly enforce the Java access
specifiers, because Java permissions cannot be directly mapped
into C++ permission.  Private Java fields and methods are mapped
to private C++ fields and methods, but other fields and methods
are mapped to public fields and methods.

<div class="node">
<a name="Class-Initialization"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Object-allocation">Object allocation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Objects-and-Classes">Objects and Classes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.7 Class Initialization</h3>

<p>Java requires that each class be automatically initialized at the time
of the first active use.  Initializing a class involves
initializing the static fields, running code in class initializer
methods, and initializing base classes.  There may also be
some implementation specific actions, such as allocating
<code>String</code> objects corresponding to string literals in
the code.

   <p>The GCJ compiler inserts calls to <code>JvInitClass</code> at appropriate
places to ensure that a class is initialized when required.  The C++
compiler does not insert these calls automatically&mdash;it is the
programmer's responsibility to make sure classes are initialized. 
However, this is fairly painless because of the conventions assumed by
the Java system.

   <p>First, <code>libgcj</code> will make sure a class is initialized before an
instance of that object is created.  This is one of the
responsibilities of the <code>new</code> operation.  This is taken care of
both in Java code, and in C++ code.  When G++ sees a <code>new</code> of a
Java class, it will call a routine in <code>libgcj</code> to allocate the
object, and that routine will take care of initializing the class. 
Note however that this does not happen for Java arrays; you must
allocate those using the appropriate CNI function.  It follows that
you can access an instance field, or call an instance (non-static)
method and be safe in the knowledge that the class and all of its base
classes have been initialized.

   <p>Invoking a static method is also safe.  This is because the
Java compiler adds code to the start of a static method to make sure
the class is initialized.  However, the C++ compiler does not
add this extra code.  Hence, if you write a native static method
using CNI, you are responsible for calling <code>JvInitClass</code>
before doing anything else in the method (unless you are sure
it is safe to leave it out).

   <p>Accessing a static field also requires the class of the
field to be initialized.  The Java compiler will generate code
to call <code>JvInitClass</code> before getting or setting the field. 
However, the C++ compiler will not generate this extra code,
so it is your responsibility to make sure the class is
initialized before you access a static field from C++.

<div class="node">
<a name="Object-allocation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Memory-allocation">Memory allocation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Class-Initialization">Class Initialization</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.8 Object allocation</h3>

<p>New Java objects are allocated using a
<dfn>class instance creation expression</dfn>, e.g.:

<pre class="example">     new <var>Type</var> ( ... )
</pre>
   <p>The same syntax is used in C++.  The main difference is that
C++ objects have to be explicitly deleted; in Java they are
automatically deleted by the garbage collector. 
Using <acronym>CNI</acronym>, you can allocate a new Java object
using standard C++ syntax and the C++ compiler will allocate
memory from the garbage collector.  If you have overloaded
constructors, the compiler will choose the correct one
using standard C++ overload resolution rules.

<p class="noindent">For example:

<pre class="example">     java::util::Hashtable *ht = new java::util::Hashtable(120);
</pre>
   <div class="node">
<a name="Memory-allocation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Arrays">Arrays</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Object-allocation">Object allocation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.9 Memory allocation</h3>

<p>When allocating memory in <acronym>CNI</acronym> methods it is best to handle
out-of-memory conditions by throwing a Java exception.  These
functions are provided for that purpose:

<div class="defun">
&mdash; Function: void* <b>JvMalloc</b> (<var>jsize size</var>)<var><a name="index-JvMalloc-10"></a></var><br>
<blockquote><p>Calls malloc.  Throws <code>java.lang.OutOfMemoryError</code> if allocation
fails. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void* <b>JvRealloc</b> (<var>void* ptr, jsize size</var>)<var><a name="index-JvRealloc-11"></a></var><br>
<blockquote><p>Calls realloc.  Throws <code>java.lang.OutOfMemoryError</code> if
reallocation fails. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: void <b>JvFree</b> (<var>void* ptr</var>)<var><a name="index-JvFree-12"></a></var><br>
<blockquote><p>Calls free. 
</p></blockquote></div>

<div class="node">
<a name="Arrays"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Methods">Methods</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Memory-allocation">Memory allocation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.10 Arrays</h3>

<p>While in many ways Java is similar to C and C++, it is quite different
in its treatment of arrays.  C arrays are based on the idea of pointer
arithmetic, which would be incompatible with Java's security
requirements.  Java arrays are true objects (array types inherit from
<code>java.lang.Object</code>).  An array-valued variable is one that
contains a reference (pointer) to an array object.

   <p>Referencing a Java array in C++ code is done using the
<code>JArray</code> template, which as defined as follows:

<pre class="example">     class __JArray : public java::lang::Object
     {
     public:
       int length;
     };
     
     template&lt;class T&gt;
     class JArray : public __JArray
     {
       T data[0];
     public:
       T&amp; operator[](jint i) { return data[i]; }
     };
</pre>
   <p>There are a number of <code>typedef</code>s which correspond to <code>typedef</code>s
from the <acronym>JNI</acronym>.  Each is the type of an array holding objects
of the relevant type:

<pre class="example">     typedef __JArray *jarray;
     typedef JArray&lt;jobject&gt; *jobjectArray;
     typedef JArray&lt;jboolean&gt; *jbooleanArray;
     typedef JArray&lt;jbyte&gt; *jbyteArray;
     typedef JArray&lt;jchar&gt; *jcharArray;
     typedef JArray&lt;jshort&gt; *jshortArray;
     typedef JArray&lt;jint&gt; *jintArray;
     typedef JArray&lt;jlong&gt; *jlongArray;
     typedef JArray&lt;jfloat&gt; *jfloatArray;
     typedef JArray&lt;jdouble&gt; *jdoubleArray;
</pre>
   <div class="defun">
&mdash; Method on template&lt;class T&gt;: T* <b>elements</b> (<var>JArray&lt;T&gt; array</var>)<var><a name="index-elements-on-template_003cclass-T_003e-13"></a></var><br>
<blockquote><p>This template function can be used to get a pointer to the elements of
the <code>array</code>.  For instance, you can fetch a pointer to the
integers that make up an <code>int[]</code> like so:

     <pre class="example">          extern jintArray foo;
          jint *intp = elements (foo);
</pre>
        <p>The name of this function may change in the future. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: jobjectArray <b>JvNewObjectArray</b> (<var>jsize length, jclass klass, jobject init</var>)<var><a name="index-JvNewObjectArray-14"></a></var><br>
<blockquote><p>This creates a new array whose elements have reference type. 
<code>klass</code> is the type of elements of the array and
<code>init</code> is the initial value put into every slot in the array. 
</p></blockquote></div>

<pre class="example">     using namespace java::lang;
     JArray&lt;String *&gt; *array
       = (JArray&lt;String *&gt; *) JvNewObjectArray(length, &amp;String::class$, NULL);
</pre>
   <h4 class="subsection">11.10.1 Creating arrays</h4>

<p>For each primitive type there is a function which can be used to
create a new array of that type.  The name of the function is of the
form:

<pre class="example">     JvNew<var>Type</var>Array
</pre>
   <p class="noindent">For example:

<pre class="example">     JvNewBooleanArray
</pre>
   <p class="noindent">can be used to create an array of Java primitive boolean types.

<p class="noindent">The following function definition is the template for all such functions:

<div class="defun">
&mdash; Function: jbooleanArray <b>JvNewBooleanArray</b> (<var>jint length</var>)<var><a name="index-JvNewBooleanArray-15"></a></var><br>
<blockquote><p>Creates an array <var>length</var> indices long. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: jsize <b>JvGetArrayLength</b> (<var>jarray array</var>)<var><a name="index-JvGetArrayLength-16"></a></var><br>
<blockquote><p>Returns the length of the <var>array</var>. 
</p></blockquote></div>

<div class="node">
<a name="Methods"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Strings">Strings</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Arrays">Arrays</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.11 Methods</h3>

<p>Java methods are mapped directly into C++ methods. 
The header files generated by <code>gcjh</code>
include the appropriate method definitions. 
Basically, the generated methods have the same names and
<em>corresponding</em> types as the Java methods,
and are called in the natural manner.

<h4 class="subsection">11.11.1 Overloading</h4>

<p>Both Java and C++ provide method overloading, where multiple
methods in a class have the same name, and the correct one is chosen
(at compile time) depending on the argument types. 
The rules for choosing the correct method are (as expected) more complicated
in C++ than in Java, but given a set of overloaded methods
generated by <code>gcjh</code> the C++ compiler will choose
the expected one.

   <p>Common assemblers and linkers are not aware of C++ overloading,
so the standard implementation strategy is to encode the
parameter types of a method into its assembly-level name. 
This encoding is called <dfn>mangling</dfn>,
and the encoded name is the <dfn>mangled name</dfn>. 
The same mechanism is used to implement Java overloading. 
For C++/Java interoperability, it is important that both the Java
and C++ compilers use the <em>same</em> encoding scheme.

<h4 class="subsection">11.11.2 Static methods</h4>

<p>Static Java methods are invoked in <acronym>CNI</acronym> using the standard
C++ syntax, using the <code>::</code> operator rather
than the <code>.</code> operator.

<p class="noindent">For example:

<pre class="example">     jint i = java::lang::Math::round((jfloat) 2.3);
</pre>
   <p class="noindent">C++ method definition syntax is used to define a static native method. 
For example:

<pre class="example">     #include &lt;java/lang/Integer&gt;
     java::lang::Integer*
     java::lang::Integer::getInteger(jstring str)
     {
       ...
     }
</pre>
   <h4 class="subsection">11.11.3 Object Constructors</h4>

<p>Constructors are called implicitly as part of object allocation
using the <code>new</code> operator.

<p class="noindent">For example:

<pre class="example">     java::lang::Integer *x = new java::lang::Integer(234);
</pre>
   <p>Java does not allow a constructor to be a native method. 
This limitation can be coded round however because a constructor
can <em>call</em> a native method.

<h4 class="subsection">11.11.4 Instance methods</h4>

<p>Calling a Java instance method from a C++ <acronym>CNI</acronym> method is done
using the standard C++ syntax, e.g.:

<pre class="example">     // <span class="roman">First create the Java object.</span>
     java::lang::Integer *x = new java::lang::Integer(234);
     // <span class="roman">Now call a method.</span>
     jint prim_value = x-&gt;intValue();
     if (x-&gt;longValue == 0)
       ...
</pre>
   <p class="noindent">Defining a Java native instance method is also done the natural way:

<pre class="example">     #include &lt;java/lang/Integer.h&gt;
     
     jdouble
     java::lang:Integer::doubleValue()
     {
       return (jdouble) value;
     }
</pre>
   <h4 class="subsection">11.11.5 Interface methods</h4>

<p>In Java you can call a method using an interface reference.  This is
supported, but not completely.  See <a href="#Interfaces">Interfaces</a>.

<div class="node">
<a name="Strings"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Mixing-with-C_002b_002b">Mixing with C++</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Methods">Methods</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.12 Strings</h3>

<p><acronym>CNI</acronym> provides a number of utility functions for
working with Java Java <code>String</code> objects. 
The names and interfaces are analogous to those of <acronym>JNI</acronym>.

<div class="defun">
&mdash; Function: jstring <b>JvNewString</b> (<var>const jchar* chars, jsize len</var>)<var><a name="index-JvNewString-17"></a></var><br>
<blockquote><p>Returns a Java <code>String</code> object with characters from the array of
Unicode characters <var>chars</var> up to the index <var>len</var> in that array. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: jstring <b>JvNewStringLatin1</b> (<var>const char* bytes, jsize len</var>)<var><a name="index-JvNewStringLatin1-18"></a></var><br>
<blockquote><p>Returns a Java <code>String</code> made up of <var>len</var> bytes from <var>bytes</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: jstring <b>JvNewStringLatin1</b> (<var>const char* bytes</var>)<var><a name="index-JvNewStringLatin1-19"></a></var><br>
<blockquote><p>As above but the length of the <code>String</code> is <code>strlen(</code><var>bytes</var><code>)</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: jstring <b>JvNewStringUTF</b> (<var>const char* bytes</var>)<var><a name="index-JvNewStringUTF-20"></a></var><br>
<blockquote><p>Returns a <code>String</code> which is made up of the UTF encoded characters
present in the C string <var>bytes</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: jchar* <b>JvGetStringChars</b> (<var>jstring str</var>)<var><a name="index-JvGetStringChars-21"></a></var><br>
<blockquote><p>Returns a pointer to an array of characters making up the <code>String</code> <var>str</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: int <b>JvGetStringUTFLength</b> (<var>jstring str</var>)<var><a name="index-JvGetStringUTFLength-22"></a></var><br>
<blockquote><p>Returns the number of bytes required to encode the contents of the
<code>String</code> <var>str</var> in UTF-8. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: jsize <b>JvGetStringUTFRegion</b> (<var>jstring str, jsize start, jsize len, char* buf</var>)<var><a name="index-JvGetStringUTFRegion-23"></a></var><br>
<blockquote><p>Puts the UTF-8 encoding of a region of the <code>String</code> <var>str</var> into
the buffer <code>buf</code>.  The region to fetch is marked by <var>start</var> and <var>len</var>.

        <p>Note that <var>buf</var> is a buffer, not a C string.  It is <em>not</em>
null terminated. 
</p></blockquote></div>

<div class="node">
<a name="Mixing-with-C++"></a>
<a name="Mixing-with-C_002b_002b"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Exception-Handling">Exception Handling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Strings">Strings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.13 Interoperating with C/C++</h3>

<p>Because <acronym>CNI</acronym> is designed to represent Java classes and methods it
cannot be mixed readily with C/C++ types.

   <p>One important restriction is that Java classes cannot have non-Java
type instance or static variables and cannot have methods which take
non-Java types as arguments or return non-Java types.

<p class="noindent">None of the following is possible with CNI:

<pre class="example">     
     class ::MyClass : public java::lang::Object
     {
        char* variable;  // <span class="roman">char* is not a valid Java type.</span>
     }
     
     
     uint
     ::SomeClass::someMethod (char *arg)
     {
       .
       .
       .
     }   // <code>uint</code><span class="roman"> is not a valid Java type, neither is </span><code>char*</code>
</pre>
   <p class="noindent">Of course, it is ok to use C/C++ types within the scope of a method:

<pre class="example">     jint
     ::SomeClass::otherMethod (jstring str)
     {
        char *arg = ...
        .
        .
        .
     }
</pre>
   <h4 class="subsection">11.13.1 RawData</h4>

<p>The above restriction can be problematic, so <acronym>CNI</acronym> includes the
<code>gnu.gcj.RawData</code> class.  The <code>RawData</code> class is a
<dfn>non-scanned reference</dfn> type.  In other words variables declared
of type <code>RawData</code> can contain any data and are not checked by the
compiler or memory manager in any way.

   <p>This means that you can put C/C++ data structures (including classes)
in your <acronym>CNI</acronym> classes, as long as you use the appropriate cast.

<p class="noindent">Here are some examples:

<pre class="example">     
     class ::MyClass : public java::lang::Object
     {
        gnu.gcj.RawData string;
     
        MyClass ();
        gnu.gcj.RawData getText ();
        void printText ();
     }
     
     ::MyClass::MyClass ()
     {
        char* text = ...
        string = text;
     }
     
     gnu.gcj.RawData
     ::MyClass::getText ()
     {
        return string;
     }
     
     void
     ::MyClass::printText ()
     {
       printf("%s\n", (char*) string);
     }
</pre>
   <h4 class="subsection">11.13.2 RawDataManaged</h4>

<p><code>gnu.gcj.RawDataManaged</code> is another type used to indicate special data used
by native code. Unlike the <code>RawData</code> type, fields declared as
<code>RawDataManaged</code> will be "marked" by the memory manager and
considered for garbage collection.

   <p>Native data which is allocated using CNI's <code>JvAllocBytes()</code>
function and stored in a <code>RawDataManaged</code> will be automatically
freed when the Java object it is associated with becomes unreachable.

<h4 class="subsection">11.13.3 Native memory allocation</h4>

<div class="defun">
&mdash; Function: void* <b>JvAllocBytes</b> (<var>jsize size</var>)<var><a name="index-JvAllocBytes-24"></a></var><br>
<blockquote><p>Allocates <var>size</var> bytes from the heap.  The memory returned is zeroed. 
This memory is not scanned for pointers by the garbage collector, but will
be freed if no references to it are discovered.

        <p>This function can be useful if you need to associate some native data with a
Java object. Using a CNI's special <code>RawDataManaged</code> type, native data
allocated with <code>JvAllocBytes</code> will be automatically freed when the Java
object itself becomes unreachable. 
</p></blockquote></div>

<h4 class="subsection">11.13.4 Posix signals</h4>

<p>On Posix based systems the <code>libgcj</code> library uses several signals
internally.  <acronym>CNI</acronym> code should not attempt to use the same
signals as doing so may cause <code>libgcj</code> and/or the <acronym>CNI</acronym>
code to fail.

   <p>SIGSEGV is used on many systems to generate
<code>NullPointerExceptions</code>.  SIGCHLD is used internally by
<code>Runtime.exec()</code>.  Several other signals (that vary from platform to
platform) can be used by the memory manager and by
<code>Thread.interrupt()</code>.

<div class="node">
<a name="Exception-Handling"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Synchronization">Synchronization</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Mixing-with-C_002b_002b">Mixing with C++</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.14 Exception Handling</h3>

<p>While C++ and Java share a common exception handling framework,
things are not yet perfectly integrated.  The main issue is that the
run-time type information facilities of the two
languages are not integrated.

   <p>Still, things work fairly well.  You can throw a Java exception from
C++ using the ordinary <code>throw</code> construct, and this
exception can be caught by Java code.  Similarly, you can catch an
exception thrown from Java using the C++ <code>catch</code>
construct.

<p class="noindent">Here is an example:

<pre class="example">     if (i &gt;= count)
        throw new java::lang::IndexOutOfBoundsException();
</pre>
   <p>Normally, G++ will automatically detect when you are writing C++
code that uses Java exceptions, and handle them appropriately. 
However, if C++ code only needs to execute destructors when Java
exceptions are thrown through it, GCC will guess incorrectly.  Sample
problematic code:

<pre class="example">     struct S { ~S(); };
     
     extern void bar();    // <span class="roman">Is implemented in Java and may throw exceptions.</span>
     
     void foo()
     {
       S s;
       bar();
     }
</pre>
   <p>The usual effect of an incorrect guess is a link failure, complaining of
a missing routine called <code>__gxx_personality_v0</code>.

   <p>You can inform the compiler that Java exceptions are to be used in a
translation unit, irrespective of what it might think, by writing
<code>#pragma GCC java_exceptions</code> at the head of the
file.  This <code>#pragma</code> must appear before any
functions that throw or catch exceptions, or run destructors when
exceptions are thrown through them.

<div class="node">
<a name="Synchronization"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Invocation">Invocation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Exception-Handling">Exception Handling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.15 Synchronization</h3>

<p>Each Java object has an implicit monitor. 
The Java VM uses the instruction <code>monitorenter</code> to acquire
and lock a monitor, and <code>monitorexit</code> to release it.

   <p>The corresponding CNI macros are <code>JvMonitorEnter</code> and
<code>JvMonitorExit</code> (JNI has similar  methods <code>MonitorEnter</code>
and <code>MonitorExit</code>).

   <p>The Java source language does not provide direct access to these primitives. 
Instead, there is a <code>synchronized</code> statement that does an
implicit <code>monitorenter</code> before entry to the block,
and does a <code>monitorexit</code> on exit from the block. 
Note that the lock has to be released even when the block is abnormally
terminated by an exception, which means there is an implicit
<code>try finally</code> surrounding synchronization locks.

   <p>From C++, it makes sense to use a destructor to release a lock. 
<acronym>CNI</acronym> defines the following utility class:

<pre class="example">     class JvSynchronize() {
       jobject obj;
       JvSynchronize(jobject o) { obj = o; JvMonitorEnter(o); }
       ~JvSynchronize() { JvMonitorExit(obj); }
     };
</pre>
   <p>So this Java code:

<pre class="example">     synchronized (OBJ)
     {
        CODE
     }
</pre>
   <p class="noindent">might become this C++ code:

<pre class="example">     {
        JvSynchronize dummy (OBJ);
        CODE;
     }
</pre>
   <p>Java also has methods with the <code>synchronized</code> attribute. 
This is equivalent to wrapping the entire method body in a
<code>synchronized</code> statement. 
(Alternatively, an implementation could require the caller to do
the synchronization.  This is not practical for a compiler, because
each virtual method call would have to test at run-time if
synchronization is needed.)  Since in <samp><span class="command">gcj</span></samp>
the <code>synchronized</code> attribute is handled by the
method implementation, it is up to the programmer
of a synchronized native method to handle the synchronization
(in the C++ implementation of the method). 
In other words, you need to manually add <code>JvSynchronize</code>
in a <code>native synchronized</code> method.

<div class="node">
<a name="Invocation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Reflection">Reflection</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Synchronization">Synchronization</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.16 Invocation</h3>

<p>CNI permits C++ applications to make calls into Java classes, in addition to
allowing Java code to call into C++. Several functions, known as the
<dfn>invocation API</dfn>, are provided to support this.

<div class="defun">
&mdash; Function: jint <b>JvCreateJavaVM</b> (<var>JvVMInitArgs* vm_args</var>)<var><a name="index-JvCreateJavaVM-25"></a></var><br>
<blockquote>
        <p>Initializes the Java runtime. This function performs essential initialization
of the threads interface, garbage collector, exception handling and other key
aspects of the runtime. It must be called once by an application with
a non-Java <code>main()</code> function, before any other Java or CNI calls are made. 
It is safe, but not recommended, to call <code>JvCreateJavaVM()</code> more than
once provided it is only called from a single thread. 
The <var>vmargs</var> parameter can be used to specify initialization parameters
for the Java runtime. It may be <code>NULL</code>.

        <p>JvVMInitArgs represents a list of virtual machine initialization
arguments. <code>JvCreateJavaVM()</code> ignores the version field.

     <pre class="example">          typedef struct JvVMOption
          {
            // a VM initialization option
            char* optionString;
            // extra information associated with this option
            void* extraInfo;
          } JvVMOption;
          
          typedef struct JvVMInitArgs
          {
            // for compatibility with JavaVMInitArgs
            jint version;
          
            // number of VM initialization options
            jint nOptions;
          
            // an array of VM initialization options
            JvVMOption* options;
          
            // true if the option parser should ignore unrecognized options
            jboolean ignoreUnrecognized;
          } JvVMInitArgs;
</pre>
        <p><code>JvCreateJavaVM()</code> returns <code>0</code> upon success, or <code>-1</code> if
the runtime is already initialized.

        <p><em>Note:</em> In GCJ 3.1, the <code>vm_args</code> parameter is ignored. It
is recognized and used as of release 4.0. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: java::lang::Thread* <b>JvAttachCurrentThread</b> (<var>jstring name, java::lang::ThreadGroup* group</var>)<var><a name="index-JvAttachCurrentThread-26"></a></var><br>
<blockquote><p>Registers an existing thread with the Java runtime.  This must be called once
from each thread, before that thread makes any other Java or CNI calls. It
must be called after <code>JvCreateJavaVM</code>. 
<var>name</var> specifies a name for the thread. It may be <code>NULL</code>, in which
case a name will be generated. 
<var>group</var> is the ThreadGroup in which this thread will be a member. If it
is <code>NULL</code>, the thread will be a member of the main thread group. 
The return value is the Java <code>Thread</code> object that represents the thread. 
It is safe to call <code>JvAttachCurrentThread()</code> more than once from the same
thread. If the thread is already attached, the call is ignored and the current
thread object is returned. 
</p></blockquote></div>

<div class="defun">
&mdash; Function: jint <b>JvDetachCurrentThread</b> ()<var><a name="index-JvDetachCurrentThread-27"></a></var><br>
<blockquote><p>Unregisters a thread from the Java runtime. This should be called by threads
that were attached using <code>JvAttachCurrentThread()</code>, after they have
finished making calls to Java code. This ensures that any resources associated
with the thread become eligible for garbage collection. 
This function returns <code>0</code> upon success, or <code>-1</code> if the current thread
is not attached. 
</p></blockquote></div>

<h4 class="subsection">11.16.1 Handling uncaught exceptions</h4>

<p>If an exception is thrown from Java code called using the invocation API, and
no handler for the exception can be found, the runtime will abort the
application. In order to make the application more robust, it is recommended
that code which uses the invocation API be wrapped by a top-level try/catch
block that catches all Java exceptions.

<h4 class="subsection">11.16.2 Example</h4>

<p>The following code demonstrates the use of the invocation API. In this
example, the C++ application initializes the Java runtime and attaches
itself. The <code>java.lang.System</code> class is initialized in order to
access its <code>out</code> field, and a Java string is printed. Finally, the thread
is detached from the runtime once it has finished making Java calls. Everything
is wrapped with a try/catch block to provide a default handler for any uncaught
exceptions.

   <p>The example can be compiled with <samp><span class="command">c++ -c test.cc; gcj test.o</span></samp>.

<pre class="example">     // test.cc
     #include &lt;gcj/cni.h&gt;
     #include &lt;java/lang/System.h&gt;
     #include &lt;java/io/PrintStream.h&gt;
     #include &lt;java/lang/Throwable.h&gt;
     
     int main(int argc, char *argv[])
     {
       using namespace java::lang;
     
       try
       {
         JvCreateJavaVM(NULL);
         JvAttachCurrentThread(NULL, NULL);
     
         String *message = JvNewStringLatin1("Hello from C++");
         JvInitClass(&amp;System::class$);
         System::out-&gt;println(message);
     
         JvDetachCurrentThread();
       }
       catch (Throwable *t)
       {
         System::err-&gt;println(JvNewStringLatin1("Unhandled Java exception:"));
         t-&gt;printStackTrace();
       }
     }
</pre>
   <div class="node">
<a name="Reflection"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invocation">Invocation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#About-CNI">About CNI</a>

</div>

<h3 class="section">11.17 Reflection</h3>

<p>Reflection is possible with CNI code, it functions similarly to how it
functions with JNI.

<!-- clean this up...  I mean, what are the types jfieldID and jmethodID in JNI? -->
   <p>The types <code>jfieldID</code> and <code>jmethodID</code>
are as in JNI.

<p class="noindent">The functions:

     <ul>
<li><code>JvFromReflectedField</code>,
<li><code>JvFromReflectedMethod</code>,
<li><code>JvToReflectedField</code>
<li><code>JvToFromReflectedMethod</code>
</ul>

<p class="noindent">will be added shortly, as will other functions corresponding to JNI.

<div class="node">
<a name="System-properties"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Resources">Resources</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#About-CNI">About CNI</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">12 System properties</h2>

<p>The runtime behavior of the <code>libgcj</code> library can be modified by setting
certain system properties.  These properties can be compiled into the program
using the <code>-D</code><var>name</var><code>[=</code><var>value</var><code>]</code> option to <samp><span class="command">gcj</span></samp> or by
setting them explicitly in the program by calling the
<code>java.lang.System.setProperty()</code> method.  Some system properties are only
used for informational purposes (like giving a version number or a user name). 
A program can inspect the current value of a property by calling the
<code>java.lang.System.getProperty()</code> method.

<ul class="menu">
<li><a accesskey="1" href="#Standard-Properties">Standard Properties</a>:          Standard properties supported by <code>libgcj</code>
<li><a accesskey="2" href="#GNU-Classpath-Properties">GNU Classpath Properties</a>:     Properties found in Classpath based libraries
<li><a accesskey="3" href="#libgcj-Runtime-Properties">libgcj Runtime Properties</a>:    Properties specific to <code>libgcj</code>
</ul>

<div class="node">
<a name="Standard-Properties"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#GNU-Classpath-Properties">GNU Classpath Properties</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#System-properties">System properties</a>

</div>

<h3 class="section">12.1 Standard Properties</h3>

<p>The following properties are normally found in all implementations of the core
libraries for the Java language.

     <dl>
<dt><code>java.version</code><dd>The <code>libgcj</code> version number.

     <br><dt><code>java.vendor</code><dd>Set to &lsquo;<samp><span class="samp">The Free Software Foundation, Inc.</span></samp>&rsquo;

     <br><dt><code>java.vendor.url</code><dd>Set to <a href="http://gcc.gnu.org/java/">http://gcc.gnu.org/java/</a>.

     <br><dt><code>java.home</code><dd>The directory where <code>gcj</code> was installed.  Taken from the <code>--prefix</code>
option given to <samp><span class="command">configure</span></samp>.

     <br><dt><code>java.class.version</code><dd>The class format version number supported by the libgcj byte code interpreter. 
(Currently &lsquo;<samp><span class="samp">46.0</span></samp>&rsquo;)

     <br><dt><code>java.vm.specification.version</code><dd>The Virtual Machine Specification version implemented by <code>libgcj</code>. 
(Currently &lsquo;<samp><span class="samp">1.0</span></samp>&rsquo;)

     <br><dt><code>java.vm.specification.vendor</code><dd>The name of the Virtual Machine specification designer.

     <br><dt><code>java.vm.specification.name</code><dd>The name of the Virtual Machine specification
(Set to &lsquo;<samp><span class="samp">Java Virtual Machine Specification</span></samp>&rsquo;).

     <br><dt><code>java.vm.version</code><dd>The <samp><span class="command">gcj</span></samp> version number.

     <br><dt><code>java.vm.vendor</code><dd>Set to &lsquo;<samp><span class="samp">The Free Software Foundation, Inc.</span></samp>&rsquo;

     <br><dt><code>java.vm.name</code><dd>Set to &lsquo;<samp><span class="samp">GNU libgcj</span></samp>&rsquo;.

     <br><dt><code>java.specification.version</code><dd>The Runtime Environment specification version implemented by <code>libgcj</code>. 
(Currently set to &lsquo;<samp><span class="samp">1.3</span></samp>&rsquo;)

     <br><dt><code>java.specification.vendor</code><dd>The Runtime Environment specification designer.

     <br><dt><code>java.specification.name</code><dd>The name of the Runtime Environment specification
(Set to &lsquo;<samp><span class="samp">Java Platform API Specification</span></samp>&rsquo;).

     <br><dt><code>java.class.path</code><dd>The paths (jar files, zip files and directories) used for finding class files.

     <br><dt><code>java.library.path</code><dd>Directory path used for finding native libraries.

     <br><dt><code>java.io.tmpdir</code><dd>The directory used to put temporary files in.

     <br><dt><code>java.compiler</code><dd>Name of the Just In Time compiler to use by the byte code interpreter. 
Currently not used in <code>libgcj</code>.

     <br><dt><code>java.ext.dirs</code><dd>Directories containing jar files with extra libraries.  Will be used when
resolving classes.

     <br><dt><code>java.protocol.handler.pkgs</code><dd>A &lsquo;<samp><span class="samp">|</span></samp>&rsquo; separated list of package names that is used to find classes that
implement handlers for <code>java.net.URL</code>.

     <br><dt><code>java.rmi.server.codebase</code><dd>A list of URLs that is used by the <code>java.rmi.server.RMIClassLoader</code>
to load classes from.

     <br><dt><code>jdbc.drivers</code><dd>A list of class names that will be loaded by the <code>java.sql.DriverManager</code>
when it starts up.

     <br><dt><code>file.separator</code><dd>The separator used in when directories are included in a filename
(normally &lsquo;<samp><span class="samp">/</span></samp>&rsquo; or &lsquo;<samp><span class="samp">\</span></samp>&rsquo; ).

     <br><dt><code>file.encoding</code><dd>The default character encoding used when converting platform native files to
Unicode (usually set to &lsquo;<samp><span class="samp">8859_1</span></samp>&rsquo;).

     <br><dt><code>path.separator</code><dd>The standard separator used when a string contains multiple paths
(normally &lsquo;<samp><span class="samp">:</span></samp>&rsquo; or &lsquo;<samp><span class="samp">;</span></samp>&rsquo;), the string is usually not a valid character
to use in normal directory names.)

     <br><dt><code>line.separator</code><dd>The default line separator used on the platform (normally &lsquo;<samp><span class="samp">\n</span></samp>&rsquo;, &lsquo;<samp><span class="samp">\r</span></samp>&rsquo;
or a combination of those two characters).

     <br><dt><code>policy.provider</code><dd>The class name used for the default policy provider returned by
<code>java.security.Policy.getPolicy</code>.

     <br><dt><code>user.name</code><dd>The name of the user running the program.  Can be the full name, the login name
or empty if unknown.

     <br><dt><code>user.home</code><dd>The default directory to put user specific files in.

     <br><dt><code>user.dir</code><dd>The current working directory from which the program was started.

     <br><dt><code>user.language</code><dd>The default language as used by the <code>java.util.Locale</code> class.

     <br><dt><code>user.region</code><dd>The default region as used by the <code>java.util.Local</code> class.

     <br><dt><code>user.variant</code><dd>The default variant of the language and region local used.

     <br><dt><code>user.timezone</code><dd>The default timezone as used by the <code>java.util.TimeZone</code> class.

     <br><dt><code>os.name</code><dd>The operating system/kernel name that the program runs on.

     <br><dt><code>os.arch</code><dd>The hardware that we are running on.

     <br><dt><code>os.version</code><dd>The version number of the operating system/kernel.

     <br><dt><code>awt.appletWarning</code><dd>The string to display when an untrusted applet is displayed. 
Returned by <code>java.awt.Window.getWarningString()</code> when the window is
&ldquo;insecure&rdquo;.

     <br><dt><code>awt.toolkit</code><dd>The class name used for initializing the default <code>java.awt.Toolkit</code>. 
Defaults to <code>gnu.awt.gtk.GtkToolkit</code>.

     <br><dt><code>http.proxyHost</code><dd>Name of proxy host for http connections.

     <br><dt><code>http.proxyPort</code><dd>Port number to use when a proxy host is in use.

   </dl>

<div class="node">
<a name="GNU-Classpath-Properties"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#libgcj-Runtime-Properties">libgcj Runtime Properties</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Standard-Properties">Standard Properties</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#System-properties">System properties</a>

</div>

<h3 class="section">12.2 GNU Classpath Properties</h3>

<p><code>libgcj</code> is based on the GNU Classpath (Essential Libraries for Java) a
GNU project to create free core class libraries for use with virtual machines
and compilers for the Java language.  The following properties are common to
libraries based on GNU Classpath.

     <dl>
<dt><code>gcj.dumpobject</code><dd>Enables printing serialization debugging by the <code>java.io.ObjectInput</code> and
<code>java.io.ObjectOutput</code> classes when set to something else then the empty
string.  Only used when running a debug build of the library.

     <br><dt><code>gnu.classpath.vm.shortname</code><dd>This is a succinct name of the virtual machine.  For <code>libgcj</code>,
this will always be &lsquo;<samp><span class="samp">libgcj</span></samp>&rsquo;.

     <br><dt><code>gnu.classpath.home.url</code><dd>A base URL used for finding system property files (e.g.,
<samp><span class="file">classpath.security</span></samp>).  By default this is a &lsquo;<samp><span class="samp">file:</span></samp>&rsquo; URL
pointing to the <samp><span class="file">lib</span></samp> directory under &lsquo;<samp><span class="samp">java.home</span></samp>&rsquo;.

   </dl>

<div class="node">
<a name="libgcj-Runtime-Properties"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GNU-Classpath-Properties">GNU Classpath Properties</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#System-properties">System properties</a>

</div>

<h3 class="section">12.3 libgcj Runtime Properties</h3>

<p>The following properties are specific to the <code>libgcj</code> runtime and will
normally not be found in other core libraries for the java language.

     <dl>
<dt><code>java.fullversion</code><dd>The combination of <code>java.vm.name</code> and <code>java.vm.version</code>.

     <br><dt><code>java.vm.info</code><dd>Same as <code>java.fullversion</code>.

     <br><dt><code>impl.prefix</code><dd>Used by the <code>java.net.DatagramSocket</code> class when set to something else
then the empty string.  When set all newly created <code>DatagramSocket</code>s will
try to load a class <code>java.net.[impl.prefix]DatagramSocketImpl</code> instead of
the normal <code>java.net.PlainDatagramSocketImpl</code>.

     <br><dt><code>gnu.gcj.progname</code><dd>The class or binary name that was used to invoke the program. This will be
the name of the "main" class in the case where the <code>gij</code> front end is
used, or the program binary name in the case where an application is compiled
to a native binary.

     <br><dt><code>gnu.gcj.user.realname</code><dd>The real name of the user, as taken from the password file.  This may
not always hold only the user's name (as some sites put extra
information in this field).  Also, this property is not available on
all platforms.

     <br><dt><code>gnu.gcj.runtime.NameFinder.use_addr2line</code><dd>Whether an external process, <samp><span class="command">addr2line</span></samp>, should be used to determine
line number information when tracing the stack. Setting this to <code>false</code>
may suppress line numbers when printing stack traces and when using
the java.util.logging infrastructure. However, performance may improve
significantly for applications that print stack traces or make logging calls
frequently.

     <br><dt><code>gnu.gcj.runtime.NameFinder.show_raw</code><dd>Whether the address of a stack frame should be printed when the line
number is unavailable. Setting this to <code>true</code> will cause the name
of the object and the offset within that object to be printed when no
line number is available.  This allows for off-line decoding of
stack traces if necessary debug information is available.  The default
is <code>false</code>, no raw addresses are printed.

     <br><dt><code>gnu.gcj.runtime.NameFinder.remove_unknown</code><dd>Whether stack frames for non-java code should be included in a stack
trace.  The default value is <code>true</code>, stack frames for non-java
code are suppressed.  Setting this to <code>false</code> will cause any
non-java stack frames to be printed in addition to frames for the java
code.

     <br><dt><code>gnu.gcj.runtime.VMClassLoader.library_control</code><dd>This controls how shared libraries are automatically loaded by the
built-in class loader.  If this property is set to &lsquo;<samp><span class="samp">full</span></samp>&rsquo;, a full
search is done for each requested class.  If this property is set to
&lsquo;<samp><span class="samp">cache</span></samp>&rsquo;, then any failed lookups are cached and not tried again. 
If this property is set to &lsquo;<samp><span class="samp">never</span></samp>&rsquo; (the default), then lookups
are never done.  For more information, See <a href="#Extensions">Extensions</a>.

     <br><dt><code>gnu.gcj.runtime.endorsed.dirs</code><dd>This is like the standard <code>java.endorsed.dirs</code>, property, but
specifies some extra directories which are searched after the standard
endorsed directories.  This is primarily useful for telling
<code>libgcj</code> about additional libraries which are ordinarily
incorporated into the JDK, and which should be loaded by the bootstrap
class loader, but which are not yet part of <code>libgcj</code> itself for
some reason.

     <br><dt><code>gnu.gcj.jit.compiler</code><dd><!-- FIXME we should probably have a whole node on this... -->
This is the full path to <samp><span class="command">gcj</span></samp> executable which should be
used to compile classes just-in-time when
<code>ClassLoader.defineClass</code> is called.  If not set, <samp><span class="command">gcj</span></samp>
will not be invoked by the runtime; this can also be controlled via
<code>Compiler.disable</code>.

     <br><dt><code>gnu.gcj.jit.options</code><dd>This is a space-separated string of options which should be passed to
<samp><span class="command">gcj</span></samp> when in JIT mode.  If not set, a sensible default is
chosen.

     <br><dt><code>gnu.gcj.jit.cachedir</code><dd>This is the directory where cached shared library files are
stored.  If not set, JIT compilation is disabled.  This should never
be set to a directory that is writable by any other user.

     <br><dt><code>gnu.gcj.precompiled.db.path</code><dd>This is a sequence of file names, each referring to a file created by
<samp><span class="command">gcj-dbtool</span></samp>.  These files will be used by <code>libgcj</code> to
find shared libraries corresponding to classes that are loaded from
bytecode.  <code>libgcj</code> often has a built-in default database; it
can be queried using <code>gcj-dbtool -p</code>.

   </dl>

<div class="node">
<a name="Resources"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Index">Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#System-properties">System properties</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">13 Resources</h2>

<p>While writing <samp><span class="command">gcj</span></samp> and <code>libgcj</code> we have, of course, relied
heavily on documentation from Sun Microsystems.  In particular we have
used The Java Language Specification (both first and second editions),
the Java Class Libraries (volumes one and two), and the Java Virtual
Machine Specification.  In addition we've used the online documentation
at <a href="http://java.sun.com/">http://java.sun.com/</a>.

   <p>The current <samp><span class="command">gcj</span></samp> home page is
<a href="http://gcc.gnu.org/java/">http://gcc.gnu.org/java/</a>.

   <p>For more information on gcc, see <a href="http://gcc.gnu.org/">http://gcc.gnu.org/</a>.

   <p>Some <code>libgcj</code> testing is done using the Mauve test suite.  This is
a free software Java class library test suite which is being written
because the JCK is not free.  See
<a href="http://sources.redhat.com/mauve/">http://sources.redhat.com/mauve/</a> for more information.

<div class="node">
<a name="Index"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Resources">Resources</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Index</h2>

<ul class="index-cp" compact>
<li><a href="#index-class-path-2">class path</a>: <a href="#Input-Options">Input Options</a></li>
<li><a href="#index-class_0024-9">class$</a>: <a href="#Reference-types">Reference types</a></li>
<li><a href="#index-elements-on-template_003cclass-T_003e-13"><code>elements on template&lt;class T&gt;</code></a>: <a href="#Arrays">Arrays</a></li>
<li><a href="#index-FDL_002c-GNU-Free-Documentation-License-1">FDL, GNU Free Documentation License</a>: <a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a></li>
<li><a href="#index-GCJ_005fPROPERTIES-3">GCJ_PROPERTIES</a>: <a href="#Extensions">Extensions</a></li>
<li><a href="#index-jclass-8">jclass</a>: <a href="#Reference-types">Reference types</a></li>
<li><a href="#index-jobject-6">jobject</a>: <a href="#Reference-types">Reference types</a></li>
<li><a href="#index-jstring-7">jstring</a>: <a href="#Reference-types">Reference types</a></li>
<li><a href="#index-JvAllocBytes-24"><code>JvAllocBytes</code></a>: <a href="#Mixing-with-C_002b_002b">Mixing with C++</a></li>
<li><a href="#index-JvAttachCurrentThread-26"><code>JvAttachCurrentThread</code></a>: <a href="#Invocation">Invocation</a></li>
<li><a href="#index-JvCreateJavaVM-25"><code>JvCreateJavaVM</code></a>: <a href="#Invocation">Invocation</a></li>
<li><a href="#index-JvDetachCurrentThread-27"><code>JvDetachCurrentThread</code></a>: <a href="#Invocation">Invocation</a></li>
<li><a href="#index-JvFree-12"><code>JvFree</code></a>: <a href="#Memory-allocation">Memory allocation</a></li>
<li><a href="#index-JvGetArrayLength-16"><code>JvGetArrayLength</code></a>: <a href="#Arrays">Arrays</a></li>
<li><a href="#index-JvGetStringChars-21"><code>JvGetStringChars</code></a>: <a href="#Strings">Strings</a></li>
<li><a href="#index-JvGetStringUTFLength-22"><code>JvGetStringUTFLength</code></a>: <a href="#Strings">Strings</a></li>
<li><a href="#index-JvGetStringUTFRegion-23"><code>JvGetStringUTFRegion</code></a>: <a href="#Strings">Strings</a></li>
<li><a href="#index-JvMalloc-10"><code>JvMalloc</code></a>: <a href="#Memory-allocation">Memory allocation</a></li>
<li><a href="#index-JvNewBooleanArray-15"><code>JvNewBooleanArray</code></a>: <a href="#Arrays">Arrays</a></li>
<li><a href="#index-JvNewObjectArray-14"><code>JvNewObjectArray</code></a>: <a href="#Arrays">Arrays</a></li>
<li><a href="#index-JvNewString-17"><code>JvNewString</code></a>: <a href="#Strings">Strings</a></li>
<li><a href="#index-JvNewStringLatin1-18"><code>JvNewStringLatin1</code></a>: <a href="#Strings">Strings</a></li>
<li><a href="#index-JvNewStringUTF-20"><code>JvNewStringUTF</code></a>: <a href="#Strings">Strings</a></li>
<li><a href="#index-JvPrimClass-5"><code>JvPrimClass</code></a>: <a href="#Primitive-types">Primitive types</a></li>
<li><a href="#index-JvRealloc-11"><code>JvRealloc</code></a>: <a href="#Memory-allocation">Memory allocation</a></li>
   </ul></body></html>

