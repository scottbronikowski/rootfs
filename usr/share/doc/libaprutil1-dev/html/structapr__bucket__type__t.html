<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Apache Portable Runtime Utility Library: apr_bucket_type_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Apache Portable Runtime Utility Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">apr_bucket_type_t Struct Reference<div class="ingroups"><a class="el" href="group___a_p_r___util___bucket___brigades.html">Bucket Brigades</a></div></div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="apr_bucket_type_t" -->
<p><code>#include &lt;<a class="el" href="apr__buckets_8h_source.html">apr_buckets.h</a>&gt;</code></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="structapr__bucket__type__t.html#a117f85e4a58c5e7d7e373705ad138f85a53d3ef9d6a275fe2b72a91acea7017d5">APR_BUCKET_DATA</a> =  0, 
<a class="el" href="structapr__bucket__type__t.html#a117f85e4a58c5e7d7e373705ad138f85a9bf38b4eb3ea41c4af230432ac7a5fb1">APR_BUCKET_METADATA</a> =  1
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapr__bucket__type__t.html#ac6d779be45de214c6abd2cc205c48901">name</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapr__bucket__type__t.html#ad4bd2ffb03cb2f5f3b3941ce20468038">num_func</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34cef542a8eee5bb734ba8dcd8329711"></a><!-- doxytag: member="apr_bucket_type_t::is_metadata" ref="a34cef542a8eee5bb734ba8dcd8329711" args="" -->
enum apr_bucket_type_t:: { ... } &#160;</td><td class="memItemRight" valign="bottom"><b>is_metadata</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapr__bucket__type__t.html#aa5a8ae7611ba3be480e3fd12ff3ac352">destroy</a> )(void *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">apr_status_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapr__bucket__type__t.html#a8e9f3f5b2a5513691f3cea130a1aa54b">read</a> )(<a class="el" href="structapr__bucket.html">apr_bucket</a> *b, const char **str, apr_size_t *len, <a class="el" href="group___a_p_r___util___bucket___brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a> block)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">apr_status_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapr__bucket__type__t.html#a4e2015fd6e927ed55157a9b003ed5fdb">setaside</a> )(<a class="el" href="structapr__bucket.html">apr_bucket</a> *e, apr_pool_t *pool)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">apr_status_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapr__bucket__type__t.html#af30959bc15fc60e21224d5e3c8c0a814">split</a> )(<a class="el" href="structapr__bucket.html">apr_bucket</a> *e, apr_size_t point)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">apr_status_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapr__bucket__type__t.html#a300d6b15d55a3a1f13eeec7379100c38">copy</a> )(<a class="el" href="structapr__bucket.html">apr_bucket</a> *e, <a class="el" href="structapr__bucket.html">apr_bucket</a> **c)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Basic bucket type </p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a117f85e4a58c5e7d7e373705ad138f85"></a><!-- doxytag: member="apr_bucket_type_t::@0" ref="a117f85e4a58c5e7d7e373705ad138f85" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Whether the bucket contains metadata (ie, information that describes the regular contents of the brigade). The metadata is not returned by <a class="el" href="group___a_p_r___util___bucket___brigades.html#gae44ae938c6c60e148430fdb098dcf28f">apr_bucket_read()</a> and is not indicated by the -&gt;length of the <a class="el" href="structapr__bucket.html">apr_bucket</a> itself. In other words, an empty bucket is safe to arbitrarily remove if and only if it contains no metadata. In this sense, "data" is just raw bytes that are the "content" of the brigade and "metadata" describes that data but is not a proper part of it. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a117f85e4a58c5e7d7e373705ad138f85a53d3ef9d6a275fe2b72a91acea7017d5"></a><!-- doxytag: member="APR_BUCKET_DATA" ref="a117f85e4a58c5e7d7e373705ad138f85a53d3ef9d6a275fe2b72a91acea7017d5" args="" -->APR_BUCKET_DATA</em>&nbsp;</td><td>
<p>This bucket type represents actual data to send to the client. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a117f85e4a58c5e7d7e373705ad138f85a9bf38b4eb3ea41c4af230432ac7a5fb1"></a><!-- doxytag: member="APR_BUCKET_METADATA" ref="a117f85e4a58c5e7d7e373705ad138f85a9bf38b4eb3ea41c4af230432ac7a5fb1" args="" -->APR_BUCKET_METADATA</em>&nbsp;</td><td>
<p>This bucket type represents metadata. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a300d6b15d55a3a1f13eeec7379100c38"></a><!-- doxytag: member="apr_bucket_type_t::copy" ref="a300d6b15d55a3a1f13eeec7379100c38" args=")(apr_bucket *e, apr_bucket **c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apr_status_t(* <a class="el" href="structapr__bucket__type__t.html#a300d6b15d55a3a1f13eeec7379100c38">apr_bucket_type_t::copy</a>)(<a class="el" href="structapr__bucket.html">apr_bucket</a> *e, <a class="el" href="structapr__bucket.html">apr_bucket</a> **c)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy the bucket structure (not the data), assuming that this is possible for the bucket type. If it's not, APR_ENOTIMPL is returned. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The bucket to copy </td></tr>
    <tr><td class="paramname">c</td><td>Returns a pointer to the new bucket </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa5a8ae7611ba3be480e3fd12ff3ac352"></a><!-- doxytag: member="apr_bucket_type_t::destroy" ref="aa5a8ae7611ba3be480e3fd12ff3ac352" args=")(void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structapr__bucket__type__t.html#aa5a8ae7611ba3be480e3fd12ff3ac352">apr_bucket_type_t::destroy</a>)(void *data)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Free the private data and any resources used by the bucket (if they aren't shared with another bucket). This function is required to be implemented for all bucket types, though it might be a no-op on some of them (namely ones that never allocate any private data structures). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The private data pointer from the bucket to be destroyed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac6d779be45de214c6abd2cc205c48901"></a><!-- doxytag: member="apr_bucket_type_t::name" ref="ac6d779be45de214c6abd2cc205c48901" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="structapr__bucket__type__t.html#ac6d779be45de214c6abd2cc205c48901">apr_bucket_type_t::name</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The name of the bucket type </p>

</div>
</div>
<a class="anchor" id="ad4bd2ffb03cb2f5f3b3941ce20468038"></a><!-- doxytag: member="apr_bucket_type_t::num_func" ref="ad4bd2ffb03cb2f5f3b3941ce20468038" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structapr__bucket__type__t.html#ad4bd2ffb03cb2f5f3b3941ce20468038">apr_bucket_type_t::num_func</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of functions this bucket understands. Can not be less than five. </p>

</div>
</div>
<a class="anchor" id="a8e9f3f5b2a5513691f3cea130a1aa54b"></a><!-- doxytag: member="apr_bucket_type_t::read" ref="a8e9f3f5b2a5513691f3cea130a1aa54b" args=")(apr_bucket *b, const char **str, apr_size_t *len, apr_read_type_e block)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apr_status_t(* <a class="el" href="structapr__bucket__type__t.html#a8e9f3f5b2a5513691f3cea130a1aa54b">apr_bucket_type_t::read</a>)(<a class="el" href="structapr__bucket.html">apr_bucket</a> *b, const char **str, apr_size_t *len, <a class="el" href="group___a_p_r___util___bucket___brigades.html#ga756973fb6392bd1026c3d96b4519776d">apr_read_type_e</a> block)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read the data from the bucket. This is required to be implemented for all bucket types. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>The bucket to read from </td></tr>
    <tr><td class="paramname">str</td><td>A place to store the data read. Allocation should only be done if absolutely necessary. </td></tr>
    <tr><td class="paramname">len</td><td>The amount of data read. </td></tr>
    <tr><td class="paramname">block</td><td>Should this read function block if there is more data that cannot be read immediately. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4e2015fd6e927ed55157a9b003ed5fdb"></a><!-- doxytag: member="apr_bucket_type_t::setaside" ref="a4e2015fd6e927ed55157a9b003ed5fdb" args=")(apr_bucket *e, apr_pool_t *pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apr_status_t(* <a class="el" href="structapr__bucket__type__t.html#a4e2015fd6e927ed55157a9b003ed5fdb">apr_bucket_type_t::setaside</a>)(<a class="el" href="structapr__bucket.html">apr_bucket</a> *e, apr_pool_t *pool)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Make it possible to set aside the data for at least as long as the given pool. Buckets containing data that could potentially die before this pool (e.g. the data resides on the stack, in a child pool of the given pool, or in a disjoint pool) must somehow copy, shift, or transform the data to have the proper lifetime. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The bucket to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>Some bucket types contain data that will always outlive the bucket itself. For example no data (EOS and FLUSH), or the data resides in global, constant memory (IMMORTAL), or the data is on the heap (HEAP). For these buckets, apr_bucket_setaside_noop can be used. </dd></dl>

</div>
</div>
<a class="anchor" id="af30959bc15fc60e21224d5e3c8c0a814"></a><!-- doxytag: member="apr_bucket_type_t::split" ref="af30959bc15fc60e21224d5e3c8c0a814" args=")(apr_bucket *e, apr_size_t point)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">apr_status_t(* <a class="el" href="structapr__bucket__type__t.html#af30959bc15fc60e21224d5e3c8c0a814">apr_bucket_type_t::split</a>)(<a class="el" href="structapr__bucket.html">apr_bucket</a> *e, apr_size_t point)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Split one bucket in two at the specified position by duplicating the bucket structure (not the data) and modifying any necessary start/end/offset information. If it's not possible to do this for the bucket type (perhaps the length of the data is indeterminate, as with pipe and socket buckets), then APR_ENOTIMPL is returned. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The bucket to split </td></tr>
    <tr><td class="paramname">point</td><td>The offset of the first byte in the new bucket </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/<a class="el" href="apr__buckets_8h_source.html">apr_buckets.h</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sun Dec 18 2011 23:56:46 for Apache Portable Runtime Utility Library by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
