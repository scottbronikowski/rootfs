<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on March 5, 2012 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Autoconf</title>

<meta name="description" content="Autoconf">
<meta name="keywords" content="Autoconf">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Top"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="settitle">Autoconf</h1>



<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Introduction">1. Introduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Autoconf&rsquo;s purpose, strengths, and weaknesses.
</td></tr>
<tr><td align="left" valign="top"><a href="#Making-configure-Scripts">2. Making <code>configure</code> Scripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    How to organize and produce Autoconf scripts.
</td></tr>
<tr><td align="left" valign="top"><a href="#Setup">3. Initialization and Output Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                       Initialization and output.
</td></tr>
<tr><td align="left" valign="top"><a href="#Existing-Tests">4. Existing Tests</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Macros that check for particular features.
</td></tr>
<tr><td align="left" valign="top"><a href="#Writing-Tests">5. Writing Tests</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               How to write new feature checks.
</td></tr>
<tr><td align="left" valign="top"><a href="#Results">6. Results of Tests</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     What to do with results from feature checks.
</td></tr>
<tr><td align="left" valign="top"><a href="#Writing-Macros">7. Writing Macros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Adding new macros to Autoconf.
</td></tr>
<tr><td align="left" valign="top"><a href="#Manual-Configuration">8. Manual Configuration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Selecting features that can&rsquo;t be guessed.
</td></tr>
<tr><td align="left" valign="top"><a href="#Site-Configuration">9. Site Configuration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Local defaults for <code>configure</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-configure">10. Running <code>configure</code> Scripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How to use the Autoconf output.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-config_002estatus">11. Recreating a Configuration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Recreating a configuration.
</td></tr>
<tr><td align="left" valign="top"><a href="#Questions">12. Questions About Autoconf</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Questions about Autoconf, with answers.
</td></tr>
<tr><td align="left" valign="top"><a href="#Upgrading">13. Upgrading From Version 1</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Tips for upgrading from version 1.
</td></tr>
<tr><td align="left" valign="top"><a href="#History">14. History of Autoconf</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Backward compatibility macros.
</td></tr>
<tr><td align="left" valign="top"><a href="#Environment-Variable-Index">Environment Variable Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  Index of environment variables used.
</td></tr>
<tr><td align="left" valign="top"><a href="#Output-Variable-Index">Output Variable Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Index of variables set in output files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Preprocessor-Symbol-Index">Preprocessor Symbol Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   Index of C preprocessor symbols defined.
</td></tr>
<tr><td align="left" valign="top"><a href="#Macro-Index">Macro Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Index of Autoconf macros.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment"> &mdash; The Detailed Node Listing &mdash;

Making <code>configure</code> Scripts

</pre></th></tr><tr><td align="left" valign="top"><a href="#Writing-configure_002ein">2.1 Writing &lsquo;<tt>configure.in</tt>&rsquo;</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        What to put in an Autoconf input file.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-autoscan">2.2 Using <code>autoscan</code> to Create &lsquo;<tt>configure.in</tt>&rsquo;</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Semi-automatic &lsquo;<tt>configure.in</tt>&rsquo; writing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-ifnames">2.3 Using <code>ifnames</code> to List Conditionals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Listing the conditionals in source code.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-autoconf">2.4 Using <code>autoconf</code> to Create <code>configure</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How to create configuration scripts.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-autoreconf">2.5 Using <code>autoreconf</code> to Update <code>configure</code> Scripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Remaking multiple <code>configure</code> scripts.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Initialization and Output Files

</pre></th></tr><tr><td align="left" valign="top"><a href="#Input">3.1 Finding <code>configure</code> Input</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                       Where Autoconf should find files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Output">3.2 Creating Output Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      Creating output files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Makefile-Substitutions">3.3 Substitutions in Makefiles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Using output variables in &lsquo;<tt>Makefile</tt>&rsquo;s.
</td></tr>
<tr><td align="left" valign="top"><a href="#Configuration-Headers">3.4 Configuration Header Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Creating a configuration header file.
</td></tr>
<tr><td align="left" valign="top"><a href="#Subdirectories">3.5 Configuring Other Packages in Subdirectories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Configuring independent packages together.
</td></tr>
<tr><td align="left" valign="top"><a href="#Default-Prefix">3.6 Default Prefix</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Changing the default installation prefix.
</td></tr>
<tr><td align="left" valign="top"><a href="#Versions">3.7 Version Numbers in <code>configure</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    Version numbers in <code>configure</code>.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Substitutions in Makefiles

</pre></th></tr><tr><td align="left" valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     Output variables that are always set.
</td></tr>
<tr><td align="left" valign="top"><a href="#Build-Directories">3.3.2 Build Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Supporting multiple concurrent compiles.
</td></tr>
<tr><td align="left" valign="top"><a href="#Automatic-Remaking">3.3.3 Automatic Remaking</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Makefile rules for configuring.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Configuration Header Files

</pre></th></tr><tr><td align="left" valign="top"><a href="#Header-Templates">3.4.1 Configuration Header Templates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Input for the configuration headers.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-autoheader">3.4.2 Using <code>autoheader</code> to Create &lsquo;<tt>config.h.in</tt>&rsquo;</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How to create configuration templates.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Existing Tests

</pre></th></tr><tr><td align="left" valign="top"><a href="#Alternative-Programs">4.1 Alternative Programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Selecting between alternative programs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Libraries">4.2 Library Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Library archives that might be missing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Library-Functions">4.3 Library Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           C library functions that might be missing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Header-Files">4.4 Header Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Header files that might be missing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Structures">4.5 Structures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  Structures or members that might be missing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Typedefs">4.6 Typedefs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    <code>typedef</code>s that might be missing.
</td></tr>
<tr><td align="left" valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Fortran-77-Compiler-Characteristics">4.8 Fortran 77 Compiler Characteristics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#System-Services">4.9 System Services</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Operating system services.
</td></tr>
<tr><td align="left" valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Special kludges for specific UNIX variants.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Alternative Programs

</pre></th></tr><tr><td align="left" valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Special handling to find certain programs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Generic-Programs">4.1.2 Generic Program and File Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            How to find other programs.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Library Functions

</pre></th></tr><tr><td align="left" valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Special handling to find certain functions.
</td></tr>
<tr><td align="left" valign="top"><a href="#Generic-Functions">4.3.2 Generic Function Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How to find other functions.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Header Files

</pre></th></tr><tr><td align="left" valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Special handling to find certain headers.
</td></tr>
<tr><td align="left" valign="top"><a href="#Generic-Headers">4.4.2 Generic Header Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             How to find other headers.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Typedefs

</pre></th></tr><tr><td align="left" valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Special handling to find certain types.
</td></tr>
<tr><td align="left" valign="top"><a href="#Generic-Typedefs">4.6.2 Generic Typedef Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            How to find other types.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Writing Tests

</pre></th></tr><tr><td align="left" valign="top"><a href="#Examining-Declarations">5.1 Examining Declarations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Detecting header files and declarations.
</td></tr>
<tr><td align="left" valign="top"><a href="#Examining-Syntax">5.2 Examining Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Detecting language syntax features.
</td></tr>
<tr><td align="left" valign="top"><a href="#Examining-Libraries">5.3 Examining Libraries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Detecting functions and global variables.
</td></tr>
<tr><td align="left" valign="top"><a href="#Run-Time">5.4 Checking Run Time Behavior</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    Testing for run-time features.
</td></tr>
<tr><td align="left" valign="top"><a href="#Portable-Shell">5.5 Portable Shell Programming</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Shell script portability pitfalls.
</td></tr>
<tr><td align="left" valign="top"><a href="#Testing-Values-and-Files">5.6 Testing Values and Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    Checking strings and files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Multiple-Cases">5.7 Multiple Cases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Tests for several possible values.
</td></tr>
<tr><td align="left" valign="top"><a href="#Language-Choice">5.8 Language Choice</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Selecting which language to use for testing.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Checking Run Time Behavior

</pre></th></tr><tr><td align="left" valign="top"><a href="#Test-Programs">5.4.1 Running Test Programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Running test programs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Guidelines">5.4.2 Guidelines for Test Programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  General rules for writing test programs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Test-Functions">5.4.3 Test Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Avoiding pitfalls in test programs.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Results of Tests

</pre></th></tr><tr><td align="left" valign="top"><a href="#Defining-Symbols">6.1 Defining C Preprocessor Symbols</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Defining C preprocessor symbols.
</td></tr>
<tr><td align="left" valign="top"><a href="#Setting-Output-Variables">6.2 Setting Output Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    Replacing variables in output files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Caching-Results">6.3 Caching Results</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Speeding up subsequent <code>configure</code> runs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Printing-Messages">6.4 Printing Messages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Notifying users of progress or problems.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Caching Results

</pre></th></tr><tr><td align="left" valign="top"><a href="#Cache-Variable-Names">6.3.1 Cache Variable Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Shell variables used in caches.
</td></tr>
<tr><td align="left" valign="top"><a href="#Cache-Files">6.3.2 Cache Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Files <code>configure</code> uses for caching.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Writing Macros

</pre></th></tr><tr><td align="left" valign="top"><a href="#Macro-Definitions">7.1 Macro Definitions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Basic format of an Autoconf macro.
</td></tr>
<tr><td align="left" valign="top"><a href="#Macro-Names">7.2 Macro Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 What to call your new macros.
</td></tr>
<tr><td align="left" valign="top"><a href="#Quoting">7.3 Quoting</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Protecting macros from unwanted expansion.
</td></tr>
<tr><td align="left" valign="top"><a href="#Dependencies-Between-Macros">7.4 Dependencies Between Macros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  What to do when macros depend on other macros.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Dependencies Between Macros

</pre></th></tr><tr><td align="left" valign="top"><a href="#Prerequisite-Macros">7.4.1 Prerequisite Macros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Ensuring required information.
</td></tr>
<tr><td align="left" valign="top"><a href="#Suggested-Ordering">7.4.2 Suggested Ordering</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Warning about possible ordering problems.
</td></tr>
<tr><td align="left" valign="top"><a href="#Obsolete-Macros">7.4.3 Obsolete Macros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Warning about old ways of doing things.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Manual Configuration

</pre></th></tr><tr><td align="left" valign="top"><a href="#Specifying-Names">8.1 Specifying the System Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Specifying the system type.
</td></tr>
<tr><td align="left" valign="top"><a href="#Canonicalizing">8.2 Getting the Canonical System Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Getting the canonical system type.
</td></tr>
<tr><td align="left" valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Variables containing the system type.
</td></tr>
<tr><td align="left" valign="top"><a href="#Using-System-Type">8.4 Using the System Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           What to do with the system type.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Site Configuration

</pre></th></tr><tr><td align="left" valign="top"><a href="#External-Software">9.1 Working With External Software</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Working with other optional software.
</td></tr>
<tr><td align="left" valign="top"><a href="#Package-Options">9.2 Choosing Package Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Selecting optional features.
</td></tr>
<tr><td align="left" valign="top"><a href="#Site-Details">9.3 Configuring Site Details</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Configuring site details.
</td></tr>
<tr><td align="left" valign="top"><a href="#Transforming-Names">9.4 Transforming Program Names When Installing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Changing program names when installing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Site-Defaults">9.5 Setting Site Defaults</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Giving <code>configure</code> local defaults.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Transforming Program Names When Installing

</pre></th></tr><tr><td align="left" valign="top"><a href="#Transformation-Options">9.4.1 Transformation Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      <code>configure</code> options to transform names.
</td></tr>
<tr><td align="left" valign="top"><a href="#Transformation-Examples">9.4.2 Transformation Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     Sample uses of transforming names.
</td></tr>
<tr><td align="left" valign="top"><a href="#Transformation-Rules">9.4.3 Transformation Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        &lsquo;<tt>Makefile</tt>&rsquo; uses of transforming names.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Running <code>configure</code> Scripts

</pre></th></tr><tr><td align="left" valign="top"><a href="#Basic-Installation">10.1 Basic Installation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Instructions for typical cases.
</td></tr>
<tr><td align="left" valign="top"><a href="#Compilers-and-Options">10.2 Compilers and Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Selecting compilers and optimization.
</td></tr>
<tr><td align="left" valign="top"><a href="#Multiple-Architectures">10.3 Compiling For Multiple Architectures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Compiling for multiple architectures at once.
</td></tr>
<tr><td align="left" valign="top"><a href="#Installation-Names">10.4 Installation Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Installing in different directories.
</td></tr>
<tr><td align="left" valign="top"><a href="#Optional-Features">10.5 Optional Features</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Selecting optional features.
</td></tr>
<tr><td align="left" valign="top"><a href="#System-Type">10.6 Specifying the System Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Specifying the system type.
</td></tr>
<tr><td align="left" valign="top"><a href="#Sharing-Defaults">10.7 Sharing Defaults</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Setting site-wide defaults for <code>configure</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Operation-Controls">10.8 Operation Controls</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Changing how <code>configure</code> runs.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Questions About Autoconf

</pre></th></tr><tr><td align="left" valign="top"><a href="#Distributing">12.1 Distributing <code>configure</code> Scripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Distributing <code>configure</code> scripts.
</td></tr>
<tr><td align="left" valign="top"><a href="#Why-GNU-m4">12.2 Why Require GNU <code>m4</code>?</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  Why not use the standard <code>m4</code>?
</td></tr>
<tr><td align="left" valign="top"><a href="#Bootstrapping">12.3 How Can I Bootstrap?</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Autoconf and GNU <code>m4</code> require each other?
</td></tr>
<tr><td align="left" valign="top"><a href="#Why-Not-Imake">12.4 Why Not Imake?</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Why GNU uses <code>configure</code> instead of Imake.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Upgrading From Version 1

</pre></th></tr><tr><td align="left" valign="top"><a href="#Changed-File-Names">13.1 Changed File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Files you might rename.
</td></tr>
<tr><td align="left" valign="top"><a href="#Changed-Makefiles">13.2 Changed Makefiles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           New things to put in &lsquo;<tt>Makefile.in</tt>&rsquo;.
</td></tr>
<tr><td align="left" valign="top"><a href="#Changed-Macros">13.3 Changed Macros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Macro calls you might replace.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-autoupdate">13.4 Using <code>autoupdate</code> to Modernize <code>configure</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Replacing old macro names in <code>configure.in</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Changed-Results">13.5 Changed Results</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Changes in how to check test results.
</td></tr>
<tr><td align="left" valign="top"><a href="#Changed-Macro-Writing">13.6 Changed Macro Writing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Better ways to write your own macros.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
History of Autoconf

</pre></th></tr><tr><td align="left" valign="top"><a href="#Genesis">14.1 Genesis</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Prehistory and naming of <code>configure</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Exodus">14.2 Exodus</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      The plagues of <code>m4</code> and Perl.
</td></tr>
<tr><td align="left" valign="top"><a href="#Leviticus">14.3 Leviticus</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   The priestly code of portability arrives.
</td></tr>
<tr><td align="left" valign="top"><a href="#Numbers">14.4 Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Growth and contributors.
</td></tr>
<tr><td align="left" valign="top"><a href="#Deuteronomy">14.5 Deuteronomy</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Approaching the promises of easy configuration.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
</pre></th></tr></table>

<hr size="1">
<a name="Introduction"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[ &lt;&lt; ]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Introduction-1"></a>
<h1 class="chapter">1. Introduction</h1>

<table><tr><td>&nbsp;</td><td><pre class="display">A physicist, an engineer, and a computer scientist were
discussing the nature of God.  Surely a Physicist, said the
physicist, because early in the Creation, God made Light; and you
know, Maxwell&rsquo;s equations, the dual nature of electro-magnetic
waves, the relativist consequences&hellip; An Engineer!, said the
engineer, because before making Light, God split the Chaos into
Land and Water; it takes a hell of an engineer to handle that big
amount of mud, and orderly separation of solids from
liquids&hellip; The computer scientist shouted: And the Chaos,
where do you think it was coming from, hmm?

&mdash;Anonymous
</pre></td></tr></table>

<p>Autoconf is a tool for producing shell scripts that automatically
configure software source code packages to adapt to many kinds of
UNIX-like systems.  The configuration scripts produced by Autoconf are
independent of Autoconf when they are run, so their users do not need to
have Autoconf.
</p>
<p>The configuration scripts produced by Autoconf require no manual user
intervention when run; they do not normally even need an argument
specifying the system type.  Instead, they test for the presence of each
feature that the software package they are for might need individually.
(Before each check, they print a one-line message stating what they are
checking for, so the user doesn&rsquo;t get too bored while waiting for the
script to finish.)  As a result, they deal well with systems that are
hybrids or customized from the more common UNIX variants.  There is no
need to maintain files that list the features supported by each release
of each variant of UNIX.
</p>
<p>For each software package that Autoconf is used with, it creates a
configuration script from a template file that lists the
system features that the package needs or can use.  After the shell code to
recognize and respond to a system feature has been written,
Autoconf allows it to be shared by many software packages that can
use (or need) that feature.  If it later turns out that the shell code
needs adjustment for some reason, it needs to be changed in only one
place; all of the configuration scripts can be regenerated
automatically to take advantage of the updated code.
</p>
<p>The Metaconfig package is similar in purpose to Autoconf, but
the scripts it produces require manual user intervention, which is quite
inconvenient when configuring large source trees.  Unlike Metaconfig
scripts, Autoconf scripts can support cross-compiling, if some care is
taken in writing them.
</p>
<p>There are several jobs related to making portable software packages
that Autoconf currently does not do.  Among these are automatically
creating &lsquo;<tt>Makefile</tt>&rsquo; files with all of the standard targets, and
supplying replacements for standard library functions and header files on
systems that lack them.  Work is in progress to add those features in
the future.
</p>
<p>Autoconf imposes some restrictions on the names of macros used with
<code>#ifdef</code> in C programs (see section <a href="#Preprocessor-Symbol-Index">Preprocessor Symbol Index</a>).
</p>
<p>Autoconf requires GNU <code>m4</code> in order to generate the scripts.  It
uses features that some UNIX versions of <code>m4</code> do not have.  It also
overflows internal limits of some versions of <code>m4</code>, including GNU
<code>m4</code> 1.0.  You must use version 1.1 or later of GNU <code>m4</code>.
Using version 1.3 or later will be much faster than 1.1 or 1.2.
</p>
<p>See section <a href="#Upgrading">Upgrading From Version 1</a>, for information about upgrading from version 1.
See section <a href="#History">History of Autoconf</a>, for the story of Autoconf&rsquo;s development.
See section <a href="#Questions">Questions About Autoconf</a>, for answers to some common questions about Autoconf.
</p>
<p>Mail suggestions and bug reports for Autoconf to
<code>bug-gnu-utils@prep.ai.mit.edu</code>.  Please include the Autoconf version
number, which you can get by running &lsquo;<samp>autoconf --version</samp>&rsquo;.
</p>
<hr size="6">
<a name="Making-configure-Scripts"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Introduction" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-configure_002ein" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Making-configure-Scripts-1"></a>
<h1 class="chapter">2. Making <code>configure</code> Scripts</h1>

<p>The configuration scripts that Autoconf produces are by convention
called <code>configure</code>.  When run, <code>configure</code> creates several
files, replacing configuration parameters in them with appropriate
values.  The files that <code>configure</code> creates are:
</p>
<ul>
<li>
one or more &lsquo;<tt>Makefile</tt>&rsquo; files, one in each subdirectory of the
package (see section <a href="#Makefile-Substitutions">Substitutions in Makefiles</a>);

</li><li>
optionally, a C header file, the name of which is configurable,
containing <code>#define</code> directives (see section <a href="#Configuration-Headers">Configuration Header Files</a>);

</li><li>
a shell script called &lsquo;<tt>config.status</tt>&rsquo; that, when run, will recreate
the files listed above (see section <a href="#Invoking-config_002estatus">Recreating a Configuration</a>);

</li><li>
a shell script called &lsquo;<tt>config.cache</tt>&rsquo; that saves the results of
running many of the tests (see section <a href="#Cache-Files">Cache Files</a>);

</li><li>
a file called &lsquo;<tt>config.log</tt>&rsquo; containing any messages produced by
compilers, to help debugging if <code>configure</code> makes a mistake.
</li></ul>

<p>To create a <code>configure</code> script with Autoconf, you need to write an
Autoconf input file &lsquo;<tt>configure.in</tt>&rsquo; and run <code>autoconf</code> on it.
If you write your own feature tests to supplement those that come with
Autoconf, you might also write files called &lsquo;<tt>aclocal.m4</tt>&rsquo; and
&lsquo;<tt>acsite.m4</tt>&rsquo;.  If you use a C header file to contain <code>#define</code>
directives, you might also write &lsquo;<tt>acconfig.h</tt>&rsquo;, and you will
distribute the Autoconf-generated file &lsquo;<tt>config.h.in</tt>&rsquo; with the
package.
</p>
<p>Here is a diagram showing how the files that can be used in
configuration are produced.  Programs that are executed are suffixed by
&lsquo;<samp>*</samp>&rsquo;.  Optional files are enclosed in square brackets (&lsquo;<samp>[]</samp>&rsquo;).
<code>autoconf</code> and <code>autoheader</code> also read the installed Autoconf
macro files (by reading &lsquo;<tt>autoconf.m4</tt>&rsquo;).
</p>
<p>Files used in preparing a software package for distribution:
</p><table><tr><td>&nbsp;</td><td><pre class="example">your source files --&gt; [autoscan*] --&gt; [configure.scan] --&gt; configure.in

configure.in --.   .------&gt; autoconf* -----&gt; configure
               +---+
[aclocal.m4] --+   `---.
[acsite.m4] ---'       |
                       +--&gt; [autoheader*] -&gt; [config.h.in]
[acconfig.h] ----.     |
                 +-----'
[config.h.top] --+
[config.h.bot] --'

Makefile.in -------------------------------&gt; Makefile.in
</pre></td></tr></table>

<p>Files used in configuring a software package:
</p><table><tr><td>&nbsp;</td><td><pre class="example">                       .-------------&gt; config.cache
configure* ------------+-------------&gt; config.log
                       |
[config.h.in] -.       v            .-&gt; [config.h] -.
               +--&gt; config.status* -+               +--&gt; make*
Makefile.in ---'                    `-&gt; Makefile ---'
</pre></td></tr></table>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Writing-configure_002ein">2.1 Writing &lsquo;<tt>configure.in</tt>&rsquo;</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        What to put in an Autoconf input file.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-autoscan">2.2 Using <code>autoscan</code> to Create &lsquo;<tt>configure.in</tt>&rsquo;</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Semi-automatic &lsquo;<tt>configure.in</tt>&rsquo; writing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-ifnames">2.3 Using <code>ifnames</code> to List Conditionals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Listing the conditionals in source code.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-autoconf">2.4 Using <code>autoconf</code> to Create <code>configure</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How to create configuration scripts.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-autoreconf">2.5 Using <code>autoreconf</code> to Update <code>configure</code> Scripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Remaking multiple <code>configure</code> scripts.
</td></tr>
</table>

<hr size="6">
<a name="Writing-configure_002ein"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-autoscan" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Writing-configure_002ein-1"></a>
<h2 class="section">2.1 Writing &lsquo;<tt>configure.in</tt>&rsquo;</h2>

<p>To produce a <code>configure</code> script for a software package, create a
file called &lsquo;<tt>configure.in</tt>&rsquo; that contains invocations of the
Autoconf macros that test the system features your package needs or can
use.  Autoconf macros already exist to check for many features; see
<a href="#Existing-Tests">Existing Tests</a>, for their descriptions.  For most other
features, you can use Autoconf template macros to produce custom checks;
see <a href="#Writing-Tests">Writing Tests</a>, for information about them.  For especially
tricky or specialized features, &lsquo;<tt>configure.in</tt>&rsquo; might need to
contain some hand-crafted shell commands.  The <code>autoscan</code>
program can give you a good start in writing &lsquo;<tt>configure.in</tt>&rsquo;
(see section <a href="#Invoking-autoscan">Using <code>autoscan</code> to Create &lsquo;<tt>configure.in</tt>&rsquo;</a>, for more information).
</p>
<p>The order in which &lsquo;<tt>configure.in</tt>&rsquo; calls the Autoconf macros
is not important, with a few exceptions.  Every
&lsquo;<tt>configure.in</tt>&rsquo; must contain a call to <code>AC_INIT</code> before
the checks, and a call to <code>AC_OUTPUT</code> at the end
(see section <a href="#Output">Creating Output Files</a>).  Additionally, some macros rely on other macros
having been called first, because they check previously set
values of some variables to decide what to do.  These macros are
noted in the individual descriptions (see section <a href="#Existing-Tests">Existing Tests</a>),
and they also warn you when creating <code>configure</code> if they are
called out of order.
</p>
<p>To encourage consistency, here is a suggested order for calling the
Autoconf macros.  Generally speaking, the things near the end of this
list could depend on things earlier in it.  For example, library
functions could be affected by typedefs and libraries.
</p>
<table><tr><td>&nbsp;</td><td><pre class="display"><code>AC_INIT(<var>file</var>)</code>
checks for programs
checks for libraries
checks for header files
checks for typedefs
checks for structures
checks for compiler characteristics
checks for library functions
checks for system services
<code>AC_OUTPUT(<span class="roman">[</span><var>file&hellip;</var><span class="roman">]</span>)</code>
</pre></td></tr></table>

<p>It is best to put each macro call on its own line in
&lsquo;<tt>configure.in</tt>&rsquo;.  Most of the macros don&rsquo;t add extra newlines; they
rely on the newline after the macro call to terminate the commands.
This approach makes the generated <code>configure</code> script a little
easier to read by not inserting lots of blank lines.  It is generally
safe to set shell variables on the same line as a macro call, because
the shell allows assignments without intervening newlines.
</p>
<p>When calling macros that take arguments, there must not be any blank
space between the macro name and the open parenthesis.  Arguments can be
more than one line long if they are enclosed within the <code>m4</code> quote
characters &lsquo;<samp>[</samp>&rsquo; and &lsquo;<samp>]</samp>&rsquo;.  If you have a long line such as a
list of file names, you can generally use a backslash at the end of a
line to continue it logically on the next line (this is implemented by
the shell, not by anything special that Autoconf does).
</p>
<p>Some macros handle two cases: what to do if the given condition is met,
and what to do if the condition is not met.  In some places you might
want to do something if a condition is true but do nothing if it&rsquo;s
false, or vice versa.  To omit the true case, pass an empty value for
the <var>action-if-found</var> argument to the macro.  To omit the false
case, omit the <var>action-if-not-found</var> argument to the macro,
including the comma before it.
</p>
<p>You can include comments in &lsquo;<tt>configure.in</tt>&rsquo; files by starting them
with the <code>m4</code> builtin macro <code>dnl</code>, which discards text up
through the next newline.  These comments do not appear in the generated
<code>configure</code> scripts.  For example, it is helpful to begin
&lsquo;<tt>configure.in</tt>&rsquo; files with a line like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">dnl Process this file with autoconf to produce a configure script.
</pre></td></tr></table>

<hr size="6">
<a name="Invoking-autoscan"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Writing-configure_002ein" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-ifnames" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-autoscan-to-Create-configure_002ein"></a>
<h2 class="section">2.2 Using <code>autoscan</code> to Create &lsquo;<tt>configure.in</tt>&rsquo;</h2>

<p>The <code>autoscan</code> program can help you create a &lsquo;<tt>configure.in</tt>&rsquo;
file for a software package.  <code>autoscan</code> examines source files in
the directory tree rooted at a directory given as a command line
argument, or the current directory if none is given.  It searches the
source files for common portability problems and creates a file
&lsquo;<tt>configure.scan</tt>&rsquo; which is a preliminary &lsquo;<tt>configure.in</tt>&rsquo; for
that package.
</p>
<p>You should manually examine &lsquo;<tt>configure.scan</tt>&rsquo; before renaming it to
&lsquo;<tt>configure.in</tt>&rsquo;; it will probably need some adjustments.
Occasionally <code>autoscan</code> outputs a macro in the wrong order relative
to another macro, so that <code>autoconf</code> produces a warning; you need
to move such macros manually.  Also, if you want the package to use a
configuration header file, you must add a call to
<code>AC_CONFIG_HEADER</code> (see section <a href="#Configuration-Headers">Configuration Header Files</a>).  You might also
have to change or add some <code>#if</code> directives to your program in
order to make it work with Autoconf (see section <a href="#Invoking-ifnames">Using <code>ifnames</code> to List Conditionals</a>, for
information about a program that can help with that job).
</p>
<p><code>autoscan</code> uses several data files, which are installed along with the
distributed Autoconf macro files, to determine which macros to output
when it finds particular symbols in a package&rsquo;s source files.  These
files all have the same format.  Each line consists of a symbol,
whitespace, and the Autoconf macro to output if that symbol is
encountered.  Lines starting with &lsquo;<samp>#</samp>&rsquo; are comments.
</p>
<p><code>autoscan</code> is only installed if you already have Perl installed.
<code>autoscan</code> accepts the following options:
</p>
<dl compact="compact">
<dt> <code>--help</code></dt>
<dd><p>Print a summary of the command line options and exit.
</p>
</dd>
<dt> <code>--macrodir=<var>dir</var></code></dt>
<dd><a name="index-AC_005fMACRODIR"></a>
<p>Look for the data files in directory <var>dir</var> instead of the default
installation directory.  You can also set the <code>AC_MACRODIR</code>
environment variable to a directory; this option overrides the
environment variable.
</p>
</dd>
<dt> <code>--verbose</code></dt>
<dd><p>Print the names of the files it examines and the potentially interesting
symbols it finds in them.  This output can be voluminous.
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>Print the version number of Autoconf and exit.
</p></dd>
</dl>

<hr size="6">
<a name="Invoking-ifnames"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Invoking-autoscan" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-autoconf" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-ifnames-to-List-Conditionals"></a>
<h2 class="section">2.3 Using <code>ifnames</code> to List Conditionals</h2>

<p><code>ifnames</code> can help when writing a &lsquo;<tt>configure.in</tt>&rsquo; for a
software package.  It prints the identifiers that the package already
uses in C preprocessor conditionals.  If a package has already been set
up to have some portability, this program can help you figure out what
its <code>configure</code> needs to check for.  It may help fill in some gaps
in a &lsquo;<tt>configure.in</tt>&rsquo; generated by <code>autoscan</code> (see section <a href="#Invoking-autoscan">Using <code>autoscan</code> to Create &lsquo;<tt>configure.in</tt>&rsquo;</a>).
</p>
<p><code>ifnames</code> scans all of the C source files named on the command line
(or the standard input, if none are given) and writes to the standard
output a sorted list of all the identifiers that appear in those files
in <code>#if</code>, <code>#elif</code>, <code>#ifdef</code>, or <code>#ifndef</code>
directives.  It prints each identifier on a line, followed by a
space-separated list of the files in which that identifier occurs.
</p>
<p><code>ifnames</code> accepts the following options:
</p>
<dl compact="compact">
<dt> <code>--help</code></dt>
<dt> <code>-h</code></dt>
<dd><p>Print a summary of the command line options and exit.
</p>
</dd>
<dt> <code>--macrodir=<var>dir</var></code></dt>
<dt> <code>-m <var>dir</var></code></dt>
<dd><a name="index-AC_005fMACRODIR-1"></a>
<p>Look for the Autoconf macro files in directory <var>dir</var> instead of the
default installation directory.  Only used to get the version number.
You can also set the <code>AC_MACRODIR</code>
environment variable to a directory; this option overrides the
environment variable.
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>Print the version number of Autoconf and exit.
</p></dd>
</dl>

<hr size="6">
<a name="Invoking-autoconf"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Invoking-ifnames" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-autoreconf" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-autoconf-to-Create-configure"></a>
<h2 class="section">2.4 Using <code>autoconf</code> to Create <code>configure</code></h2>

<p>To create <code>configure</code> from &lsquo;<tt>configure.in</tt>&rsquo;, run the
<code>autoconf</code> program with no arguments.  <code>autoconf</code> processes
&lsquo;<tt>configure.in</tt>&rsquo; with the <code>m4</code> macro processor, using the
Autoconf macros.  If you give <code>autoconf</code> an argument, it reads that
file instead of &lsquo;<tt>configure.in</tt>&rsquo; and writes the configuration script
to the standard output instead of to <code>configure</code>.  If you give
<code>autoconf</code> the argument &lsquo;<samp>-</samp>&rsquo;, it reads the standard input
instead of &lsquo;<tt>configure.in</tt>&rsquo; and writes the configuration script on
the standard output.
</p>
<p>The Autoconf macros are defined in several files.  Some of the files are
distributed with Autoconf; <code>autoconf</code> reads them first.  Then it
looks for the optional file &lsquo;<tt>acsite.m4</tt>&rsquo; in the directory that
contains the distributed Autoconf macro files, and for the optional file
&lsquo;<tt>aclocal.m4</tt>&rsquo; in the current directory.  Those files can contain
your site&rsquo;s or the package&rsquo;s own Autoconf macro definitions
(see section <a href="#Writing-Macros">Writing Macros</a>, for more information).  If a macro is defined
in more than one of the files that <code>autoconf</code> reads, the last
definition it reads overrides the earlier ones.
</p>
<p><code>autoconf</code> accepts the following options:
</p>
<dl compact="compact">
<dt> <code>--help</code></dt>
<dt> <code>-h</code></dt>
<dd><p>Print a summary of the command line options and exit.
</p>
</dd>
<dt> <code>--localdir=<var>dir</var></code></dt>
<dt> <code>-l <var>dir</var></code></dt>
<dd><p>Look for the package file &lsquo;<tt>aclocal.m4</tt>&rsquo; in directory <var>dir</var>
instead of in the current directory.
</p>
</dd>
<dt> <code>--macrodir=<var>dir</var></code></dt>
<dt> <code>-m <var>dir</var></code></dt>
<dd><a name="index-AC_005fMACRODIR-2"></a>
<p>Look for the installed macro files in directory <var>dir</var>.  You can also
set the <code>AC_MACRODIR</code> environment variable to a directory; this
option overrides the environment variable.
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>Print the version number of Autoconf and exit.
</p></dd>
</dl>

<hr size="6">
<a name="Invoking-autoreconf"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Invoking-autoconf" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-autoreconf-to-Update-configure-Scripts"></a>
<h2 class="section">2.5 Using <code>autoreconf</code> to Update <code>configure</code> Scripts</h2>

<p>If you have a lot of Autoconf-generated <code>configure</code> scripts, the
<code>autoreconf</code> program can save you some work.  It runs
<code>autoconf</code> (and <code>autoheader</code>, where appropriate) repeatedly to
remake the Autoconf <code>configure</code> scripts and configuration header
templates in the directory tree rooted at the current directory.  By
default, it only remakes those files that are older than their
&lsquo;<tt>configure.in</tt>&rsquo; or (if present) &lsquo;<tt>aclocal.m4</tt>&rsquo;.  Since
<code>autoheader</code> does not change the timestamp of its output file if
the file wouldn&rsquo;t be changing, this is not necessarily the minimum
amount of work.  If you install a new version of Autoconf, you can make
<code>autoreconf</code> remake <em>all</em> of the files by giving it the
&lsquo;<samp>--force</samp>&rsquo; option.
</p>
<p>If you give <code>autoreconf</code> the &lsquo;<samp>--macrodir=<var>dir</var></samp>&rsquo; or
&lsquo;<samp>--localdir=<var>dir</var></samp>&rsquo; options, it passes them down to
<code>autoconf</code> and <code>autoheader</code> (with relative paths adjusted
properly).
</p>
<p><code>autoreconf</code> does not support having, in the same directory tree,
both directories that are parts of a larger package (sharing
&lsquo;<tt>aclocal.m4</tt>&rsquo; and &lsquo;<tt>acconfig.h</tt>&rsquo;), and directories that are
independent packages (each with their own &lsquo;<tt>aclocal.m4</tt>&rsquo; and
&lsquo;<tt>acconfig.h</tt>&rsquo;).  It assumes that they are all part of the same
package, if you use &lsquo;<samp>--localdir</samp>&rsquo;, or that each directory is a
separate package, if you don&rsquo;t use it.  This restriction may be removed
in the future.
</p>
<p>See section <a href="#Automatic-Remaking">Automatic Remaking</a>, for &lsquo;<tt>Makefile</tt>&rsquo; rules to automatically
remake <code>configure</code> scripts when their source files change.  That
method handles the timestamps of configuration header templates
properly, but does not pass &lsquo;<samp>--macrodir=<var>dir</var></samp>&rsquo; or
&lsquo;<samp>--localdir=<var>dir</var></samp>&rsquo;.
</p>
<p><code>autoreconf</code> accepts the following options:
</p>
<dl compact="compact">
<dt> <code>--help</code></dt>
<dt> <code>-h</code></dt>
<dd><p>Print a summary of the command line options and exit.
</p>
</dd>
<dt> <code>--force</code></dt>
<dt> <code>-f</code></dt>
<dd><p>Remake even &lsquo;<tt>configure</tt>&rsquo; scripts and configuration headers that are
newer than their input files (&lsquo;<tt>configure.in</tt>&rsquo; and, if present,
&lsquo;<tt>aclocal.m4</tt>&rsquo;).
</p>
</dd>
<dt> <code>--localdir=<var>dir</var></code></dt>
<dt> <code>-l <var>dir</var></code></dt>
<dd><p>Have <code>autoconf</code> and <code>autoheader</code> look for the package files
&lsquo;<tt>aclocal.m4</tt>&rsquo; and (<code>autoheader</code> only) &lsquo;<tt>acconfig.h</tt>&rsquo; (but
not &lsquo;<tt><var>file</var>.top</tt>&rsquo; and &lsquo;<tt><var>file</var>.bot</tt>&rsquo;) in directory
<var>dir</var> instead of in the directory containing each &lsquo;<tt>configure.in</tt>&rsquo;.
</p>
</dd>
<dt> <code>--macrodir=<var>dir</var></code></dt>
<dt> <code>-m <var>dir</var></code></dt>
<dd><a name="index-AC_005fMACRODIR-3"></a>
<p>Look for the Autoconf macro files in directory <var>dir</var> instead of the
default installation directory.
You can also set the <code>AC_MACRODIR</code>
environment variable to a directory; this option overrides the
environment variable.
</p>
</dd>
<dt> <code>--verbose</code></dt>
<dd><p>Print the name of each directory where <code>autoreconf</code> runs
<code>autoconf</code> (and <code>autoheader</code>, if appropriate).
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>Print the version number of Autoconf and exit.
</p></dd>
</dl>

<hr size="6">
<a name="Setup"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Invoking-autoreconf" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Input" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Making-configure-Scripts" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Initialization-and-Output-Files"></a>
<h1 class="chapter">3. Initialization and Output Files</h1>

<p>Autoconf-generated <code>configure</code> scripts need some information about
how to initialize, such as how to find the package&rsquo;s source files; and
about the output files to produce.  The following sections describe
initialization and creating output files.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Input">3.1 Finding <code>configure</code> Input</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                       Where Autoconf should find files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Output">3.2 Creating Output Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      Creating output files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Makefile-Substitutions">3.3 Substitutions in Makefiles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Using output variables in &lsquo;<tt>Makefile</tt>&rsquo;s.
</td></tr>
<tr><td align="left" valign="top"><a href="#Configuration-Headers">3.4 Configuration Header Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Creating a configuration header file.
</td></tr>
<tr><td align="left" valign="top"><a href="#Subdirectories">3.5 Configuring Other Packages in Subdirectories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Configuring independent packages together.
</td></tr>
<tr><td align="left" valign="top"><a href="#Default-Prefix">3.6 Default Prefix</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Changing the default installation prefix.
</td></tr>
<tr><td align="left" valign="top"><a href="#Versions">3.7 Version Numbers in <code>configure</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    Version numbers in <code>configure</code>.
</td></tr>
</table>

<hr size="6">
<a name="Input"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Setup" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Output" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Finding-configure-Input"></a>
<h2 class="section">3.1 Finding <code>configure</code> Input</h2>

<p>Every <code>configure</code> script must call <code>AC_INIT</code> before doing
anything else.  The only other required macro is <code>AC_OUTPUT</code>
(see section <a href="#Output">Creating Output Files</a>).
</p>
<dl>
<dt><a name="index-AC_005fINIT"></a><u>Macro:</u> <b>AC_INIT</b><i> (<var>unique-file-in-source-dir</var>)</i></dt>
<dd><a name="index-INIT"></a>
<p>Process any command-line arguments and find the source code directory.
<var>unique-file-in-source-dir</var> is some file that is in the package&rsquo;s
source directory; <code>configure</code> checks for this file&rsquo;s existence to
make sure that the directory that it is told contains the source code in
fact does.  Occasionally people accidentally specify the wrong directory
with &lsquo;<samp>--srcdir</samp>&rsquo;; this is a safety check.  See section <a href="#Invoking-configure">Running <code>configure</code> Scripts</a>,
for more information.
</p></dd></dl>

<p>Packages that do manual configuration or use the <code>install</code> program
might need to tell <code>configure</code> where to find some other shell
scripts by calling <code>AC_CONFIG_AUX_DIR</code>, though the default places
it looks are correct for most cases.
</p>
<dl>
<dt><a name="index-AC_005fCONFIG_005fAUX_005fDIR"></a><u>Macro:</u> <b>AC_CONFIG_AUX_DIR</b><i> (<var>dir</var>)</i></dt>
<dd><a name="index-CONFIG_005fAUX_005fDIR"></a>
<p>Use the &lsquo;<tt>install-sh</tt>&rsquo;, &lsquo;<tt>config.sub</tt>&rsquo;, &lsquo;<tt>config.guess</tt>&rsquo;, and
Cygnus <code>configure</code> scripts that are in directory <var>dir</var>.  These
are auxiliary files used in configuration.  <var>dir</var> can be either
absolute or relative to &lsquo;<tt><var>srcdir</var></tt>&rsquo;.  The default is
&lsquo;<tt><var>srcdir</var></tt>&rsquo; or &lsquo;<tt><var>srcdir</var>/..</tt>&rsquo; or
&lsquo;<tt><var>srcdir</var>/../..</tt>&rsquo;, whichever is the first that contains
&lsquo;<tt>install-sh</tt>&rsquo;.  The other files are not checked for, so that using
<code>AC_PROG_INSTALL</code> does not automatically require distributing the
other auxiliary files.  It checks for &lsquo;<tt>install.sh</tt>&rsquo; also, but that
name is obsolete because some <code>make</code> programs have a rule that
creates &lsquo;<tt>install</tt>&rsquo; from it if there is no &lsquo;<tt>Makefile</tt>&rsquo;.
</p></dd></dl>

<hr size="6">
<a name="Output"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Input" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefile-Substitutions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Creating-Output-Files"></a>
<h2 class="section">3.2 Creating Output Files</h2>

<p>Every Autoconf-generated <code>configure</code> script must finish by calling
<code>AC_OUTPUT</code>.  It is the macro that creates the &lsquo;<tt>Makefile</tt>&rsquo;s and
optional other files resulting from configuration.  The only other
required macro is <code>AC_INIT</code> (see section <a href="#Input">Finding <code>configure</code> Input</a>).
</p>
<dl>
<dt><a name="index-AC_005fOUTPUT"></a><u>Macro:</u> <b>AC_OUTPUT</b><i> (<span class="roman">[</span><var>file</var>&hellip; <span class="roman">[</span>, <var>extra-cmds</var> <span class="roman">[</span>, <var>init-cmds</var><span class="roman">]]]</span>)</i></dt>
<dd><a name="index-OUTPUT"></a>
<p>Create output files.  Call this macro once, at the end of &lsquo;<tt>configure.in</tt>&rsquo;.
The <var>file</var>&hellip; argument is a
whitespace-separated list of output files; it may be empty.  This macro
creates each file &lsquo;<tt><var>file</var></tt>&rsquo; by copying an input file (by default
named &lsquo;<tt><var>file</var>.in</tt>&rsquo;), substituting the output variable values.
See section <a href="#Makefile-Substitutions">Substitutions in Makefiles</a>, for more information on using output variables.
See section <a href="#Setting-Output-Variables">Setting Output Variables</a>, for more information on creating them.  This
macro creates the directory that the file is in if it doesn&rsquo;t exist (but
not the parents of that directory).  Usually, &lsquo;<tt>Makefile</tt>&rsquo;s are
created this way, but other files, such as &lsquo;<tt>.gdbinit</tt>&rsquo;, can be
specified as well.
</p>
<p>If <code>AC_CONFIG_HEADER</code>, <code>AC_LINK_FILES</code>, or
<code>AC_CONFIG_SUBDIRS</code> has been called, this macro also creates the
files named as their arguments.
</p>
<p>A typical call to <code>AC_OUTPUT</code> looks like this:
</p><table><tr><td>&nbsp;</td><td><pre class="example">AC_OUTPUT(Makefile src/Makefile man/Makefile X/Imakefile)
</pre></td></tr></table>

<p>You can override an input file name by appending to <var>file</var> a
colon-separated list of input files.  Examples:
</p><table><tr><td>&nbsp;</td><td><pre class="example">AC_OUTPUT(Makefile:templates/top.mk lib/Makefile:templates/lib.mk)
AC_OUTPUT(Makefile:templates/vars.mk:Makefile.in:templates/rules.mk)
</pre></td></tr></table>
<p>Doing this allows you to keep your file names acceptable to MS-DOS, or
to prepend and/or append boilerplate to the file.
</p>
<p>If you pass <var>extra-cmds</var>, those commands will be inserted into
&lsquo;<tt>config.status</tt>&rsquo; to be run after all its other processing.  If
<var>init-cmds</var> are given, they are inserted just before
<var>extra-cmds</var>, with shell variable, command, and backslash
substitutions performed on them in <code>configure</code>.  You can use
<var>init-cmds</var> to pass variables from <code>configure</code> to the
<var>extra-cmds</var>.  If <code>AC_OUTPUT_COMMANDS</code> has been called, the
commands given to it are run just before the commands passed to this macro.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fOUTPUT_005fCOMMANDS"></a><u>Macro:</u> <b>AC_OUTPUT_COMMANDS</b><i> (<var>extra-cmds</var> <span class="roman">[</span>, <var>init-cmds</var><span class="roman">]</span>)</i></dt>
<dd><p>Specify additional shell commands to run at the end of
&lsquo;<tt>config.status</tt>&rsquo;, and shell commands to initialize any variables
from <code>configure</code>.  This macro may be called multiple times.
Here is an unrealistic example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">fubar=27
AC_OUTPUT_COMMANDS([echo this is extra $fubar, and so on.], fubar=$fubar)
AC_OUTPUT_COMMANDS([echo this is another, extra, bit], [echo init bit])
</pre></td></tr></table>
</dd></dl>

<p>If you run <code>make</code> on subdirectories, you should run it using the
<code>make</code> variable <code>MAKE</code>.  Most versions of <code>make</code> set
<code>MAKE</code> to the name of the <code>make</code> program plus any options it
was given.  (But many do not include in it the values of any variables
set on the command line, so those are not passed on automatically.)
Some old versions of <code>make</code> do not set this variable.  The
following macro allows you to use it even with those versions.
</p>
<dl>
<dt><a name="index-AC_005fPROG_005fMAKE_005fSET"></a><u>Macro:</u> <b>AC_PROG_MAKE_SET</b></dt>
<dd><a name="index-PROG_005fMAKE_005fSET"></a>
<a name="index-SET_005fMAKE"></a>
<p>If <code>make</code> predefines the variable <code>MAKE</code>, define output
variable <code>SET_MAKE</code> to be empty.  Otherwise, define <code>SET_MAKE</code>
to contain &lsquo;<samp>MAKE=make</samp>&rsquo;.  Calls <code>AC_SUBST</code> for <code>SET_MAKE</code>.
</p></dd></dl>

<p>To use this macro, place a line like this in each &lsquo;<tt>Makefile.in</tt>&rsquo;
that runs <code>MAKE</code> on other directories:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">@SET_MAKE@
</pre></td></tr></table>

<hr size="6">
<a name="Makefile-Substitutions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Output" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Preset-Output-Variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Substitutions-in-Makefiles"></a>
<h2 class="section">3.3 Substitutions in Makefiles</h2>

<p>Each subdirectory in a distribution that contains something to be
compiled or installed should come with a file &lsquo;<tt>Makefile.in</tt>&rsquo;, from
which <code>configure</code> will create a &lsquo;<tt>Makefile</tt>&rsquo; in that directory.
To create a &lsquo;<tt>Makefile</tt>&rsquo;, <code>configure</code> performs a simple variable
substitution, replacing occurrences of &lsquo;<samp>@<var>variable</var>@</samp>&rsquo; in
&lsquo;<tt>Makefile.in</tt>&rsquo; with the value that <code>configure</code> has determined
for that variable.  Variables that are substituted into output files in
this way are called <em>output variables</em>.  They are ordinary shell
variables that are set in <code>configure</code>.  To make <code>configure</code>
substitute a particular variable into the output files, the macro
<code>AC_SUBST</code> must be called with that variable name as an argument.
Any occurrences of &lsquo;<samp>@<var>variable</var>@</samp>&rsquo; for other variables are
left unchanged.  See section <a href="#Setting-Output-Variables">Setting Output Variables</a>, for more information on
creating output variables with <code>AC_SUBST</code>.
</p>
<p>A software package that uses a <code>configure</code> script should be
distributed with a file &lsquo;<tt>Makefile.in</tt>&rsquo;, but no &lsquo;<tt>Makefile</tt>&rsquo;; that
way, the user has to properly configure the package for the local system
before compiling it.
</p>
<p>See <a href="#Makefile-Conventions">(standards)Makefile Conventions</a> section &lsquo;Makefile Conventions&rsquo; in <cite>The GNU Coding Standards</cite>, for more information on what to put in
&lsquo;<tt>Makefile</tt>&rsquo;s.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     Output variables that are always set.
</td></tr>
<tr><td align="left" valign="top"><a href="#Build-Directories">3.3.2 Build Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Supporting multiple concurrent compiles.
</td></tr>
<tr><td align="left" valign="top"><a href="#Automatic-Remaking">3.3.3 Automatic Remaking</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Makefile rules for configuring.
</td></tr>
</table>

<hr size="6">
<a name="Preset-Output-Variables"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Makefile-Substitutions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Build-Directories" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefile-Substitutions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Preset-Output-Variables-1"></a>
<h3 class="subsection">3.3.1 Preset Output Variables</h3>

<p>Some output variables are preset by the Autoconf macros.  Some of the
Autoconf macros set additional output variables, which are mentioned in
the descriptions for those macros.  See section <a href="#Output-Variable-Index">Output Variable Index</a>, for a
complete list of output variables.  Here is what each of the preset ones
contains.  See <a href="#Directory-Variables">(standards)Directory Variables</a> section &lsquo;Variables for Installation Directories&rsquo; in <cite>The GNU Coding Standards</cite>, for more information about
the variables with names that end in &lsquo;<samp>dir</samp>&rsquo;.
</p>
<dl>
<dt><a name="index-bindir"></a><u>Variable:</u> <b>bindir</b></dt>
<dd><a name="index-bindir-1"></a>
<p>The directory for installing executables that users run.
</p></dd></dl>

<dl>
<dt><a name="index-configure_005finput"></a><u>Variable:</u> <b>configure_input</b></dt>
<dd><a name="index-configure_005finput-1"></a>
<p>A comment saying that the file was generated automatically by
<code>configure</code> and giving the name of the input file.
<code>AC_OUTPUT</code> adds a comment line containing this variable to the top
of every &lsquo;<tt>Makefile</tt>&rsquo; it creates.  For other files, you should
reference this variable in a comment at the top of each input file.  For
example, an input shell script should begin like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#! /bin/sh
# @configure_input@
</pre></td></tr></table>

<p>The presence of that line also reminds people editing the file that it
needs to be processed by <code>configure</code> in order to be used.
</p></dd></dl>

<dl>
<dt><a name="index-datadir"></a><u>Variable:</u> <b>datadir</b></dt>
<dd><a name="index-datadir-1"></a>
<p>The directory for installing read-only architecture-independent data.
</p></dd></dl>

<dl>
<dt><a name="index-exec_005fprefix"></a><u>Variable:</u> <b>exec_prefix</b></dt>
<dd><a name="index-exec_005fprefix-1"></a>
<p>The installation prefix for architecture-dependent files.
</p></dd></dl>

<dl>
<dt><a name="index-includedir"></a><u>Variable:</u> <b>includedir</b></dt>
<dd><a name="index-includedir-1"></a>
<p>The directory for installing C header files.
</p></dd></dl>

<dl>
<dt><a name="index-infodir"></a><u>Variable:</u> <b>infodir</b></dt>
<dd><a name="index-infodir-1"></a>
<p>The directory for installing documentation in Info format.
</p></dd></dl>

<dl>
<dt><a name="index-libdir"></a><u>Variable:</u> <b>libdir</b></dt>
<dd><a name="index-libdir-1"></a>
<p>The directory for installing object code libraries.
</p></dd></dl>

<dl>
<dt><a name="index-libexecdir"></a><u>Variable:</u> <b>libexecdir</b></dt>
<dd><a name="index-libexecdir-1"></a>
<p>The directory for installing executables that other programs run.
</p></dd></dl>

<dl>
<dt><a name="index-localstatedir"></a><u>Variable:</u> <b>localstatedir</b></dt>
<dd><a name="index-localstatedir-1"></a>
<p>The directory for installing modifiable single-machine data.
</p></dd></dl>

<dl>
<dt><a name="index-mandir"></a><u>Variable:</u> <b>mandir</b></dt>
<dd><a name="index-mandir-1"></a>
<p>The top-level directory for installing documentation in man format.
</p></dd></dl>

<dl>
<dt><a name="index-oldincludedir"></a><u>Variable:</u> <b>oldincludedir</b></dt>
<dd><a name="index-oldincludedir-1"></a>
<p>The directory for installing C header files for non-gcc compilers.
</p></dd></dl>

<dl>
<dt><a name="index-prefix"></a><u>Variable:</u> <b>prefix</b></dt>
<dd><a name="index-prefix-1"></a>
<p>The installation prefix for architecture-independent files.
</p></dd></dl>

<dl>
<dt><a name="index-sbindir"></a><u>Variable:</u> <b>sbindir</b></dt>
<dd><a name="index-sbindir-1"></a>
<p>The directory for installing executables that system
administrators run.
</p></dd></dl>

<dl>
<dt><a name="index-sharedstatedir"></a><u>Variable:</u> <b>sharedstatedir</b></dt>
<dd><a name="index-sharedstatedir-1"></a>
<p>The directory for installing modifiable architecture-independent data.
</p></dd></dl>

<dl>
<dt><a name="index-srcdir"></a><u>Variable:</u> <b>srcdir</b></dt>
<dd><a name="index-srcdir-1"></a>
<p>The directory that contains the source code for that &lsquo;<tt>Makefile</tt>&rsquo;.
</p></dd></dl>

<dl>
<dt><a name="index-sysconfdir"></a><u>Variable:</u> <b>sysconfdir</b></dt>
<dd><a name="index-sysconfdir-1"></a>
<p>The directory for installing read-only single-machine data.
</p></dd></dl>

<dl>
<dt><a name="index-top_005fsrcdir"></a><u>Variable:</u> <b>top_srcdir</b></dt>
<dd><a name="index-top_005fsrcdir-1"></a>
<p>The top-level source code directory for the package.  In the top-level
directory, this is the same as <code>srcdir</code>.
</p></dd></dl>

<dl>
<dt><a name="index-CFLAGS"></a><u>Variable:</u> <b>CFLAGS</b></dt>
<dd><a name="index-CFLAGS-1"></a>
<p>Debugging and optimization options for the C compiler.  If it is not set
in the environment when <code>configure</code> runs, the default value is set
when you call <code>AC_PROG_CC</code> (or empty if you don&rsquo;t).  <code>configure</code>
uses this variable when compiling programs to test for C features.
</p></dd></dl>

<dl>
<dt><a name="index-CPPFLAGS"></a><u>Variable:</u> <b>CPPFLAGS</b></dt>
<dd><a name="index-CPPFLAGS-1"></a>
<p>Header file search directory (&lsquo;<samp>-I<var>dir</var></samp>&rsquo;) and any other
miscellaneous options for the C preprocessor and compiler.  If it is not
set in the environment when <code>configure</code> runs, the default value is
empty.  <code>configure</code> uses this variable when compiling or
preprocessing programs to test for C features.
</p></dd></dl>

<dl>
<dt><a name="index-CXXFLAGS"></a><u>Variable:</u> <b>CXXFLAGS</b></dt>
<dd><a name="index-CXXFLAGS-1"></a>
<p>Debugging and optimization options for the C++ compiler.  If it is not
set in the environment when <code>configure</code> runs, the default value is
set when you call <code>AC_PROG_CXX</code> (or empty if you don&rsquo;t).
<code>configure</code> uses this variable when compiling programs to test for
C++ features.
</p></dd></dl>

<dl>
<dt><a name="index-FFLAGS"></a><u>Variable:</u> <b>FFLAGS</b></dt>
<dd><a name="index-FFLAGS-1"></a>
<p>Debugging and optimization options for the Fortran 77 compiler.  If it
is not set in the environment when <code>configure</code> runs, the default
value is set when you call <code>AC_PROG_F77</code> (or empty if you don&rsquo;t).
<code>configure</code> uses this variable when compiling programs to test for
Fortran 77 features.
</p></dd></dl>

<dl>
<dt><a name="index-DEFS"></a><u>Variable:</u> <b>DEFS</b></dt>
<dd><a name="index-DEFS-1"></a>
<p>&lsquo;<samp>-D</samp>&rsquo; options to pass to the C compiler.  If <code>AC_CONFIG_HEADER</code>
is called, <code>configure</code> replaces &lsquo;<samp>@DEFS@</samp>&rsquo; with
&lsquo;<samp>-DHAVE_CONFIG_H</samp>&rsquo; instead (see section <a href="#Configuration-Headers">Configuration Header Files</a>).  This
variable is not defined while <code>configure</code> is performing its tests,
only when creating the output files.  See section <a href="#Setting-Output-Variables">Setting Output Variables</a>, for
how to check the results of previous tests.
</p></dd></dl>

<dl>
<dt><a name="index-LDFLAGS"></a><u>Variable:</u> <b>LDFLAGS</b></dt>
<dd><a name="index-LDFLAGS-1"></a>
<p>Stripping (&lsquo;<samp>-s</samp>&rsquo;) and any other miscellaneous options for the
linker.  If it is not set in the environment when <code>configure</code> runs,
the default value is empty.  <code>configure</code> uses this variable when
linking programs to test for C features.
</p></dd></dl>

<dl>
<dt><a name="index-LIBS"></a><u>Variable:</u> <b>LIBS</b></dt>
<dd><a name="index-LIBS-1"></a>
<p>&lsquo;<samp>-l</samp>&rsquo; and &lsquo;<samp>-L</samp>&rsquo; options to pass to the linker.
</p></dd></dl>

<hr size="6">
<a name="Build-Directories"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Preset-Output-Variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Automatic-Remaking" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefile-Substitutions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Build-Directories-1"></a>
<h3 class="subsection">3.3.2 Build Directories</h3>

<p>You can support compiling a software package for several architectures
simultaneously from the same copy of the source code.  The object files
for each architecture are kept in their own directory.
</p>
<p>To support doing this, <code>make</code> uses the <code>VPATH</code> variable to
find the files that are in the source directory.  GNU <code>make</code> and
most other recent <code>make</code> programs can do this.  Older <code>make</code>
programs do not support <code>VPATH</code>; when using them, the source code
must be in the same directory as the object files.
</p>
<p>To support <code>VPATH</code>, each &lsquo;<tt>Makefile.in</tt>&rsquo; should contain two
lines that look like:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">srcdir = @srcdir@
VPATH = @srcdir@
</pre></td></tr></table>

<p>Do not set <code>VPATH</code> to the value of another variable, for example
&lsquo;<samp>VPATH = $(srcdir)</samp>&rsquo;, because some versions of <code>make</code> do not do
variable substitutions on the value of <code>VPATH</code>.
</p>
<p><code>configure</code> substitutes in the correct value for <code>srcdir</code> when
it produces &lsquo;<tt>Makefile</tt>&rsquo;.
</p>
<p>Do not use the <code>make</code> variable <code>$&lt;</code>, which expands to the
pathname of the file in the source directory (found with <code>VPATH</code>),
except in implicit rules.  (An implicit rule is one such as &lsquo;<samp>.c.o</samp>&rsquo;,
which tells how to create a &lsquo;<tt>.o</tt>&rsquo; file from a &lsquo;<tt>.c</tt>&rsquo; file.)  Some
versions of <code>make</code> do not set <code>$&lt;</code> in explicit rules; they
expand it to an empty value.
</p>
<p>Instead, &lsquo;<tt>Makefile</tt>&rsquo; command lines should always refer to source
files by prefixing them with &lsquo;<samp>$(srcdir)/</samp>&rsquo;.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">time.info: time.texinfo
        $(MAKEINFO) $(srcdir)/time.texinfo
</pre></td></tr></table>

<hr size="6">
<a name="Automatic-Remaking"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Build-Directories" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Configuration-Headers" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefile-Substitutions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Automatic-Remaking-1"></a>
<h3 class="subsection">3.3.3 Automatic Remaking</h3>

<p>You can put rules like the following in the top-level &lsquo;<tt>Makefile.in</tt>&rsquo;
for a package to automatically update the configuration information when
you change the configuration files.  This example includes all of the
optional files, such as &lsquo;<tt>aclocal.m4</tt>&rsquo; and those related to
configuration header files.  Omit from the &lsquo;<tt>Makefile.in</tt>&rsquo; rules any
of these files that your package does not use.
</p>
<p>The &lsquo;<samp>${srcdir}/</samp>&rsquo; prefix is included because of limitations in the
<code>VPATH</code> mechanism.
</p>
<p>The &lsquo;<tt>stamp-</tt>&rsquo; files are necessary because the timestamps of
&lsquo;<tt>config.h.in</tt>&rsquo; and &lsquo;<tt>config.h</tt>&rsquo; will not be changed if remaking
them does not change their contents.  This feature avoids unnecessary
recompilation.  You should include the file &lsquo;<tt>stamp-h.in</tt>&rsquo; your
package&rsquo;s distribution, so <code>make</code> will consider &lsquo;<tt>config.h.in</tt>&rsquo;
up to date.  On some old BSD systems, <code>touch</code> or any command that
results in an empty file does not update the timestamps, so use a
command like <code>echo</code> as a workaround.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">${srcdir}/configure: configure.in aclocal.m4
        cd ${srcdir} &amp;&amp; autoconf

# autoheader might not change config.h.in, so touch a stamp file.
${srcdir}/config.h.in: stamp-h.in
${srcdir}/stamp-h.in: configure.in aclocal.m4 acconfig.h \
    config.h.top config.h.bot
        cd ${srcdir} &amp;&amp; autoheader
        echo timestamp &gt; ${srcdir}/stamp-h.in

config.h: stamp-h
stamp-h: config.h.in config.status
        ./config.status

Makefile: Makefile.in config.status
        ./config.status

config.status: configure
        ./config.status --recheck
</pre></td></tr></table>

<p>In addition, you should pass &lsquo;<samp>echo timestamp &gt; stamp-h</samp>&rsquo; in the
<var>extra-cmds</var> argument to <code>AC_OUTPUT</code>, so &lsquo;<tt>config.status</tt>&rsquo;
will ensure that &lsquo;<tt>config.h</tt>&rsquo; is considered up to date.
See section <a href="#Output">Creating Output Files</a>, for more information about <code>AC_OUTPUT</code>.
</p>
<p>See section <a href="#Invoking-config_002estatus">Recreating a Configuration</a>, for more examples of handling
configuration-related dependencies.
</p>
<hr size="6">
<a name="Configuration-Headers"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Automatic-Remaking" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Header-Templates" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Configuration-Header-Files"></a>
<h2 class="section">3.4 Configuration Header Files</h2>

<p>When a package tests more than a few C preprocessor symbols, the command
lines to pass &lsquo;<samp>-D</samp>&rsquo; options to the compiler can get quite long.
This causes two problems.  One is that the <code>make</code> output is hard to
visually scan for errors.  More seriously, the command lines can exceed
the length limits of some operating systems.  As an alternative to
passing &lsquo;<samp>-D</samp>&rsquo; options to the compiler, <code>configure</code> scripts can
create a C header file containing &lsquo;<samp>#define</samp>&rsquo; directives.  The
<code>AC_CONFIG_HEADER</code> macro selects this kind of output.  It should be
called right after <code>AC_INIT</code>.
</p>
<p>The package should &lsquo;<samp>#include</samp>&rsquo; the configuration header file before
any other header files, to prevent inconsistencies in declarations (for
example, if it redefines <code>const</code>).  Use &lsquo;<samp>#include &lt;config.h&gt;</samp>&rsquo;
instead of &lsquo;<samp>#include &quot;config.h&quot;</samp>&rsquo;, and pass the C compiler a
&lsquo;<samp>-I.</samp>&rsquo; option (or &lsquo;<samp>-I..</samp>&rsquo;; whichever directory contains
&lsquo;<tt>config.h</tt>&rsquo;).  That way, even if the source directory is configured
itself (perhaps to make a distribution), other build directories can
also be configured without finding the &lsquo;<tt>config.h</tt>&rsquo; from the source
directory.
</p>
<dl>
<dt><a name="index-AC_005fCONFIG_005fHEADER"></a><u>Macro:</u> <b>AC_CONFIG_HEADER</b><i> (<var>header-to-create</var> &hellip;)</i></dt>
<dd><a name="index-CONFIG_005fHEADER"></a>
<a name="index-HAVE_005fCONFIG_005fH"></a>
<p>Make <code>AC_OUTPUT</code> create the file(s) in the whitespace-separated
list <var>header-to-create</var> containing C preprocessor <code>#define</code>
statements, and replace &lsquo;<samp>@DEFS@</samp>&rsquo; in generated files with
&lsquo;<samp>-DHAVE_CONFIG_H</samp>&rsquo; instead of the value of <code>DEFS</code>.  The usual
name for <var>header-to-create</var> is &lsquo;<tt>config.h</tt>&rsquo;.
</p>
<p>If <var>header-to-create</var> already exists and its contents are identical
to what <code>AC_OUTPUT</code> would put in it, it is left alone.  Doing this
allows some changes in configuration without needlessly causing object
files that depend on the header file to be recompiled.
</p>
<p>Usually the input file is named &lsquo;<tt><var>header-to-create</var>.in</tt>&rsquo;;
however, you can override the input file name by appending to
<var>header-to-create</var>, a colon-separated list of input files.
Examples:
</p><table><tr><td>&nbsp;</td><td><pre class="example">AC_CONFIG_HEADER(defines.h:defines.hin)
AC_CONFIG_HEADER(defines.h:defs.pre:defines.h.in:defs.post)
</pre></td></tr></table>
<p>Doing this allows you to keep your file names acceptable to MS-DOS, or
to prepend and/or append boilerplate to the file.
</p></dd></dl>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Header-Templates">3.4.1 Configuration Header Templates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Input for the configuration headers.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-autoheader">3.4.2 Using <code>autoheader</code> to Create &lsquo;<tt>config.h.in</tt>&rsquo;</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How to create configuration templates.
</td></tr>
</table>

<hr size="6">
<a name="Header-Templates"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Configuration-Headers" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-autoheader" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Configuration-Headers" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Configuration-Header-Templates"></a>
<h3 class="subsection">3.4.1 Configuration Header Templates</h3>

<p>Your distribution should contain a template file that looks as you want
the final header file to look, including comments, with default values
in the <code>#define</code> statements.  For example, suppose your
&lsquo;<tt>configure.in</tt>&rsquo; makes these calls:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_CONFIG_HEADER(conf.h)
AC_CHECK_HEADERS(unistd.h)
</pre></td></tr></table>

<p>Then you could have code like the following in &lsquo;<tt>conf.h.in</tt>&rsquo;.
On systems that have &lsquo;<tt>unistd.h</tt>&rsquo;, <code>configure</code> will change the 0
to a 1.  On other systems, it will leave the line unchanged.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">/* Define as 1 if you have unistd.h.  */
#define HAVE_UNISTD_H 0
</pre></td></tr></table>

<p>Alternately, if your code tests for configuration options using
<code>#ifdef</code> instead of <code>#if</code>, a default value can be to
<code>#undef</code> the variable instead of to define it to a value.  On
systems that have &lsquo;<tt>unistd.h</tt>&rsquo;, <code>configure</code> will change the
second line to read &lsquo;<samp>#define HAVE_UNISTD_H 1</samp>&rsquo;.  On other systems,
it will comment that line out (in case the system predefines that
symbol).
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">/* Define if you have unistd.h.  */
#undef HAVE_UNISTD_H
</pre></td></tr></table>

<hr size="6">
<a name="Invoking-autoheader"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Header-Templates" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Subdirectories" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Configuration-Headers" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-autoheader-to-Create-config_002eh_002ein"></a>
<h3 class="subsection">3.4.2 Using <code>autoheader</code> to Create &lsquo;<tt>config.h.in</tt>&rsquo;</h3>

<p>The <code>autoheader</code> program can create a template file of C
&lsquo;<samp>#define</samp>&rsquo; statements for <code>configure</code> to use.  If
&lsquo;<tt>configure.in</tt>&rsquo; invokes <code>AC_CONFIG_HEADER(<var>file</var>)</code>,
<code>autoheader</code> creates &lsquo;<tt><var>file</var>.in</tt>&rsquo;; if multiple file
arguments are given, the first one is used.  Otherwise,
<code>autoheader</code> creates &lsquo;<tt>config.h.in</tt>&rsquo;.
</p>
<p>If you give <code>autoheader</code> an argument, it uses that file instead of
&lsquo;<tt>configure.in</tt>&rsquo; and writes the header file to the standard output
instead of to &lsquo;<tt>config.h.in</tt>&rsquo;.  If you give <code>autoheader</code> an
argument of &lsquo;<samp>-</samp>&rsquo;, it reads the standard input instead of
&lsquo;<tt>configure.in</tt>&rsquo; and writes the header file to the standard output.
</p>
<p><code>autoheader</code> scans &lsquo;<tt>configure.in</tt>&rsquo; and figures out which C
preprocessor symbols it might define.  It copies comments and
<code>#define</code> and <code>#undef</code> statements from a file called
&lsquo;<tt>acconfig.h</tt>&rsquo;, which comes with and is installed with Autoconf.  It
also uses a file called &lsquo;<tt>acconfig.h</tt>&rsquo; in the current directory, if
present.  If you <code>AC_DEFINE</code> any additional symbols, you must
create that file with entries for them.  For symbols defined by
<code>AC_CHECK_HEADERS</code>, <code>AC_CHECK_FUNCS</code>, <code>AC_CHECK_SIZEOF</code>,
or <code>AC_CHECK_LIB</code>, <code>autoheader</code> generates comments and
<code>#undef</code> statements itself rather than copying them from a file,
since the possible symbols are effectively limitless.
</p>
<p>The file that <code>autoheader</code> creates contains mainly <code>#define</code>
and <code>#undef</code> statements and their accompanying comments.  If
&lsquo;<tt>./acconfig.h</tt>&rsquo; contains the string &lsquo;<samp>@TOP@</samp>&rsquo;,
<code>autoheader</code> copies the lines before the line containing
&lsquo;<samp>@TOP@</samp>&rsquo; into the top of the file that it generates.  Similarly,
if &lsquo;<tt>./acconfig.h</tt>&rsquo; contains the string &lsquo;<samp>@BOTTOM@</samp>&rsquo;,
<code>autoheader</code> copies the lines after that line to the end of the
file it generates.  Either or both of those strings may be omitted.
</p>
<p>An alternate way to produce the same effect is to create the files
&lsquo;<tt><var>file</var>.top</tt>&rsquo; (typically &lsquo;<tt>config.h.top</tt>&rsquo;) and/or
&lsquo;<tt><var>file</var>.bot</tt>&rsquo; in the current directory.  If they exist,
<code>autoheader</code> copies them to the beginning and end, respectively, of
its output.  Their use is discouraged because they have file names that
contain two periods, and so can not be stored on MS-DOS; also, they are
two more files to clutter up the directory.  But if you use the
&lsquo;<samp>--localdir=<var>dir</var></samp>&rsquo; option to use an &lsquo;<tt>acconfig.h</tt>&rsquo; in another
directory, they give you a way to put custom boilerplate in each
individual &lsquo;<tt>config.h.in</tt>&rsquo;.
</p>
<p><code>autoheader</code> accepts the following options:
</p>
<dl compact="compact">
<dt> <code>--help</code></dt>
<dt> <code>-h</code></dt>
<dd><p>Print a summary of the command line options and exit.
</p>
</dd>
<dt> <code>--localdir=<var>dir</var></code></dt>
<dt> <code>-l <var>dir</var></code></dt>
<dd><p>Look for the package files &lsquo;<tt>aclocal.m4</tt>&rsquo; and &lsquo;<tt>acconfig.h</tt>&rsquo; (but
not &lsquo;<tt><var>file</var>.top</tt>&rsquo; and &lsquo;<tt><var>file</var>.bot</tt>&rsquo;) in directory
<var>dir</var> instead of in the current directory.
</p>
</dd>
<dt> <code>--macrodir=<var>dir</var></code></dt>
<dt> <code>-m <var>dir</var></code></dt>
<dd><a name="index-AC_005fMACRODIR-4"></a>
<p>Look for the installed macro files and &lsquo;<tt>acconfig.h</tt>&rsquo; in directory
<var>dir</var>.  You can also set the <code>AC_MACRODIR</code> environment variable
to a directory; this option overrides the environment variable.
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>Print the version number of Autoconf and exit.
</p></dd>
</dl>

<hr size="6">
<a name="Subdirectories"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Invoking-autoheader" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Default-Prefix" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Configuring-Other-Packages-in-Subdirectories"></a>
<h2 class="section">3.5 Configuring Other Packages in Subdirectories</h2>

<p>In most situations, calling <code>AC_OUTPUT</code> is sufficient to produce
&lsquo;<tt>Makefile</tt>&rsquo;s in subdirectories.  However, <code>configure</code> scripts
that control more than one independent package can use
<code>AC_CONFIG_SUBDIRS</code> to run <code>configure</code> scripts for other
packages in subdirectories.
</p>
<dl>
<dt><a name="index-AC_005fCONFIG_005fSUBDIRS"></a><u>Macro:</u> <b>AC_CONFIG_SUBDIRS</b><i> (<var>dir</var> &hellip;)</i></dt>
<dd><a name="index-CONFIG_005fSUBDIRS"></a>
<a name="index-subdirs"></a>
<p>Make <code>AC_OUTPUT</code> run <code>configure</code> in each subdirectory
<var>dir</var> in the given whitespace-separated list.  If a given <var>dir</var>
is not found, no error is reported, so a <code>configure</code> script can
configure whichever parts of a large source tree are present.  If a
given <var>dir</var> contains &lsquo;<tt>configure.in</tt>&rsquo; but no <code>configure</code>,
the Cygnus <code>configure</code> script found by <code>AC_CONFIG_AUXDIR</code> is
used.
</p>
<p>The subdirectory <code>configure</code> scripts are given the same
command line options that were given to this <code>configure</code> script,
with minor changes if needed (e.g., to adjust a relative path for the
cache file or source directory).  This macro also sets the output
variable <code>subdirs</code> to the list of directories &lsquo;<samp><var>dir</var>
&hellip;</samp>&rsquo;.  &lsquo;<tt>Makefile</tt>&rsquo; rules can use this variable to determine
which subdirectories to recurse into.  This macro may be called multiple
times.
</p></dd></dl>

<hr size="6">
<a name="Default-Prefix"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Subdirectories" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Versions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Default-Prefix-1"></a>
<h2 class="section">3.6 Default Prefix</h2>

<p>By default, <code>configure</code> sets the prefix for files it installs to
&lsquo;<tt>/usr/local</tt>&rsquo;.  The user of <code>configure</code> can select a different
prefix using the &lsquo;<samp>--prefix</samp>&rsquo; and &lsquo;<samp>--exec-prefix</samp>&rsquo; options.
There are two ways to change the default: when creating
<code>configure</code>, and when running it.
</p>
<p>Some software packages might want to install in a directory besides
&lsquo;<tt>/usr/local</tt>&rsquo; by default.  To accomplish that, use the
<code>AC_PREFIX_DEFAULT</code> macro.
</p>
<dl>
<dt><a name="index-AC_005fPREFIX_005fDEFAULT"></a><u>Macro:</u> <b>AC_PREFIX_DEFAULT</b><i> (<var>prefix</var>)</i></dt>
<dd><p>Set the default installation prefix to <var>prefix</var> instead of &lsquo;<tt>/usr/local</tt>&rsquo;.
</p></dd></dl>

<p>It may be convenient for users to have <code>configure</code> guess the
installation prefix from the location of a related program that they
have already installed.  If you wish to do that, you can call
<code>AC_PREFIX_PROGRAM</code>.
</p>
<dl>
<dt><a name="index-AC_005fPREFIX_005fPROGRAM"></a><u>Macro:</u> <b>AC_PREFIX_PROGRAM</b><i> (<var>program</var>)</i></dt>
<dd><a name="index-PREFIX_005fPROGRAM"></a>
<p>If the user did not specify an installation prefix (using the
&lsquo;<samp>--prefix</samp>&rsquo; option), guess a value for it by looking for
<var>program</var> in <code>PATH</code>, the way the shell does.  If <var>program</var>
is found, set the prefix to the parent of the directory containing
<var>program</var>; otherwise leave the prefix specified in
&lsquo;<tt>Makefile.in</tt>&rsquo; unchanged.  For example, if <var>program</var> is
<code>gcc</code> and the <code>PATH</code> contains &lsquo;<tt>/usr/local/gnu/bin/gcc</tt>&rsquo;,
set the prefix to &lsquo;<tt>/usr/local/gnu</tt>&rsquo;.
</p></dd></dl>

<hr size="6">
<a name="Versions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Default-Prefix" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setup" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Version-Numbers-in-configure"></a>
<h2 class="section">3.7 Version Numbers in <code>configure</code></h2>

<p>The following macros manage version numbers for <code>configure</code>
scripts.  Using them is optional.
</p>
<dl>
<dt><a name="index-AC_005fPREREQ"></a><u>Macro:</u> <b>AC_PREREQ</b><i> (<var>version</var>)</i></dt>
<dd><a name="index-PREREQ"></a>
<p>Ensure that a recent enough version of Autoconf is being used.  If the
version of Autoconf being used to create <code>configure</code> is earlier
than <var>version</var>, print an error message on the standard error output
and do not create <code>configure</code>.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_PREREQ(1.8)
</pre></td></tr></table>

<p>This macro is useful if your &lsquo;<tt>configure.in</tt>&rsquo; relies on non-obvious
behavior that changed between Autoconf releases.  If it merely needs
recently added macros, then <code>AC_PREREQ</code> is less useful, because the
<code>autoconf</code> program already tells the user which macros are not
found.  The same thing happens if &lsquo;<tt>configure.in</tt>&rsquo; is processed by a
version of Autoconf older than when <code>AC_PREREQ</code> was added.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fREVISION"></a><u>Macro:</u> <b>AC_REVISION</b><i> (<var>revision-info</var>)</i></dt>
<dd><a name="index-REVISION"></a>
<p>Copy revision stamp <var>revision-info</var> into the <code>configure</code>
script, with any dollar signs or double-quotes removed.  This macro lets
you put a revision stamp from &lsquo;<tt>configure.in</tt>&rsquo; into <code>configure</code>
without RCS or CVS changing it when you check in <code>configure</code>.  That
way, you can determine easily which revision of &lsquo;<tt>configure.in</tt>&rsquo; a
particular <code>configure</code> corresponds to.
</p>
<p>It is a good idea to call this macro before <code>AC_INIT</code> so that the
revision number is near the top of both &lsquo;<tt>configure.in</tt>&rsquo; and
<code>configure</code>.  To support doing that, the <code>AC_REVISION</code> output
begins with &lsquo;<samp>#! /bin/sh</samp>&rsquo;, like the normal start of a
<code>configure</code> script does.
</p>
<p>For example, this line in &lsquo;<tt>configure.in</tt>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_REVISION($Revision: 1.30 $)dnl
</pre></td></tr></table>

<p>produces this in <code>configure</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#! /bin/sh
# From configure.in Revision: 1.30
</pre></td></tr></table>
</dd></dl>

<hr size="6">
<a name="Existing-Tests"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Versions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Alternative-Programs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Setup" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Existing-Tests-1"></a>
<h1 class="chapter">4. Existing Tests</h1>

<p>These macros test for particular system features that packages
might need or want to use.  If you need to test for a kind of feature
that none of these macros check for, you can probably do it by calling
primitive test macros with appropriate arguments (see section <a href="#Writing-Tests">Writing Tests</a>).
</p>
<p>These tests print messages telling the user which feature they&rsquo;re
checking for, and what they find.  They cache their results for future
<code>configure</code> runs (see section <a href="#Caching-Results">Caching Results</a>).
</p>
<p>Some of these macros set output variables.  See section <a href="#Makefile-Substitutions">Substitutions in Makefiles</a>, for how to get their values.  The phrase &ldquo;define
<var>name</var>&rdquo; is used below as a shorthand to mean &ldquo;define C
preprocessor symbol <var>name</var> to the value 1&rdquo;.  See section <a href="#Defining-Symbols">Defining C Preprocessor Symbols</a>, for how to get those symbol definitions into your program.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Alternative-Programs">4.1 Alternative Programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Selecting between alternative programs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Libraries">4.2 Library Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Library archives that might be missing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Library-Functions">4.3 Library Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           C library functions that might be missing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Header-Files">4.4 Header Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Header files that might be missing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Structures">4.5 Structures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  Structures or members that might be missing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Typedefs">4.6 Typedefs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    <code>typedef</code>s that might be missing.
</td></tr>
<tr><td align="left" valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#Fortran-77-Compiler-Characteristics">4.8 Fortran 77 Compiler Characteristics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  
</td></tr>
<tr><td align="left" valign="top"><a href="#System-Services">4.9 System Services</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Operating system services.
</td></tr>
<tr><td align="left" valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Special kludges for specific UNIX variants.
</td></tr>
</table>

<hr size="6">
<a name="Alternative-Programs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Existing-Tests" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Particular-Programs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Alternative-Programs-1"></a>
<h2 class="section">4.1 Alternative Programs</h2>

<p>These macros check for the presence or behavior of particular programs.
They are used to choose between several alternative programs and to
decide what to do once one has been chosen.
If there is no macro specifically defined to check for a program you need,
and you don&rsquo;t need to check for any special properties of
it, then you can use one of the general program check macros.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Special handling to find certain programs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Generic-Programs">4.1.2 Generic Program and File Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            How to find other programs.
</td></tr>
</table>

<hr size="6">
<a name="Particular-Programs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Alternative-Programs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generic-Programs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Alternative-Programs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Particular-Program-Checks"></a>
<h3 class="subsection">4.1.1 Particular Program Checks</h3>

<p>These macros check for particular programs&mdash;whether they exist, and
in some cases whether they support certain features.
</p>
<dl>
<dt><a name="index-AC_005fDECL_005fYYTEXT"></a><u>Macro:</u> <b>AC_DECL_YYTEXT</b></dt>
<dd><a name="index-DECL_005fYYTEXT"></a>
<a name="index-YYTEXT_005fPOINTER"></a>
<a name="index-LEX_005fOUTPUT_005fROOT"></a>
<p>Define <code>YYTEXT_POINTER</code> if <code>yytext</code> is a &lsquo;<samp>char *</samp>&rsquo; instead
of a &lsquo;<samp>char []</samp>&rsquo;.  Also set output variable <code>LEX_OUTPUT_ROOT</code> to
the base of the file name that the lexer generates; usually
&lsquo;<tt>lex.yy</tt>&rsquo;, but sometimes something else.  These results vary
according to whether <code>lex</code> or <code>flex</code> is being used.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fAWK"></a><u>Macro:</u> <b>AC_PROG_AWK</b></dt>
<dd><a name="index-PROG_005fAWK"></a>
<a name="index-AWK"></a>
<p>Check for <code>mawk</code>, <code>gawk</code>, <code>nawk</code>, and <code>awk</code>, in that
order, and set output variable <code>AWK</code> to the first one that it
finds.  It tries <code>mawk</code> first because that is reported to be the
fastest implementation.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fCC"></a><u>Macro:</u> <b>AC_PROG_CC</b></dt>
<dd><a name="index-PROG_005fCC"></a>
<a name="index-CC"></a>
<a name="index-CFLAGS-2"></a>
<p>Determine a C compiler to use.  If <code>CC</code> is not already set in the
environment, check for <code>gcc</code>, and use <code>cc</code> if that&rsquo;s not found.
Set output variable <code>CC</code> to the name of the compiler found.
</p>
<p>If using the GNU C compiler, set shell variable <code>GCC</code> to
&lsquo;<samp>yes</samp>&rsquo;, empty otherwise.  If output variable <code>CFLAGS</code> was
not already set, set it to &lsquo;<samp>-g -O2</samp>&rsquo; for the GNU C compiler
(&lsquo;<samp>-O2</samp>&rsquo; on systems where GCC does not accept &lsquo;<samp>-g</samp>&rsquo;), or &lsquo;<samp>-g</samp>&rsquo;
for other compilers.
</p>
<p>If the C compiler being used does not produce executables that can run
on the system where <code>configure</code> is being run, set the shell
variable <code>cross_compiling</code> to &lsquo;<samp>yes</samp>&rsquo;, otherwise &lsquo;<samp>no</samp>&rsquo;.
In other words, this tests whether the build system type is different
from the host system type (the target system type is irrelevant to this
test).  See section <a href="#Manual-Configuration">Manual Configuration</a>, for more on support for cross compiling.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fCC_005fC_005fO"></a><u>Macro:</u> <b>AC_PROG_CC_C_O</b></dt>
<dd><a name="index-PROG_005fCC_005fC_005fO"></a>
<a name="index-NO_005fMINUS_005fC_005fMINUS_005fO"></a>
<p>If the C compiler does not accept the &lsquo;<samp>-c</samp>&rsquo; and &lsquo;<samp>-o</samp>&rsquo; options
simultaneously, define <code>NO_MINUS_C_MINUS_O</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fCPP"></a><u>Macro:</u> <b>AC_PROG_CPP</b></dt>
<dd><a name="index-PROG_005fCPP"></a>
<a name="index-CPP"></a>
<p>Set output variable <code>CPP</code> to a command that runs the
C preprocessor.  If &lsquo;<samp>$CC -E</samp>&rsquo; doesn&rsquo;t work, it uses &lsquo;<tt>/lib/cpp</tt>&rsquo;.
It is only portable to run <code>CPP</code> on files with a &lsquo;<tt>.c</tt>&rsquo;
extension.
</p>
<p>If the current language is C (see section <a href="#Language-Choice">Language Choice</a>), many of the
specific test macros use the value of <code>CPP</code> indirectly by calling
<code>AC_TRY_CPP</code>, <code>AC_CHECK_HEADER</code>, <code>AC_EGREP_HEADER</code>, or
<code>AC_EGREP_CPP</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fCXX"></a><u>Macro:</u> <b>AC_PROG_CXX</b></dt>
<dd><a name="index-PROG_005fCXX"></a>
<a name="index-CXX"></a>
<a name="index-CXXFLAGS-2"></a>
<p>Determine a C++ compiler to use.  Check if the environment variable
<code>CXX</code> or <code>CCC</code> (in that order) is set; if so, set output
variable <code>CXX</code> to its value.  Otherwise search for a C++ compiler
under likely names (<code>c++</code>, <code>g++</code>, <code>gcc</code>, <code>CC</code>,
<code>cxx</code>, and <code>cc++</code>).  If none of those checks succeed, as a
last resort set <code>CXX</code> to <code>gcc</code>.
</p>
<p>If using the GNU C++ compiler, set shell variable <code>GXX</code> to
&lsquo;<samp>yes</samp>&rsquo;, empty otherwise.  If output variable <code>CXXFLAGS</code> was
not already set, set it to &lsquo;<samp>-g -O2</samp>&rsquo; for the GNU C++ compiler
(&lsquo;<samp>-O2</samp>&rsquo; on systems where G++ does not accept &lsquo;<samp>-g</samp>&rsquo;), or &lsquo;<samp>-g</samp>&rsquo;
for other compilers.
</p>
<p>If the C++ compiler being used does not produce executables that can run
on the system where <code>configure</code> is being run, set the shell
variable <code>cross_compiling</code> to &lsquo;<samp>yes</samp>&rsquo;, otherwise &lsquo;<samp>no</samp>&rsquo;.
In other words, this tests whether the build system type is different
from the host system type (the target system type is irrelevant to this
test).  See section <a href="#Manual-Configuration">Manual Configuration</a>, for more on support for cross compiling.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fCXXCPP"></a><u>Macro:</u> <b>AC_PROG_CXXCPP</b></dt>
<dd><a name="index-PROG_005fCXXCPP"></a>
<a name="index-CXXCPP"></a>
<p>Set output variable <code>CXXCPP</code> to a command that runs the
C++ preprocessor.  If &lsquo;<samp>$CXX -E</samp>&rsquo; doesn&rsquo;t work, it uses &lsquo;<tt>/lib/cpp</tt>&rsquo;.
It is only portable to run <code>CXXCPP</code> on files with a &lsquo;<tt>.c</tt>&rsquo;,
&lsquo;<tt>.C</tt>&rsquo;, or &lsquo;<tt>.cc</tt>&rsquo; extension.
</p>
<p>If the current language is C++ (see section <a href="#Language-Choice">Language Choice</a>), many of the
specific test macros use the value of <code>CXXCPP</code> indirectly by
calling <code>AC_TRY_CPP</code>, <code>AC_CHECK_HEADER</code>,
<code>AC_EGREP_HEADER</code>, or <code>AC_EGREP_CPP</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fF77"></a><u>Macro:</u> <b>AC_PROG_F77</b></dt>
<dd><a name="index-PROG_005fFORTRAN"></a>
<a name="index-F77"></a>
<a name="index-FFLAGS-2"></a>
<p>Determine a Fortran 77 compiler to use.  If <code>F77</code> is not already
set in the environment, check for <code>g77</code>, <code>f77</code> and <code>f2c</code>,
in that order.  Set the output variable <code>F77</code> to the name of the
compiler found.
</p>
<p>If using <code>g77</code> (the GNU Fortran 77 compiler), then
<code>AC_PROG_F77</code> will set the shell variable <code>G77</code> to &lsquo;<samp>yes</samp>&rsquo;,
and empty otherwise.  If the output variable <code>FFLAGS</code> was not
already set in the environment, then set it to &lsquo;<samp>-g -02</samp>&rsquo; for
<code>g77</code> (or &lsquo;<samp>-O2</samp>&rsquo; where <code>g77</code> does not accept &lsquo;<samp>-g</samp>&rsquo;).
Otherwise, set <code>FFLAGS</code> to &lsquo;<samp>-g</samp>&rsquo; for all other Fortran 77
compilers.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fF77_005fC_005fO"></a><u>Macro:</u> <b>AC_PROG_F77_C_O</b></dt>
<dd><a name="index-PROG_005fF77_005fC_005fO"></a>
<a name="index-F77_005fNO_005fMINUS_005fC_005fMINUS_005fO"></a>
<p>Test if the Fortran 77 compiler accepts the options &lsquo;<samp>-c</samp>&rsquo; and
&lsquo;<samp>-o</samp>&rsquo; simultaneously, and define <code>F77_NO_MINUS_C_MINUS_O</code> if it
does not.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fGCC_005fTRADITIONAL"></a><u>Macro:</u> <b>AC_PROG_GCC_TRADITIONAL</b></dt>
<dd><a name="index-PROG_005fGCC_005fTRADITIONAL"></a>
<a name="index-CC-1"></a>
<p>Add &lsquo;<samp>-traditional</samp>&rsquo; to output variable <code>CC</code> if using the
GNU C compiler and <code>ioctl</code> does not work properly without
&lsquo;<samp>-traditional</samp>&rsquo;.  That usually happens when the fixed header files
have not been installed on an old system.  Since recent versions of the
GNU C compiler fix the header files automatically when installed, this
is becoming a less prevalent problem.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fINSTALL"></a><u>Macro:</u> <b>AC_PROG_INSTALL</b></dt>
<dd><a name="index-PROG_005fINSTALL"></a>
<a name="index-INSTALL"></a>
<a name="index-INSTALL_005fPROGRAM"></a>
<a name="index-INSTALL_005fDATA"></a>
<a name="index-INSTALL_005fSCRIPT"></a>
<p>Set output variable <code>INSTALL</code> to the path of a BSD compatible
<code>install</code> program, if one is found in the current <code>PATH</code>.
Otherwise, set <code>INSTALL</code> to &lsquo;<samp><var>dir</var>/install-sh -c</samp>&rsquo;,
checking the directories specified to <code>AC_CONFIG_AUX_DIR</code> (or its
default directories) to determine <var>dir</var> (see section <a href="#Output">Creating Output Files</a>).  Also set
the variables <code>INSTALL_PROGRAM</code> and <code>INSTALL_SCRIPT</code> to
&lsquo;<samp>${INSTALL}</samp>&rsquo; and <code>INSTALL_DATA</code> to &lsquo;<samp>${INSTALL} -m 644</samp>&rsquo;.
</p>
<p>This macro screens out various instances of <code>install</code> known to not
work.  It prefers to find a C program rather than a shell script, for
speed.  Instead of &lsquo;<tt>install-sh</tt>&rsquo;, it can also use &lsquo;<tt>install.sh</tt>&rsquo;,
but that name is obsolete because some <code>make</code> programs have a rule
that creates &lsquo;<tt>install</tt>&rsquo; from it if there is no &lsquo;<tt>Makefile</tt>&rsquo;.
</p>
<p>A copy of &lsquo;<tt>install-sh</tt>&rsquo; which you may use comes with Automake.  If
you use <code>AC_PROG_INSTALL</code>, you must include either
&lsquo;<tt>install-sh</tt>&rsquo; or &lsquo;<tt>install.sh</tt>&rsquo; in your distribution, or
<code>configure</code> will produce an error message saying it can&rsquo;t find
them&mdash;even if the system you&rsquo;re on has a good <code>install</code> program.
This check is a safety measure to prevent you from accidentally leaving
that file out, which would prevent your package from installing on
systems that don&rsquo;t have a BSD-compatible <code>install</code> program.
</p>
<p>If you need to use your own installation program because it has
features not found in standard <code>install</code> programs, there is no
reason to use <code>AC_PROG_INSTALL</code>; just put the pathname of your
program into your &lsquo;<tt>Makefile.in</tt>&rsquo; files.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fLEX"></a><u>Macro:</u> <b>AC_PROG_LEX</b></dt>
<dd><a name="index-PROG_005fLEX"></a>
<a name="index-LEX"></a>
<a name="index-LEXLIB"></a>
<p>If <code>flex</code> is found, set output variable <code>LEX</code> to
&lsquo;<samp>flex</samp>&rsquo; and <code>LEXLIB</code> to &lsquo;<samp>-lfl</samp>&rsquo;, if that library is in a
standard place.  Otherwise set <code>LEX</code> to &lsquo;<samp>lex</samp>&rsquo; and
<code>LEXLIB</code> to &lsquo;<samp>-ll</samp>&rsquo;.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fLN_005fS"></a><u>Macro:</u> <b>AC_PROG_LN_S</b></dt>
<dd><a name="index-PROG_005fLN_005fS"></a>
<a name="index-LN_005fS"></a>
<p>If &lsquo;<samp>ln -s</samp>&rsquo; works on the current filesystem (the operating system
and filesystem support symbolic links), set output
variable <code>LN_S</code> to &lsquo;<samp>ln -s</samp>&rsquo;, otherwise set it to &lsquo;<samp>ln</samp>&rsquo;.
</p>
<p>If the link is put in a directory other than the current directory, its
meaning depends on whether &lsquo;<samp>ln</samp>&rsquo; or &lsquo;<samp>ln -s</samp>&rsquo; is used.  To safely
create links using &lsquo;<samp>$(LN_S)</samp>&rsquo;, either find out which form is used
and adjust the arguments, or always invoke <code>ln</code> in the directory
where the link is to be created.
</p>
<p>In other words, it does not work to do
</p><table><tr><td>&nbsp;</td><td><pre class="example">$(LN_S) foo /x/bar
</pre></td></tr></table>

<p>Instead, do
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(cd /x &amp;&amp; $(LN_S) foo bar)
</pre></td></tr></table>
</dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fRANLIB"></a><u>Macro:</u> <b>AC_PROG_RANLIB</b></dt>
<dd><a name="index-PROG_005fRANLIB"></a>
<a name="index-RANLIB"></a>
<p>Set output variable <code>RANLIB</code> to &lsquo;<samp>ranlib</samp>&rsquo; if <code>ranlib</code>
is found, otherwise to &lsquo;<samp>:</samp>&rsquo; (do nothing).
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPROG_005fYACC"></a><u>Macro:</u> <b>AC_PROG_YACC</b></dt>
<dd><a name="index-PROG_005fYACC"></a>
<a name="index-YACC"></a>
<p>If <code>bison</code> is found, set output variable <code>YACC</code> to
&lsquo;<samp>bison -y</samp>&rsquo;.  Otherwise, if <code>byacc</code> is found, set <code>YACC</code>
to &lsquo;<samp>byacc</samp>&rsquo;.  Otherwise set <code>YACC</code> to &lsquo;<samp>yacc</samp>&rsquo;.
</p></dd></dl>

<hr size="6">
<a name="Generic-Programs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Particular-Programs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Libraries" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Alternative-Programs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Generic-Program-and-File-Checks"></a>
<h3 class="subsection">4.1.2 Generic Program and File Checks</h3>

<p>These macros are used to find programs not covered by the particular
test macros.  If you need to check the behavior of a program as well as
find out whether it is present, you have to write your own test for it
(see section <a href="#Writing-Tests">Writing Tests</a>).  By default, these macros use the environment
variable <code>PATH</code>.  If you need to check for a program that might not
be in the user&rsquo;s <code>PATH</code>, you can pass a modified path to use
instead, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_PATH_PROG(INETD, inetd, /usr/libexec/inetd,
  $PATH:/usr/libexec:/usr/sbin:/usr/etc:etc)
</pre></td></tr></table>

<dl>
<dt><a name="index-AC_005fCHECK_005fFILE"></a><u>Macro:</u> <b>AC_CHECK_FILE</b><i> (<var>file</var> <span class="roman">[</span>, <var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-CHECK_005fFILE"></a>
<p>Check whether file <var>file</var> exists on the native system.
If it is found, execute <var>action-if-found</var>, otherwise do
<var>action-if-not-found</var>, if given.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fCHECK_005fFILES"></a><u>Macro:</u> <b>AC_CHECK_FILES</b><i> (<var>files</var><span class="roman">[</span>, <var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-CHECK_005fFILES"></a>
<p>Executes <code>AC_CHECK_FILE</code> once for each file listed in <var>files</var>.
Additionally, defines &lsquo;<samp>HAVE<var>file</var></samp>&rsquo; for each file found, set to 1.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fCHECK_005fPROG"></a><u>Macro:</u> <b>AC_CHECK_PROG</b><i> (<var>variable</var>, <var>prog-to-check-for</var>, <var>value-if-found</var> <span class="roman">[</span>, <var>value-if-not-found</var> <span class="roman">[</span>, <var>path</var>, <span class="roman">[</span> <var>reject</var> <span class="roman">]]]</span>)</i></dt>
<dd><a name="index-CHECK_005fPROG"></a>
<p>Check whether program <var>prog-to-check-for</var> exists in <code>PATH</code>.  If
it is found, set <var>variable</var> to <var>value-if-found</var>, otherwise to
<var>value-if-not-found</var>, if given.  Always pass over <var>reject</var> (an
absolute file name) even if it is the first found in the search path; in
that case, set <var>variable</var> using the absolute file name of the
<var>prog-to-check-for</var> found that is not <var>reject</var>.  If
<var>variable</var> was already set, do nothing.  Calls <code>AC_SUBST</code> for
<var>variable</var>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fCHECK_005fPROGS"></a><u>Macro:</u> <b>AC_CHECK_PROGS</b><i> (<var>variable</var>, <var>progs-to-check-for</var> <span class="roman">[</span>, <var>value-if-not-found</var> <span class="roman">[</span>, <var>path</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-CHECK_005fPROGS"></a>
<p>Check for each program in the whitespace-separated list
<var>progs-to-check-for</var> exists in <code>PATH</code>.  If it is found, set
<var>variable</var> to the name of that program.  Otherwise, continue
checking the next program in the list.  If none of the programs in the
list are found, set <var>variable</var> to <var>value-if-not-found</var>; if
<var>value-if-not-found</var> is not specified, the value of <var>variable</var>
is not changed.  Calls <code>AC_SUBST</code> for <var>variable</var>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fCHECK_005fTOOL"></a><u>Macro:</u> <b>AC_CHECK_TOOL</b><i> (<var>variable</var>, <var>prog-to-check-for</var> <span class="roman">[</span>, <var>value-if-not-found</var> <span class="roman">[</span>, <var>path</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-CHECK_005fTOOL"></a>
<p>Like <code>AC_CHECK_PROG</code>, but first looks for <var>prog-to-check-for</var>
with a prefix of the host type as determined by <code>AC_CANONICAL_HOST</code>,
followed by a dash (see section <a href="#Canonicalizing">Getting the Canonical System Type</a>).  For example, if the user
runs &lsquo;<samp>configure --host=i386-gnu</samp>&rsquo;, then this call:
</p><table><tr><td>&nbsp;</td><td><pre class="example">AC_CHECK_TOOL(RANLIB, ranlib, :)
</pre></td></tr></table>
<p>sets <code>RANLIB</code> to &lsquo;<tt>i386-gnu-ranlib</tt>&rsquo; if that program exists in
<code>PATH</code>, or to &lsquo;<samp>ranlib</samp>&rsquo; if that program exists in <code>PATH</code>,
or to &lsquo;<samp>:</samp>&rsquo; if neither program exists.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPATH_005fPROG"></a><u>Macro:</u> <b>AC_PATH_PROG</b><i> (<var>variable</var>, <var>prog-to-check-for</var> <span class="roman">[</span>, <var>value-if-not-found</var> <span class="roman">[</span>, <var>path</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-PATH_005fPROG"></a>
<p>Like <code>AC_CHECK_PROG</code>, but set <var>variable</var> to the entire
path of <var>prog-to-check-for</var> if found.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPATH_005fPROGS"></a><u>Macro:</u> <b>AC_PATH_PROGS</b><i> (<var>variable</var>, <var>progs-to-check-for</var> <span class="roman">[</span>, <var>value-if-not-found</var> <span class="roman">[</span>, <var>path</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-PATH_005fPROGS"></a>
<p>Like <code>AC_CHECK_PROGS</code>, but if any of <var>progs-to-check-for</var>
are found, set <var>variable</var> to the entire path of the program
found.
</p></dd></dl>

<hr size="6">
<a name="Libraries"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Generic-Programs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Library-Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Library-Files"></a>
<h2 class="section">4.2 Library Files</h2>

<p>The following macros check for the presence of certain C, C++ or Fortran
77 library archive files.
</p>
<dl>
<dt><a name="index-AC_005fCHECK_005fLIB"></a><u>Macro:</u> <b>AC_CHECK_LIB</b><i> (<var>library</var>, <var>function</var> <span class="roman">[</span>, <var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var> <span class="roman">[</span>, <var>other-libraries</var><span class="roman">]]]</span>)</i></dt>
<dd><a name="index-CHECK_005fLIB"></a>
<p>Depending on the current language(see section <a href="#Language-Choice">Language Choice</a>), try to
ensure that the C, C++ or Fortran 77 function <var>function</var> is
available by checking whether a test program can be linked with the
library <var>library</var> to get the function.  <var>library</var> is the base
name of the library; e.g., to check for &lsquo;<samp>-lmp</samp>&rsquo;, use &lsquo;<samp>mp</samp>&rsquo; as
the <var>library</var> argument.
</p>
<p><var>action-if-found</var> is a list of shell commands to run if the link
with the library succeeds; <var>action-if-not-found</var> is a list of
shell commands to run if the link fails.  If <var>action-if-found</var> is
not specified, the default action will add &lsquo;<samp>-l<var>library</var></samp>&rsquo; to
<code>LIBS</code> and define &lsquo;<samp>HAVE_LIB<var>library</var></samp>&rsquo; (in all capitals).
</p>
<p>If linking with <var>library</var> results in unresolved symbols, which would
be resolved by linking with additional libraries, give those libraries
as the <var>other-libraries</var> argument, separated by spaces: &lsquo;<samp>-lXt
-lX11</samp>&rsquo;.  Otherwise this macro will fail to detect that <var>library</var> is
present, because linking the test program will always fail with
unresolved symbols.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fHAVE_005fLIBRARY"></a><u>Macro:</u> <b>AC_HAVE_LIBRARY</b><i> (<var>library</var>, <span class="roman">[</span>, <var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var> <span class="roman">[</span>, <var>other-libraries</var><span class="roman">]]]</span>)</i></dt>
<dd><a name="index-HAVE_005fLIBRARY"></a>
<p>This macro is equivalent to calling <code>AC_CHECK_LIB</code> with a
<var>function</var> argument of <code>main</code>.  In addition, <var>library</var> can
be written as any of &lsquo;<samp>foo</samp>&rsquo;, &lsquo;<samp>-lfoo</samp>&rsquo;, or &lsquo;<samp>libfoo.a</samp>&rsquo;.  In
all of those cases, the compiler is passed &lsquo;<samp>-lfoo</samp>&rsquo;.  However,
<var>library</var> can not be a shell variable; it must be a literal name.
This macro is considered obsolete.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fSEARCH_005fLIBS"></a><u>Macro:</u> <b>AC_SEARCH_LIBS</b><i> (<var>function</var>, <var>search-libs</var> <span class="roman">[</span>, <var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var> <span class="roman">[</span>, <var>other-libraries</var><span class="roman">]]]</span>)</i></dt>
<dd><a name="index-SEARCH_005fLIBS"></a>
<p>Search for a library defining <var>function</var>, if it&rsquo;s not already
available.  This equates to calling <code>AC_TRY_LINK_FUNC</code> first
with no libraries, then for each library listed in <var>search-libs</var>.
</p>
<p>If the function is found, run <var>action-if-found</var>, otherwise run
<var>action-if-not-found</var>.
</p>
<p>If linking with <var>library</var> results in unresolved symbols, which would
be resolved by linking with additional libraries, give those libraries
as the <var>other-libraries</var> argument, separated by spaces: &lsquo;<samp>-lXt
-lX11</samp>&rsquo;.  Otherwise this macro will fail to detect that <var>function</var> is
present, because linking the test program will always fail with
unresolved symbols.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fSEARCH_005fLIBS-1"></a><u>Macro:</u> <b>AC_SEARCH_LIBS</b><i> (<var>function</var>, <var>search-libs</var><span class="roman">[</span>, <var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-SEARCH_005fLIBS-1"></a>
<p>This macro is equivalent to calling <code>AC_TRY_LINK_FUNC</code> once for each
library listed in <var>search-libs</var>.  Add &lsquo;<samp>-l<var>library</var></samp>&rsquo; to
<code>LIBS</code> for the first library found to contain <var>function</var>, and
execute <var>action-if-found</var>.  Otherwise execute
<var>action-if-not-found</var>.
</p></dd></dl>

<hr size="6">
<a name="Library-Functions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Libraries" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Particular-Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Library-Functions-1"></a>
<h2 class="section">4.3 Library Functions</h2>

<p>The following macros check for particular C library functions.
If there is no macro specifically defined to check for a function you need,
and you don&rsquo;t need to check for any special properties of
it, then you can use one of the general function check macros.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Special handling to find certain functions.
</td></tr>
<tr><td align="left" valign="top"><a href="#Generic-Functions">4.3.2 Generic Function Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How to find other functions.
</td></tr>
</table>

<hr size="6">
<a name="Particular-Functions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Library-Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generic-Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Library-Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Particular-Function-Checks"></a>
<h3 class="subsection">4.3.1 Particular Function Checks</h3>

<p>These macros check for particular C functions&mdash;whether they exist, and
in some cases how they respond when given certain arguments.
</p>
<dl>
<dt><a name="index-AC_005fFUNC_005fALLOCA"></a><u>Macro:</u> <b>AC_FUNC_ALLOCA</b></dt>
<dd><a name="index-FUNC_005fALLOCA"></a>
<a name="index-C_005fALLOCA"></a>
<a name="index-HAVE_005fALLOCA_005fH"></a>
<a name="index-ALLOCA"></a>
<p>Check how to get <code>alloca</code>.  Tries to get a builtin version by
checking for &lsquo;<tt>alloca.h</tt>&rsquo; or the predefined C preprocessor macros
<code>__GNUC__</code> and <code>_AIX</code>.  If this macro finds &lsquo;<tt>alloca.h</tt>&rsquo;,
it defines <code>HAVE_ALLOCA_H</code>.
</p>
<p>If those attempts fail, it looks for the function in the standard C
library.  If any of those methods succeed, it defines
<code>HAVE_ALLOCA</code>.  Otherwise, it sets the output variable
<code>ALLOCA</code> to &lsquo;<samp>alloca.o</samp>&rsquo; and defines <code>C_ALLOCA</code> (so
programs can periodically call &lsquo;<samp>alloca(0)</samp>&rsquo; to garbage collect).
This variable is separate from <code>LIBOBJS</code> so multiple programs can
share the value of <code>ALLOCA</code> without needing to create an actual
library, in case only some of them use the code in <code>LIBOBJS</code>.
</p>
<p>This macro does not try to get <code>alloca</code> from the System V R3
&lsquo;<tt>libPW</tt>&rsquo; or the System V R4 &lsquo;<tt>libucb</tt>&rsquo; because those libraries
contain some incompatible functions that cause trouble.  Some versions
do not even contain <code>alloca</code> or contain a buggy version.  If you
still want to use their <code>alloca</code>, use <code>ar</code> to extract
&lsquo;<tt>alloca.o</tt>&rsquo; from them instead of compiling &lsquo;<tt>alloca.c</tt>&rsquo;.
</p>
<p>Source files that use <code>alloca</code> should start with a piece of code
like the following, to declare it properly.  In some versions
of AIX, the declaration of <code>alloca</code> must precede everything else
except for comments and preprocessor directives.  The <code>#pragma</code>
directive is indented so that pre-ANSI C compilers will ignore it,
rather than choke on it.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">/* AIX requires this to be the first thing in the file.  */
#ifndef __GNUC__
# if HAVE_ALLOCA_H
#  include &lt;alloca.h&gt;
# else
#  ifdef _AIX
 #pragma alloca
#  else
#   ifndef alloca /* predefined by HP cc +Olibcalls */
char *alloca ();
#   endif
#  endif
# endif
#endif
</pre></td></tr></table>
</dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fCLOSEDIR_005fVOID"></a><u>Macro:</u> <b>AC_FUNC_CLOSEDIR_VOID</b></dt>
<dd><a name="index-FUNC_005fCLOSEDIR_005fVOID"></a>
<a name="index-CLOSEDIR_005fVOID"></a>
<p>If the <code>closedir</code> function does not return a meaningful value,
define <code>CLOSEDIR_VOID</code>.  Otherwise, callers ought to check its
return value for an error indicator.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fFNMATCH"></a><u>Macro:</u> <b>AC_FUNC_FNMATCH</b></dt>
<dd><a name="index-FUNC_005fFNMATCH"></a>
<a name="index-LIBOBJS"></a>
<p>If the <code>fnmatch</code> function is available and works (unlike the one on
SunOS 5.4), define <code>HAVE_FNMATCH</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fGETLOADAVG"></a><u>Macro:</u> <b>AC_FUNC_GETLOADAVG</b></dt>
<dd><a name="index-FUNC_005fGETLOADAVG"></a>
<a name="index-SVR4"></a>
<a name="index-DGUX"></a>
<a name="index-UMAX"></a>
<a name="index-UMAX4_005f3"></a>
<a name="index-NLIST_005fSTRUCT"></a>
<a name="index-NLIST_005fNAME_005fUNION"></a>
<a name="index-GETLODAVG_005fPRIVILEGED"></a>
<a name="index-NEED_005fSETGID"></a>
<a name="index-LIBOBJS-1"></a>
<a name="index-NEED_005fSETGID-1"></a>
<a name="index-KMEM_005fGROUP"></a>
<p>Check how to get the system load averages.  If the system has the
<code>getloadavg</code> function, this macro defines <code>HAVE_GETLOADAVG</code>,
and adds to <code>LIBS</code> any libraries needed to get that function.
</p>
<p>Otherwise, it adds &lsquo;<samp>getloadavg.o</samp>&rsquo; to the output variable
<code>LIBOBJS</code>, and possibly defines several other C preprocessor
macros and output variables:
</p>
<ol>
<li>
It defines <code>SVR4</code>, <code>DGUX</code>, <code>UMAX</code>, or <code>UMAX4_3</code> if
on those systems.

</li><li>
If it finds &lsquo;<tt>nlist.h</tt>&rsquo;, it defines <code>NLIST_STRUCT</code>.

</li><li>
If &lsquo;<samp>struct nlist</samp>&rsquo; has an &lsquo;<samp>n_un</samp>&rsquo; member, it defines
<code>NLIST_NAME_UNION</code>.

</li><li>
If compiling &lsquo;<tt>getloadavg.c</tt>&rsquo; defines <code>LDAV_PRIVILEGED</code>,
programs need to be installed specially on this system for
<code>getloadavg</code> to work, and this macro defines
<code>GETLOADAVG_PRIVILEGED</code>.

</li><li>
This macro sets the output variable <code>NEED_SETGID</code>.  The value is
&lsquo;<samp>true</samp>&rsquo; if special installation is required, &lsquo;<samp>false</samp>&rsquo; if not.
If <code>NEED_SETGID</code> is &lsquo;<samp>true</samp>&rsquo;, this macro sets <code>KMEM_GROUP</code>
to the name of the group that should own the installed program.
</li></ol>
</dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fGETMNTENT"></a><u>Macro:</u> <b>AC_FUNC_GETMNTENT</b></dt>
<dd><a name="index-FUNC_005fGETMNTENT"></a>
<a name="index-HAVE_005fGETMNTENT"></a>
<p>Check for <code>getmntent</code> in the &lsquo;<tt>sun</tt>&rsquo;, &lsquo;<tt>seq</tt>&rsquo;, and &lsquo;<tt>gen</tt>&rsquo;
libraries, for Irix 4, PTX, and Unixware, respectively.  Then, if
<code>getmntent</code> is available, define <code>HAVE_GETMNTENT</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fGETPGRP"></a><u>Macro:</u> <b>AC_FUNC_GETPGRP</b></dt>
<dd><a name="index-FUNC_005fGETPGRP"></a>
<a name="index-GETPGRP_005fVOID"></a>
<p>If <code>getpgrp</code> takes no argument (the POSIX.1 version), define
<code>GETPGRP_VOID</code>.  Otherwise, it is the BSD version, which takes a
process ID as an argument.  This macro does not check whether
<code>getpgrp</code> exists at all; if you need to work in that situation,
first call <code>AC_CHECK_FUNC</code> for <code>getpgrp</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fMEMCMP"></a><u>Macro:</u> <b>AC_FUNC_MEMCMP</b></dt>
<dd><a name="index-FUNC_005fMEMCMP"></a>
<a name="index-LIBOBJS-2"></a>
<p>If the <code>memcmp</code> function is not available, or does not work on
8-bit data (like the one on SunOS 4.1.3), add &lsquo;<samp>memcmp.o</samp>&rsquo; to output
variable <code>LIBOBJS</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fMMAP"></a><u>Macro:</u> <b>AC_FUNC_MMAP</b></dt>
<dd><a name="index-FUNC_005fMMAP"></a>
<a name="index-HAVE_005fMMAP"></a>
<p>If the <code>mmap</code> function exists and works correctly, define
<code>HAVE_MMAP</code>.  Only checks private fixed mapping of already-mapped
memory.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fSELECT_005fARGTYPES"></a><u>Macro:</u> <b>AC_FUNC_SELECT_ARGTYPES</b></dt>
<dd><a name="index-FUNC_005fSELECT_005fARGTYPES"></a>
<a name="index-SELECT_005fTYPE_005fARG1"></a>
<a name="index-SELECT_005fTYPE_005fARG234"></a>
<a name="index-SELECT_005fTYPE_005fARG5"></a>
<p>Determines the correct type to be passed to each of the
<code>select</code> function&rsquo;s arguments, and defines those types
in <code>SELECT_TYPE_ARG1</code>, <code>SELECT_TYPE_ARG234</code>, and
<code>SELECT_TYPE_ARG5</code> respectively.  <code>SELECT_TYPE_ARG1</code> defaults
to &lsquo;<samp>int</samp>&rsquo;, <code>SELECT_TYPE_ARG234</code> defaults to &lsquo;<samp>int *</samp>&rsquo;,
and <code>SELECT_TYPE_ARG5</code> defaults to &lsquo;<samp>struct timeval *</samp>&rsquo;.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fSETPGRP"></a><u>Macro:</u> <b>AC_FUNC_SETPGRP</b></dt>
<dd><a name="index-FUNC_005fSETPGRP"></a>
<a name="index-SETPGRP_005fVOID"></a>
<p>If <code>setpgrp</code> takes no argument (the POSIX.1 version), define
<code>SETPGRP_VOID</code>.  Otherwise, it is the BSD version, which takes two
process ID as arguments.  This macro does not check whether
<code>setpgrp</code> exists at all; if you need to work in that situation,
first call <code>AC_CHECK_FUNC</code> for <code>setpgrp</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fSETVBUF_005fREVERSED"></a><u>Macro:</u> <b>AC_FUNC_SETVBUF_REVERSED</b></dt>
<dd><a name="index-FUNC_005fSETVBUF_005fREVERSED"></a>
<a name="index-SETVBUF_005fREVERSED"></a>
<p>If <code>setvbuf</code> takes the buffering type as its second argument and
the buffer pointer as the third, instead of the other way around, define
<code>SETVBUF_REVERSED</code>.  This is the case on System V before release 3.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fSTRCOLL"></a><u>Macro:</u> <b>AC_FUNC_STRCOLL</b></dt>
<dd><a name="index-FUNC_005fSTRCOLL"></a>
<a name="index-HAVE_005fSTRCOLL"></a>
<p>If the <code>strcoll</code> function exists and works correctly, define
<code>HAVE_STRCOLL</code>.  This does a bit more than
&lsquo;<samp>AC_CHECK_FUNCS(strcoll)</samp>&rsquo;, because some systems have incorrect
definitions of <code>strcoll</code>, which should not be used.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fSTRFTIME"></a><u>Macro:</u> <b>AC_FUNC_STRFTIME</b></dt>
<dd><a name="index-FUNC_005fSTRFTIME"></a>
<a name="index-HAVE_005fSTRFTIME"></a>
<p>Check for <code>strftime</code> in the &lsquo;<tt>intl</tt>&rsquo; library, for SCO UNIX.
Then, if <code>strftime</code> is available, define <code>HAVE_STRFTIME</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fUTIME_005fNULL"></a><u>Macro:</u> <b>AC_FUNC_UTIME_NULL</b></dt>
<dd><a name="index-FUNC_005fUTIME_005fNULL"></a>
<a name="index-HAVE_005fUTIME_005fNULL"></a>
<p>If &lsquo;<samp>utime(<var>file</var>, NULL)</samp>&rsquo; sets <var>file</var>&rsquo;s timestamp to
the present, define <code>HAVE_UTIME_NULL</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fVFORK"></a><u>Macro:</u> <b>AC_FUNC_VFORK</b></dt>
<dd><a name="index-FUNC_005fVFORK"></a>
<a name="index-HAVE_005fVFORK_005fH"></a>
<a name="index-vfork"></a>
<p>If &lsquo;<tt>vfork.h</tt>&rsquo; is found, define <code>HAVE_VFORK_H</code>.  If a working
<code>vfork</code> is not found, define <code>vfork</code> to be <code>fork</code>.  This
macro checks for several known errors in implementations of <code>vfork</code>
and considers the system to not have a working <code>vfork</code> if it
detects any of them.  It is not considered to be an implementation error
if a child&rsquo;s invocation of <code>signal</code> modifies the parent&rsquo;s signal
handler, since child processes rarely change their signal handlers.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fVPRINTF"></a><u>Macro:</u> <b>AC_FUNC_VPRINTF</b></dt>
<dd><a name="index-FUNC_005fVPRINTF"></a>
<a name="index-HAVE_005fVPRINTF"></a>
<a name="index-HAVE_005fDOPRNT"></a>
<p>If <code>vprintf</code> is found, define <code>HAVE_VPRINTF</code>.  Otherwise, if
<code>_doprnt</code> is found, define <code>HAVE_DOPRNT</code>.  (If <code>vprintf</code>
is available, you may assume that <code>vfprintf</code> and <code>vsprintf</code>
are also available.)
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fFUNC_005fWAIT3"></a><u>Macro:</u> <b>AC_FUNC_WAIT3</b></dt>
<dd><a name="index-FUNC_005fWAIT3"></a>
<a name="index-HAVE_005fWAIT3"></a>
<p>If <code>wait3</code> is found and fills in the contents of its third argument
(a &lsquo;<samp>struct rusage *</samp>&rsquo;), which HP-UX does not do, define
<code>HAVE_WAIT3</code>.
</p></dd></dl>

<hr size="6">
<a name="Generic-Functions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Particular-Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Header-Files" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Library-Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Generic-Function-Checks"></a>
<h3 class="subsection">4.3.2 Generic Function Checks</h3>

<p>These macros are used to find functions not covered by the particular
test macros.  If the functions might be in libraries other than the
default C library, first call <code>AC_CHECK_LIB</code> for those libraries.
If you need to check the behavior of a function as well as find out
whether it is present, you have to write your own test for
it (see section <a href="#Writing-Tests">Writing Tests</a>).
</p>
<dl>
<dt><a name="index-AC_005fCHECK_005fFUNC"></a><u>Macro:</u> <b>AC_CHECK_FUNC</b><i> (<var>function</var>, <span class="roman">[</span><var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-CHECK_005fFUNC"></a>
<p>If C function <var>function</var> is available, run shell commands
<var>action-if-found</var>, otherwise <var>action-if-not-found</var>.  If you just
want to define a symbol if the function is available, consider using
<code>AC_CHECK_FUNCS</code> instead.  This macro checks for functions with C
linkage even when <code>AC_LANG_CPLUSPLUS</code> has been called, since C++ is
more standardized than C is.  (see section <a href="#Language-Choice">Language Choice</a>, for more
information about selecting the language for checks.)
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fCHECK_005fFUNCS"></a><u>Macro:</u> <b>AC_CHECK_FUNCS</b><i> (<var>function</var>&hellip; <span class="roman">[</span>, <var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-CHECK_005fFUNCS"></a>
<a name="index-HAVE_005ffunction"></a>
<p>For each given <var>function</var> in the whitespace-separated argument list
that is available, define <code>HAVE_<var>function</var></code> (in all capitals).  If
<var>action-if-found</var> is given, it is additional shell code to execute
when one of the functions is found.  You can give it a value of
&lsquo;<samp>break</samp>&rsquo; to break out of the loop on the first match.  If
<var>action-if-not-found</var> is given, it is executed when one of the
functions is not found.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fREPLACE_005fFUNCS"></a><u>Macro:</u> <b>AC_REPLACE_FUNCS</b><i> (<var>function</var>&hellip;)</i></dt>
<dd><a name="index-REPLACE_005fFUNCS"></a>
<a name="index-LIBOBJS-3"></a>
<p>Like calling <code>AC_CHECK_FUNCS</code> using an <var>action-if-not-found</var>
that adds &lsquo;<samp><var>function</var>.o</samp>&rsquo; to the value of the output variable
<code>LIBOBJS</code>.  You can declare a function for which your replacement
version is used by enclosing the prototype in &lsquo;<samp>#ifndef
HAVE_<var>function</var></samp>&rsquo;.  If the system has the function, it probably
declares it in a header file you should be including, so you shouldn&rsquo;t
redeclare it, lest your declaration conflict.
</p></dd></dl>

<hr size="6">
<a name="Header-Files"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Generic-Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Particular-Headers" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Header-Files-1"></a>
<h2 class="section">4.4 Header Files</h2>

<p>The following macros check for the presence of certain C header files.
If there is no macro specifically defined to check for a header file you need,
and you don&rsquo;t need to check for any special properties of
it, then you can use one of the general header file check macros.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Special handling to find certain headers.
</td></tr>
<tr><td align="left" valign="top"><a href="#Generic-Headers">4.4.2 Generic Header Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             How to find other headers.
</td></tr>
</table>

<hr size="6">
<a name="Particular-Headers"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Header-Files" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generic-Headers" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Header-Files" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Particular-Header-Checks"></a>
<h3 class="subsection">4.4.1 Particular Header Checks</h3>

<p>These macros check for particular system header files&mdash;whether they
exist, and in some cases whether they declare certain symbols.
</p>
<dl>
<dt><a name="index-AC_005fDECL_005fSYS_005fSIGLIST"></a><u>Macro:</u> <b>AC_DECL_SYS_SIGLIST</b></dt>
<dd><a name="index-DECL_005fSYS_005fSIGLIST"></a>
<a name="index-SYS_005fSIGLIST_005fDECLARED"></a>
<p>Define <code>SYS_SIGLIST_DECLARED</code> if the variable <code>sys_siglist</code> is
declared in a system header file, either &lsquo;<tt>signal.h</tt>&rsquo; or
&lsquo;<tt>unistd.h</tt>&rsquo;.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fDIR_005fHEADER"></a><u>Macro:</u> <b>AC_DIR_HEADER</b></dt>
<dd><a name="index-DIR_005fHEADER"></a>
<a name="index-DIRENT"></a>
<a name="index-SYSDIR"></a>
<a name="index-SYSNDIR"></a>
<a name="index-NDIR"></a>
<a name="index-VOID_005fCLOSEDIR"></a>
<p>Like calling <code>AC_HEADER_DIRENT</code> and <code>AC_FUNC_CLOSEDIR_VOID</code>,
but defines a different set of C preprocessor macros to indicate which
header file is found.  This macro and the names it defines are
considered obsolete.  The names it defines are:
</p>
<dl compact="compact">
<dt> &lsquo;<tt>dirent.h</tt>&rsquo;</dt>
<dd><p><code>DIRENT</code>
</p></dd>
<dt> &lsquo;<tt>sys/ndir.h</tt>&rsquo;</dt>
<dd><p><code>SYSNDIR</code>
</p></dd>
<dt> &lsquo;<tt>sys/dir.h</tt>&rsquo;</dt>
<dd><p><code>SYSDIR</code>
</p></dd>
<dt> &lsquo;<tt>ndir.h</tt>&rsquo;</dt>
<dd><p><code>NDIR</code>
</p></dd>
</dl>

<p>In addition, if the <code>closedir</code> function does not return a
meaningful value, define <code>VOID_CLOSEDIR</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fHEADER_005fDIRENT"></a><u>Macro:</u> <b>AC_HEADER_DIRENT</b></dt>
<dd><a name="index-HEADER_005fDIRENT"></a>
<a name="index-HAVE_005fDIRENT_005fH"></a>
<a name="index-HAVE_005fNDIR_005fH"></a>
<a name="index-HAVE_005fSYS_005fDIR_005fH"></a>
<a name="index-HAVE_005fSYS_005fNDIR_005fH"></a>
<p>Check for the following header files, and for the first one that is
found and defines &lsquo;<samp>DIR</samp>&rsquo;, define the listed C preprocessor macro:
</p>
<dl compact="compact">
<dt> &lsquo;<tt>dirent.h</tt>&rsquo;</dt>
<dd><p><code>HAVE_DIRENT_H</code>
</p></dd>
<dt> &lsquo;<tt>sys/ndir.h</tt>&rsquo;</dt>
<dd><p><code>HAVE_SYS_NDIR_H</code>
</p></dd>
<dt> &lsquo;<tt>sys/dir.h</tt>&rsquo;</dt>
<dd><p><code>HAVE_SYS_DIR_H</code>
</p></dd>
<dt> &lsquo;<tt>ndir.h</tt>&rsquo;</dt>
<dd><p><code>HAVE_NDIR_H</code>
</p></dd>
</dl>

<p>The directory library declarations in the source code should look
something like the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#if HAVE_DIRENT_H
# include &lt;dirent.h&gt;
# define NAMLEN(dirent) strlen((dirent)-&gt;d_name)
#else
# define dirent direct
# define NAMLEN(dirent) (dirent)-&gt;d_namlen
# if HAVE_SYS_NDIR_H
#  include &lt;sys/ndir.h&gt;
# endif
# if HAVE_SYS_DIR_H
#  include &lt;sys/dir.h&gt;
# endif
# if HAVE_NDIR_H
#  include &lt;ndir.h&gt;
# endif
#endif
</pre></td></tr></table>

<p>Using the above declarations, the program would declare variables to be
type <code>struct dirent</code>, not <code>struct direct</code>, and would access
the length of a directory entry name by passing a pointer to a
<code>struct dirent</code> to the <code>NAMLEN</code> macro.
</p>
<p>This macro also checks for the SCO Xenix &lsquo;<tt>dir</tt>&rsquo; and &lsquo;<tt>x</tt>&rsquo; libraries.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fHEADER_005fMAJOR"></a><u>Macro:</u> <b>AC_HEADER_MAJOR</b></dt>
<dd><a name="index-HEADER_005fMAJOR"></a>
<a name="index-MAJOR_005fIN_005fMKDEV"></a>
<a name="index-MAJOR_005fIN_005fSYSMACROS"></a>
<p>If &lsquo;<tt>sys/types.h</tt>&rsquo; does not define <code>major</code>, <code>minor</code>, and
<code>makedev</code>, but &lsquo;<tt>sys/mkdev.h</tt>&rsquo; does, define
<code>MAJOR_IN_MKDEV</code>; otherwise, if &lsquo;<tt>sys/sysmacros.h</tt>&rsquo; does, define
<code>MAJOR_IN_SYSMACROS</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fHEADER_005fSTDC"></a><u>Macro:</u> <b>AC_HEADER_STDC</b></dt>
<dd><a name="index-HEADER_005fSTDC"></a>
<a name="index-STDC_005fHEADERS"></a>
<p>Define <code>STDC_HEADERS</code> if the system has ANSI C header files.
Specifically, this macro checks for &lsquo;<tt>stdlib.h</tt>&rsquo;, &lsquo;<tt>stdarg.h</tt>&rsquo;,
&lsquo;<tt>string.h</tt>&rsquo;, and &lsquo;<tt>float.h</tt>&rsquo;; if the system has those, it
probably has the rest of the ANSI C header files.  This macro also
checks whether &lsquo;<tt>string.h</tt>&rsquo; declares <code>memchr</code> (and thus
presumably the other <code>mem</code> functions), whether &lsquo;<tt>stdlib.h</tt>&rsquo;
declare <code>free</code> (and thus presumably <code>malloc</code> and other related
functions), and whether the &lsquo;<tt>ctype.h</tt>&rsquo; macros work on characters
with the high bit set, as ANSI C requires.
</p>
<p>Use <code>STDC_HEADERS</code> instead of <code>__STDC__</code> to determine whether
the system has ANSI-compliant header files (and probably C library
functions) because many systems that have GCC do not have ANSI C header
files.
</p>
<p>On systems without ANSI C headers, there is so much variation that it is
probably easier to declare the functions you use than to figure out
exactly what the system header files declare.  Some systems contain a
mix of functions ANSI and BSD; some are mostly ANSI but lack
&lsquo;<samp>memmove</samp>&rsquo;; some define the BSD functions as macros in
&lsquo;<tt>string.h</tt>&rsquo; or &lsquo;<tt>strings.h</tt>&rsquo;; some have only the BSD functions
but &lsquo;<tt>string.h</tt>&rsquo;; some declare the memory functions in
&lsquo;<tt>memory.h</tt>&rsquo;, some in &lsquo;<tt>string.h</tt>&rsquo;; etc.  It is probably
sufficient to check for one string function and one memory function; if
the library has the ANSI versions of those then it probably has most of
the others.  If you put the following in &lsquo;<tt>configure.in</tt>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_HEADER_STDC
AC_CHECK_FUNCS(strchr memcpy)
</pre></td></tr></table>

<p>then, in your code, you can put declarations like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#if STDC_HEADERS
# include &lt;string.h&gt;
#else
# ifndef HAVE_STRCHR
#  define strchr index
#  define strrchr rindex
# endif
char *strchr (), *strrchr ();
# ifndef HAVE_MEMCPY
#  define memcpy(d, s, n) bcopy ((s), (d), (n))
#  define memmove(d, s, n) bcopy ((s), (d), (n))
# endif
#endif
</pre></td></tr></table>

<p>If you use a function like <code>memchr</code>, <code>memset</code>, <code>strtok</code>,
or <code>strspn</code>, which have no BSD equivalent, then macros won&rsquo;t
suffice; you must provide an implementation of each function.  An easy
way to incorporate your implementations only when needed (since the ones
in system C libraries may be hand optimized) is to, taking <code>memchr</code>
for example, put it in &lsquo;<tt>memchr.c</tt>&rsquo; and use
&lsquo;<samp>AC_REPLACE_FUNCS(memchr)</samp>&rsquo;.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fHEADER_005fSYS_005fWAIT"></a><u>Macro:</u> <b>AC_HEADER_SYS_WAIT</b></dt>
<dd><a name="index-HEADER_005fSYS_005fWAIT"></a>
<a name="index-HAVE_005fSYS_005fWAIT_005fH"></a>
<p>If &lsquo;<tt>sys/wait.h</tt>&rsquo; exists and is compatible with POSIX.1, define
<code>HAVE_SYS_WAIT_H</code>.  Incompatibility can occur if &lsquo;<tt>sys/wait.h</tt>&rsquo;
does not exist, or if it uses the old BSD <code>union wait</code> instead of
<code>int</code> to store a status value.  If &lsquo;<tt>sys/wait.h</tt>&rsquo; is not POSIX.1
compatible, then instead of including it, define the POSIX.1 macros with
their usual interpretations.  Here is an example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#include &lt;sys/types.h&gt;
#if HAVE_SYS_WAIT_H
# include &lt;sys/wait.h&gt;
#endif
#ifndef WEXITSTATUS
# define WEXITSTATUS(stat_val) ((unsigned)(stat_val) &gt;&gt; 8)
#endif
#ifndef WIFEXITED
# define WIFEXITED(stat_val) (((stat_val) &amp; 255) == 0)
#endif
</pre></td></tr></table>
</dd></dl>

<dl>
<dt><a name="index-AC_005fMEMORY_005fH"></a><u>Macro:</u> <b>AC_MEMORY_H</b></dt>
<dd><a name="index-MEMORY_005fH"></a>
<a name="index-NEED_005fMEMORY_005fH"></a>
<p>Define <code>NEED_MEMORY_H</code> if <code>memcpy</code>, <code>memcmp</code>, etc. are
not declared in &lsquo;<tt>string.h</tt>&rsquo; and &lsquo;<tt>memory.h</tt>&rsquo; exists.  This macro
is obsolete; instead, use <code>AC_CHECK_HEADERS(memory.h)</code>.  See the
example for <code>AC_HEADER_STDC</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fUNISTD_005fH"></a><u>Macro:</u> <b>AC_UNISTD_H</b></dt>
<dd><a name="index-UNISTD_005fH"></a>
<a name="index-HAVE_005fUNISTD_005fH"></a>
<p>Define <code>HAVE_UNISTD_H</code> if the system has &lsquo;<tt>unistd.h</tt>&rsquo;.  This
macro is obsolete; instead, use &lsquo;<samp>AC_CHECK_HEADERS(unistd.h)</samp>&rsquo;.
</p>
<p>The way to check if the system supports POSIX.1 is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#if HAVE_UNISTD_H
# include &lt;sys/types.h&gt;
# include &lt;unistd.h&gt;
#endif

#ifdef _POSIX_VERSION
/* Code for POSIX.1 systems.  */
#endif
</pre></td></tr></table>

<a name="index-_005fPOSIX_005fVERSION"></a>
<p><code>_POSIX_VERSION</code> is defined when &lsquo;<tt>unistd.h</tt>&rsquo; is included on
POSIX.1 systems.  If there is no &lsquo;<tt>unistd.h</tt>&rsquo;, it is definitely not a
POSIX.1 system.  However, some non-POSIX.1 systems do have &lsquo;<tt>unistd.h</tt>&rsquo;.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fUSG"></a><u>Macro:</u> <b>AC_USG</b></dt>
<dd><a name="index-USG"></a>
<a name="index-USG-1"></a>
<p>Define <code>USG</code> if the system does not have &lsquo;<tt>strings.h</tt>&rsquo;,
<code>rindex</code>, <code>bzero</code>, etc.  This implies that it has
&lsquo;<tt>string.h</tt>&rsquo;, <code>strrchr</code>, <code>memset</code>, etc.
</p>
<p>The symbol <code>USG</code> is obsolete.  Instead of this macro, see the
example for <code>AC_HEADER_STDC</code>.
</p></dd></dl>

<hr size="6">
<a name="Generic-Headers"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Particular-Headers" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Structures" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Header-Files" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Generic-Header-Checks"></a>
<h3 class="subsection">4.4.2 Generic Header Checks</h3>

<p>These macros are used to find system header files not covered by the
particular test macros.  If you need to check the contents of a header
as well as find out whether it is present, you have to write your own
test for it (see section <a href="#Writing-Tests">Writing Tests</a>).
</p>
<dl>
<dt><a name="index-AC_005fCHECK_005fHEADER"></a><u>Macro:</u> <b>AC_CHECK_HEADER</b><i> (<var>header-file</var>, <span class="roman">[</span><var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-CHECK_005fHEADER"></a>
<p>If the system header file <var>header-file</var> exists, execute shell commands
<var>action-if-found</var>, otherwise execute <var>action-if-not-found</var>.  If
you just want to define a symbol if the header file is available,
consider using <code>AC_CHECK_HEADERS</code> instead.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fCHECK_005fHEADERS"></a><u>Macro:</u> <b>AC_CHECK_HEADERS</b><i> (<var>header-file</var>&hellip; <span class="roman">[</span>, <var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-CHECK_005fHEADERS"></a>
<a name="index-HAVE_005fheader"></a>
<p>For each given system header file <var>header-file</var> in the
whitespace-separated argument list that exists, define
<code>HAVE_<var>header-file</var></code> (in all capitals).  If <var>action-if-found</var>
is given, it is additional shell code to execute when one of the header
files is found.  You can give it a value of &lsquo;<samp>break</samp>&rsquo; to break out of
the loop on the first match.  If <var>action-if-not-found</var> is given, it
is executed when one of the header files is not found.
</p></dd></dl>

<hr size="6">
<a name="Structures"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Generic-Headers" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Typedefs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Structures-1"></a>
<h2 class="section">4.5 Structures</h2>

<p>The following macros check for certain structures or structure members.
To check structures not listed here, use <code>AC_EGREP_CPP</code>
(see section <a href="#Examining-Declarations">Examining Declarations</a>) or <code>AC_TRY_COMPILE</code>
(see section <a href="#Examining-Syntax">Examining Syntax</a>).
</p>
<dl>
<dt><a name="index-AC_005fHEADER_005fSTAT"></a><u>Macro:</u> <b>AC_HEADER_STAT</b></dt>
<dd><a name="index-HEADER_005fSTAT"></a>
<a name="index-STAT_005fMACROS_005fBROKEN"></a>
<p>If the macros <code>S_ISDIR</code>, <code>S_ISREG</code> et al. defined in
&lsquo;<tt>sys/stat.h</tt>&rsquo; do not work properly (returning false positives),
define <code>STAT_MACROS_BROKEN</code>.  This is the case on Tektronix UTekV,
Amdahl UTS and Motorola System V/88.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fHEADER_005fTIME"></a><u>Macro:</u> <b>AC_HEADER_TIME</b></dt>
<dd><a name="index-HEADER_005fTIME"></a>
<a name="index-TIME_005fWITH_005fSYS_005fTIME"></a>
<p>If a program may include both &lsquo;<tt>time.h</tt>&rsquo; and &lsquo;<tt>sys/time.h</tt>&rsquo;,
define <code>TIME_WITH_SYS_TIME</code>.  On some older systems,
&lsquo;<tt>sys/time.h</tt>&rsquo; includes &lsquo;<tt>time.h</tt>&rsquo;, but &lsquo;<tt>time.h</tt>&rsquo; is not
protected against multiple inclusion, so programs should not explicitly
include both files.  This macro is useful in programs that use, for
example, <code>struct timeval</code> or <code>struct timezone</code> as well as
<code>struct tm</code>.  It is best used in conjunction with
<code>HAVE_SYS_TIME_H</code>, which can be checked for using
<code>AC_CHECK_HEADERS(sys/time.h)</code>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#if TIME_WITH_SYS_TIME
# include &lt;sys/time.h&gt;
# include &lt;time.h&gt;
#else
# if HAVE_SYS_TIME_H
#  include &lt;sys/time.h&gt;
# else
#  include &lt;time.h&gt;
# endif
#endif
</pre></td></tr></table>
</dd></dl>

<dl>
<dt><a name="index-AC_005fSTRUCT_005fST_005fBLKSIZE"></a><u>Macro:</u> <b>AC_STRUCT_ST_BLKSIZE</b></dt>
<dd><a name="index-STRUCT_005fST_005fBLKSIZE"></a>
<a name="index-HAVE_005fST_005fBLKSIZE"></a>
<p>If <code>struct stat</code> contains an <code>st_blksize</code> member, define
<code>HAVE_ST_BLKSIZE</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fSTRUCT_005fST_005fBLOCKS"></a><u>Macro:</u> <b>AC_STRUCT_ST_BLOCKS</b></dt>
<dd><a name="index-STRUCT_005fST_005fBLOCKS"></a>
<a name="index-HAVE_005fST_005fBLOCKS"></a>
<a name="index-LIBOBJS-4"></a>
<p>If <code>struct stat</code> contains an <code>st_blocks</code> member, define
<code>HAVE_ST_BLOCKS</code>.  Otherwise, add &lsquo;<samp>fileblocks.o</samp>&rsquo; to the
output variable <code>LIBOBJS</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fSTRUCT_005fST_005fRDEV"></a><u>Macro:</u> <b>AC_STRUCT_ST_RDEV</b></dt>
<dd><a name="index-STRUCT_005fST_005fRDEV"></a>
<a name="index-HAVE_005fST_005fRDEV"></a>
<p>If <code>struct stat</code> contains an <code>st_rdev</code> member, define
<code>HAVE_ST_RDEV</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fSTRUCT_005fTM"></a><u>Macro:</u> <b>AC_STRUCT_TM</b></dt>
<dd><a name="index-STRUCT_005fTM"></a>
<a name="index-TM_005fIN_005fSYS_005fTIME"></a>
<p>If &lsquo;<tt>time.h</tt>&rsquo; does not define <code>struct tm</code>, define
<code>TM_IN_SYS_TIME</code>, which means that including &lsquo;<tt>sys/time.h</tt>&rsquo;
had better define <code>struct tm</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fSTRUCT_005fTIMEZONE"></a><u>Macro:</u> <b>AC_STRUCT_TIMEZONE</b></dt>
<dd><a name="index-STRUCT_005fTIMEZONE"></a>
<a name="index-HAVE_005fTM_005fZONE"></a>
<a name="index-HAVE_005fTZNAME"></a>
<p>Figure out how to get the current timezone.  If <code>struct tm</code> has a
<code>tm_zone</code> member, define <code>HAVE_TM_ZONE</code>.  Otherwise, if the
external array <code>tzname</code> is found, define <code>HAVE_TZNAME</code>.
</p></dd></dl>

<hr size="6">
<a name="Typedefs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Structures" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Particular-Typedefs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Typedefs-1"></a>
<h2 class="section">4.6 Typedefs</h2>

<p>The following macros check for C typedefs.  If there is no macro
specifically defined to check for a typedef you need, and you don&rsquo;t need
to check for any special properties of it, then you can use a general
typedef check macro.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Special handling to find certain types.
</td></tr>
<tr><td align="left" valign="top"><a href="#Generic-Typedefs">4.6.2 Generic Typedef Checks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            How to find other types.
</td></tr>
</table>

<hr size="6">
<a name="Particular-Typedefs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Typedefs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Generic-Typedefs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Typedefs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Particular-Typedef-Checks"></a>
<h3 class="subsection">4.6.1 Particular Typedef Checks</h3>

<p>These macros check for particular C typedefs in &lsquo;<tt>sys/types.h</tt>&rsquo; and
&lsquo;<tt>stdlib.h</tt>&rsquo; (if it exists).
</p>
<dl>
<dt><a name="index-AC_005fTYPE_005fGETGROUPS"></a><u>Macro:</u> <b>AC_TYPE_GETGROUPS</b></dt>
<dd><a name="index-TYPE_005fGETGROUPS"></a>
<a name="index-GETGROUPS_005fT"></a>
<p>Define <code>GETGROUPS_T</code> to be whichever of <code>gid_t</code> or <code>int</code>
is the base type of the array argument to <code>getgroups</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fTYPE_005fMODE_005fT"></a><u>Macro:</u> <b>AC_TYPE_MODE_T</b></dt>
<dd><a name="index-TYPE_005fMODE_005fT"></a>
<a name="index-mode_005ft"></a>
<p>If <code>mode_t</code> is not defined, define <code>mode_t</code> to be <code>int</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fTYPE_005fOFF_005fT"></a><u>Macro:</u> <b>AC_TYPE_OFF_T</b></dt>
<dd><a name="index-TYPE_005fOFF_005fT"></a>
<a name="index-off_005ft"></a>
<p>If <code>off_t</code> is not defined, define <code>off_t</code> to be <code>long</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fTYPE_005fPID_005fT"></a><u>Macro:</u> <b>AC_TYPE_PID_T</b></dt>
<dd><a name="index-TYPE_005fPID_005fT"></a>
<a name="index-pid_005ft"></a>
<p>If <code>pid_t</code> is not defined, define <code>pid_t</code> to be <code>int</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fTYPE_005fSIGNAL"></a><u>Macro:</u> <b>AC_TYPE_SIGNAL</b></dt>
<dd><a name="index-TYPE_005fSIGNAL"></a>
<a name="index-RETSIGTYPE"></a>
<p>If &lsquo;<tt>signal.h</tt>&rsquo; declares <code>signal</code> as returning a pointer to a
function returning <code>void</code>, define <code>RETSIGTYPE</code> to be
<code>void</code>; otherwise, define it to be <code>int</code>.
</p>
<p>Define signal handlers as returning type <code>RETSIGTYPE</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">RETSIGTYPE
hup_handler ()
{
&hellip;
}
</pre></td></tr></table>
</dd></dl>

<dl>
<dt><a name="index-AC_005fTYPE_005fSIZE_005fT"></a><u>Macro:</u> <b>AC_TYPE_SIZE_T</b></dt>
<dd><a name="index-TYPE_005fSIZE_005fT"></a>
<a name="index-size_005ft"></a>
<p>If <code>size_t</code> is not defined, define <code>size_t</code> to be
<code>unsigned</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fTYPE_005fUID_005fT"></a><u>Macro:</u> <b>AC_TYPE_UID_T</b></dt>
<dd><a name="index-TYPE_005fUID_005fT"></a>
<a name="index-uid_005ft"></a>
<a name="index-gid_005ft"></a>
<p>If <code>uid_t</code> is not defined, define <code>uid_t</code> to be <code>int</code> and
<code>gid_t</code> to be <code>int</code>.
</p></dd></dl>

<hr size="6">
<a name="Generic-Typedefs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Particular-Typedefs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#C-Compiler-Characteristics" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Typedefs" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Generic-Typedef-Checks"></a>
<h3 class="subsection">4.6.2 Generic Typedef Checks</h3>

<p>This macro is used to check for typedefs not covered by the particular
test macros.
</p>
<dl>
<dt><a name="index-AC_005fCHECK_005fTYPE"></a><u>Macro:</u> <b>AC_CHECK_TYPE</b><i> (<var>type</var>, <var>default</var>)</i></dt>
<dd><a name="index-CHECK_005fTYPE"></a>
<p>If the type <var>type</var> is not defined in &lsquo;<tt>sys/types.h</tt>&rsquo;, or
&lsquo;<tt>stdlib.h</tt>&rsquo; or &lsquo;<tt>stddef.h</tt>&rsquo; if they exist, define it to be the
C (or C++) builtin type <var>default</var>; e.g., &lsquo;<samp>short</samp>&rsquo; or
&lsquo;<samp>unsigned</samp>&rsquo;.
</p></dd></dl>

<hr size="6">
<a name="C-Compiler-Characteristics"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Generic-Typedefs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-77-Compiler-Characteristics" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="C-Compiler-Characteristics-1"></a>
<h2 class="section">4.7 C Compiler Characteristics</h2>

<p>The following macros check for C compiler or machine architecture
features.  To check for characteristics not listed here, use
<code>AC_TRY_COMPILE</code> (see section <a href="#Examining-Syntax">Examining Syntax</a>) or <code>AC_TRY_RUN</code>
(see section <a href="#Run-Time">Checking Run Time Behavior</a>)
</p>
<dl>
<dt><a name="index-AC_005fC_005fBIGENDIAN"></a><u>Macro:</u> <b>AC_C_BIGENDIAN</b></dt>
<dd><a name="index-C_005fBIGENDIAN"></a>
<a name="index-WORDS_005fBIGENDIAN"></a>
<p>If words are stored with the most significant byte first (like Motorola
and SPARC, but not Intel and VAX, CPUs), define <code>WORDS_BIGENDIAN</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fC_005fCONST"></a><u>Macro:</u> <b>AC_C_CONST</b></dt>
<dd><a name="index-C_005fCONST"></a>
<a name="index-const"></a>
<p>If the C compiler does not fully support the keyword <code>const</code>,
define <code>const</code> to be empty.  Some C compilers that do not define
<code>__STDC__</code> do support <code>const</code>; some compilers that define
<code>__STDC__</code> do not completely support <code>const</code>.  Programs can
simply use <code>const</code> as if every C compiler supported it; for those
that don&rsquo;t, the &lsquo;<tt>Makefile</tt>&rsquo; or configuration header file will define
it as empty.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fC_005fINLINE"></a><u>Macro:</u> <b>AC_C_INLINE</b></dt>
<dd><a name="index-C_005fINLINE"></a>
<a name="index-inline"></a>
<p>If the C compiler supports the keyword <code>inline</code>, do nothing.
Otherwise define <code>inline</code> to <code>__inline__</code> or <code>__inline</code>
if it accepts one of those, otherwise define <code>inline</code> to be empty.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fC_005fCHAR_005fUNSIGNED"></a><u>Macro:</u> <b>AC_C_CHAR_UNSIGNED</b></dt>
<dd><a name="index-C_005fCHAR_005fUNSIGNED"></a>
<a name="index-_005f_005fCHAR_005fUNSIGNED_005f_005f"></a>
<p>If the C type <code>char</code> is unsigned, define <code>__CHAR_UNSIGNED__</code>,
unless the C compiler predefines it.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fC_005fLONG_005fDOUBLE"></a><u>Macro:</u> <b>AC_C_LONG_DOUBLE</b></dt>
<dd><a name="index-C_005fLONG_005fDOUBLE"></a>
<a name="index-HAVE_005fLONG_005fDOUBLE"></a>
<p>If the C compiler supports the <code>long double</code> type, define
<code>HAVE_LONG_DOUBLE</code>.  Some C compilers that do not define
<code>__STDC__</code> do support the <code>long double</code> type; some compilers
that define <code>__STDC__</code> do not support <code>long double</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fC_005fSTRINGIZE"></a><u>Macro:</u> <b>AC_C_STRINGIZE</b></dt>
<dd><a name="index-C_005fSTRINGIZE"></a>
<a name="index-HAVE_005fSTRINGIZE"></a>
<p>If the C preprocessor supports the stringizing operator, define
<code>HAVE_STRINGIZE</code>.  The stringizing operator is &lsquo;<samp>#</samp>&rsquo; and is
found in macros such as this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#define x(y) #y
</pre></td></tr></table>
</dd></dl>

<dl>
<dt><a name="index-AC_005fCHECK_005fSIZEOF"></a><u>Macro:</u> <b>AC_CHECK_SIZEOF</b><i> (<var>type</var> <span class="roman">[</span>, <var>cross-size</var><span class="roman">]</span>)</i></dt>
<dd><a name="index-CHECK_005fSIZEOF"></a>
<p>Define <code>SIZEOF_<var>uctype</var></code> to be the size in bytes of the C (or
C++) builtin type <var>type</var>, e.g. &lsquo;<samp>int</samp>&rsquo; or &lsquo;<samp>char *</samp>&rsquo;.  If
&lsquo;<samp>type</samp>&rsquo; is unknown to the compiler, it gets a size of 0.  <var>uctype</var>
is <var>type</var>, with lowercase converted to uppercase, spaces changed to
underscores, and asterisks changed to &lsquo;<samp>P</samp>&rsquo;.  If cross-compiling, the
value <var>cross-size</var> is used if given, otherwise <code>configure</code>
exits with an error message.
</p>
<p>For example, the call
</p><table><tr><td>&nbsp;</td><td><pre class="example">AC_CHECK_SIZEOF(int *)
</pre></td></tr></table>
<p>defines <code>SIZEOF_INT_P</code> to be 8 on DEC Alpha AXP systems.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fINT_005f16_005fBITS"></a><u>Macro:</u> <b>AC_INT_16_BITS</b></dt>
<dd><a name="index-INT_005f16_005fBITS"></a>
<a name="index-INT_005f16_005fBITS-1"></a>
<p>If the C type <code>int</code> is 16 bits wide, define <code>INT_16_BITS</code>.
This macro is obsolete; it is more general to use
&lsquo;<samp>AC_CHECK_SIZEOF(int)</samp>&rsquo; instead.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fLONG_005f64_005fBITS"></a><u>Macro:</u> <b>AC_LONG_64_BITS</b></dt>
<dd><a name="index-LONG_005f64_005fBITS"></a>
<a name="index-LONG_005f64_005fBITS-1"></a>
<p>If the C type <code>long int</code> is 64 bits wide, define
<code>LONG_64_BITS</code>.  This macro is obsolete; it is more general to use
&lsquo;<samp>AC_CHECK_SIZEOF(long)</samp>&rsquo; instead.
</p></dd></dl>


<hr size="6">
<a name="Fortran-77-Compiler-Characteristics"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#C-Compiler-Characteristics" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#System-Services" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Fortran-77-Compiler-Characteristics-1"></a>
<h2 class="section">4.8 Fortran 77 Compiler Characteristics</h2>

<p>The following macros check for Fortran 77 compiler characteristics.  To
check for characteristics not listed here, use <code>AC_TRY_COMPILE</code>
(see section <a href="#Examining-Syntax">Examining Syntax</a>) or <code>AC_TRY_RUN</code> (see section <a href="#Run-Time">Checking Run Time Behavior</a>),
making sure to first set the current lanuage to Fortran 77
<code>AC_LANG_FORTRAN77</code> (see section <a href="#Language-Choice">Language Choice</a>).
</p>
<dl>
<dt><a name="index-AC_005fF77_005fLIBRARY_005fLDFLAGS"></a><u>Macro:</u> <b>AC_F77_LIBRARY_LDFLAGS</b></dt>
<dd><a name="index-F77_005fLIBRARY_005fLDFLAGS"></a>
<a name="index-FLIBS"></a>
<p>Determine the linker flags (e.g. &lsquo;<samp>-L</samp>&rsquo; and &lsquo;<samp>-l</samp>&rsquo;) for the
<em>Fortran 77 intrinsic and run-time libraries</em> that are required to
successfully link a Fortran 77 program or shared library.  The output
variable <code>FLIBS</code> is set to these flags.
</p>
<p>This macro is intended to be used in those situations when it is
necessary to mix, e.g. C++ and Fortran 77 source code into a single
program or shared library (see <a href="#Mixing-Fortran-77-With-C-and-C_002b_002b">(automake)Mixing Fortran 77 With C and C++</a> section &lsquo;Mixing Fortran 77 With C and C++&rsquo; in <cite>GNU Automake</cite>).
</p>
<p>For example, if object files from a C++ and Fortran 77 compiler must be
linked together, then the C++ compiler/linker must be used for linking
(since special C++-ish things need to happen at link time like calling
global constructors, instantiating templates, enabling exception
support, etc.).
</p>
<p>However, the Fortran 77 intrinsic and run-time libraries must be linked
in as well, but the C++ compiler/linker doesn&rsquo;t know by default how to
add these Fortran 77 libraries.  Hence, the macro
<code>AC_F77_LIBRARY_LDFLAGS</code> was created to determine these Fortran 77
libraries.
</p></dd></dl>


<hr size="6">
<a name="System-Services"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Fortran-77-Compiler-Characteristics" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#UNIX-Variants" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="System-Services-1"></a>
<h2 class="section">4.9 System Services</h2>

<p>The following macros check for operating system services or capabilities.
</p>
<dl>
<dt><a name="index-AC_005fCYGWIN"></a><u>Macro:</u> <b>AC_CYGWIN</b></dt>
<dd><a name="index-CYGWIN"></a>
<p>Checks for the Cygwin environment.  If present, sets shell variable
<code>CYGWIN</code> to &lsquo;<samp>yes</samp>&rsquo;.  If not present, sets <code>CYGWIN</code>
to the empty string.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fEXEEXT"></a><u>Macro:</u> <b>AC_EXEEXT</b></dt>
<dd><a name="index-EXEEXT"></a>
<a name="index-EXEEXT-1"></a>
<p>Defines substitute variable <code>EXEEXT</code> based on the output of the
compiler, after .c, .o, and .obj files have been excluded.  Typically
set to empty string if Unix, &lsquo;<samp>.exe</samp>&rsquo; or &lsquo;<samp>.EXE</samp>&rsquo; if Win32.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fOBJEXT"></a><u>Macro:</u> <b>AC_OBJEXT</b></dt>
<dd><a name="index-OBJEXT"></a>
<a name="index-OBJEXT-1"></a>
<p>Defines substitute variable <code>OBJEXT</code> based on the output of the
compiler, after .c files have been excluded.  Typically
set to &lsquo;<samp>.o</samp>&rsquo; if Unix, &lsquo;<samp>.obj</samp>&rsquo; if Win32.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fMINGW32"></a><u>Macro:</u> <b>AC_MINGW32</b></dt>
<dd><a name="index-MINGW32"></a>
<p>Checks for the MingW32 compiler environment.  If present, sets shell
variable <code>MINGW32</code> to &lsquo;<samp>yes</samp>&rsquo;.  If not present, sets
<code>MINGW32</code> to the empty string.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPATH_005fX"></a><u>Macro:</u> <b>AC_PATH_X</b></dt>
<dd><a name="index-PATH_005fX"></a>
<p>Try to locate the X Window System include files and libraries.  If the
user gave the command line options &lsquo;<samp>--x-includes=<var>dir</var></samp>&rsquo; and
&lsquo;<samp>--x-libraries=<var>dir</var></samp>&rsquo;, use those directories.  If either or
both were not given, get the missing values by running <code>xmkmf</code> on a
trivial &lsquo;<tt>Imakefile</tt>&rsquo; and examining the &lsquo;<tt>Makefile</tt>&rsquo; that it
produces.  If that fails (such as if <code>xmkmf</code> is not present), look
for them in several directories where they often reside.  If either
method is successful, set the shell variables <code>x_includes</code> and
<code>x_libraries</code> to their locations, unless they are in directories
the compiler searches by default.
</p>
<p>If both methods fail, or the user gave the command line option
&lsquo;<samp>--without-x</samp>&rsquo;, set the shell variable <code>no_x</code> to &lsquo;<samp>yes</samp>&rsquo;;
otherwise set it to the empty string.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fPATH_005fXTRA"></a><u>Macro:</u> <b>AC_PATH_XTRA</b></dt>
<dd><a name="index-PATH_005fXTRA"></a>
<a name="index-X_005fCFLAGS"></a>
<a name="index-X_005fLIBS"></a>
<a name="index-X_005fEXTRA_005fLIBS"></a>
<a name="index-X_005fPRE_005fLIBS"></a>
<p>An enhanced version of <code>AC_PATH_X</code>.  It adds the C compiler flags that
X needs to output variable <code>X_CFLAGS</code>, and the X linker flags to
<code>X_LIBS</code>.  If X is not available, adds &lsquo;<samp>-DX_DISPLAY_MISSING</samp>&rsquo; to
<code>X_CFLAGS</code>.
</p>
<p>This macro also checks for special libraries that some systems need in
order to compile X programs.  It adds any that the system needs to
output variable <code>X_EXTRA_LIBS</code>.  And it checks for special X11R6
libraries that need to be linked with before &lsquo;<samp>-lX11</samp>&rsquo;, and adds any
found to the output variable <code>X_PRE_LIBS</code>.
</p>
</dd></dl>

<dl>
<dt><a name="index-AC_005fSYS_005fINTERPRETER"></a><u>Macro:</u> <b>AC_SYS_INTERPRETER</b></dt>
<dd><a name="index-SYS_005fINTERPRETER"></a>
<p>Check whether the system supports starting scripts with a line of the
form &lsquo;<samp>#! /bin/csh</samp>&rsquo; to select the interpreter to use for the script.
After running this macro, shell code in <code>configure.in</code> can check
the shell variable <code>interpval</code>; it will be set to &lsquo;<samp>yes</samp>&rsquo;
if the system supports &lsquo;<samp>#!</samp>&rsquo;, &lsquo;<samp>no</samp>&rsquo; if not.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fSYS_005fLONG_005fFILE_005fNAMES"></a><u>Macro:</u> <b>AC_SYS_LONG_FILE_NAMES</b></dt>
<dd><a name="index-SYS_005fLONG_005fFILE_005fNAMES"></a>
<a name="index-HAVE_005fLONG_005fFILE_005fNAMES"></a>
<p>If the system supports file names longer than 14 characters, define
<code>HAVE_LONG_FILE_NAMES</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fSYS_005fRESTARTABLE_005fSYSCALLS"></a><u>Macro:</u> <b>AC_SYS_RESTARTABLE_SYSCALLS</b></dt>
<dd><a name="index-SYS_005fRESTARTABLE_005fSYSCALLS"></a>
<a name="index-HAVE_005fRESTARTABLE_005fSYSCALLS"></a>
<p>If the system automatically restarts a system call that is interrupted
by a signal, define <code>HAVE_RESTARTABLE_SYSCALLS</code>.
</p></dd></dl>

<hr size="6">
<a name="UNIX-Variants"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#System-Services" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="UNIX-Variants-1"></a>
<h2 class="section">4.10 UNIX Variants</h2>

<p>The following macros check for certain operating systems that need
special treatment for some programs, due to exceptional oddities in
their header files or libraries.  These macros are warts; they will be
replaced by a more systematic approach, based on the functions they make
available or the environments they provide.
</p>
<dl>
<dt><a name="index-AC_005fAIX"></a><u>Macro:</u> <b>AC_AIX</b></dt>
<dd><a name="index-AIX"></a>
<a name="index-_005fALL_005fSOURCE"></a>
<p>If on AIX, define <code>_ALL_SOURCE</code>.  Allows the use of some BSD
functions.  Should be called before any macros that run the C compiler.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fDYNIX_005fSEQ"></a><u>Macro:</u> <b>AC_DYNIX_SEQ</b></dt>
<dd><a name="index-DYNIX_005fSEQ"></a>
<p>If on Dynix/PTX (Sequent UNIX), add &lsquo;<samp>-lseq</samp>&rsquo; to output
variable <code>LIBS</code>.  This macro is obsolete; instead, use
<code>AC_FUNC_GETMNTENT</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fIRIX_005fSUN"></a><u>Macro:</u> <b>AC_IRIX_SUN</b></dt>
<dd><a name="index-IRIX_005fSUN"></a>
<p>If on IRIX (Silicon Graphics UNIX), add &lsquo;<samp>-lsun</samp>&rsquo; to output variable
<code>LIBS</code>.  This macro is obsolete.  If you were using it to get
<code>getmntent</code>, use <code>AC_FUNC_GETMNTENT</code> instead.  If you used it
for the NIS versions of the password and group functions, use
&lsquo;<samp>AC_CHECK_LIB(sun, getpwnam)</samp>&rsquo;.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fISC_005fPOSIX"></a><u>Macro:</u> <b>AC_ISC_POSIX</b></dt>
<dd><a name="index-ISC_005fPOSIX"></a>
<a name="index-_005fPOSIX_005fSOURCE"></a>
<a name="index-CC-2"></a>
<p>If on a POSIXized ISC UNIX, define <code>_POSIX_SOURCE</code> and add
&lsquo;<samp>-posix</samp>&rsquo; (for the GNU C compiler) or &lsquo;<samp>-Xp</samp>&rsquo; (for other C
compilers) to output variable <code>CC</code>.  This allows the use of
POSIX facilities.  Must be called after <code>AC_PROG_CC</code> and before
any other macros that run the C compiler.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fMINIX"></a><u>Macro:</u> <b>AC_MINIX</b></dt>
<dd><a name="index-MINIX"></a>
<a name="index-_005fMINIX"></a>
<a name="index-_005fPOSIX_005fSOURCE-1"></a>
<a name="index-_005fPOSIX_005f1_005fSOURCE"></a>
<p>If on Minix, define <code>_MINIX</code> and <code>_POSIX_SOURCE</code> and define
<code>_POSIX_1_SOURCE</code> to be 2.  This allows the use of POSIX
facilities.  Should be called before any macros that run the C compiler.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fSCO_005fINTL"></a><u>Macro:</u> <b>AC_SCO_INTL</b></dt>
<dd><a name="index-SCO_005fINTL"></a>
<a name="index-LIBS-2"></a>
<p>If on SCO UNIX, add &lsquo;<samp>-lintl</samp>&rsquo; to output variable <code>LIBS</code>.
This macro is obsolete; instead, use <code>AC_FUNC_STRFTIME</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fXENIX_005fDIR"></a><u>Macro:</u> <b>AC_XENIX_DIR</b></dt>
<dd><a name="index-XENIX_005fDIR"></a>
<a name="index-LIBS-3"></a>
<p>If on Xenix, add &lsquo;<samp>-lx</samp>&rsquo; to output variable <code>LIBS</code>.  Also, if
&lsquo;<tt>dirent.h</tt>&rsquo; is being used, add &lsquo;<samp>-ldir</samp>&rsquo; to <code>LIBS</code>.  This
macro is obsolete; use <code>AC_HEADER_DIRENT</code> instead.
</p></dd></dl>

<hr size="6">
<a name="Writing-Tests"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#UNIX-Variants" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Examining-Declarations" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Existing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Writing-Tests-1"></a>
<h1 class="chapter">5. Writing Tests</h1>

<p>If the existing feature tests don&rsquo;t do something you need, you have to
write new ones.  These macros are the building blocks.  They provide
ways for other macros to check whether various kinds of features are
available and report the results.
</p>
<p>This chapter contains some suggestions and some of the reasons why the
existing tests are written the way they are.  You can also learn a lot
about how to write Autoconf tests by looking at the existing ones.  If
something goes wrong in one or more of the Autoconf tests, this
information can help you understand the assumptions behind them, which
might help you figure out how to best solve the problem.
</p>
<p>These macros check the output of the C compiler system.  They do
not cache the results of their tests for future use (see section <a href="#Caching-Results">Caching Results</a>), because they don&rsquo;t know enough about the information they are
checking for to generate a cache variable name.  They also do not print
any messages, for the same reason.  The checks for particular kinds of C
features call these macros and do cache their results and print messages
about what they&rsquo;re checking for.
</p>
<p>When you write a feature test that could be applicable to more than one
software package, the best thing to do is encapsulate it in a new macro.
See section <a href="#Writing-Macros">Writing Macros</a>, for how to do that.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Examining-Declarations">5.1 Examining Declarations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Detecting header files and declarations.
</td></tr>
<tr><td align="left" valign="top"><a href="#Examining-Syntax">5.2 Examining Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Detecting language syntax features.
</td></tr>
<tr><td align="left" valign="top"><a href="#Examining-Libraries">5.3 Examining Libraries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Detecting functions and global variables.
</td></tr>
<tr><td align="left" valign="top"><a href="#Run-Time">5.4 Checking Run Time Behavior</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    Testing for run-time features.
</td></tr>
<tr><td align="left" valign="top"><a href="#Portable-Shell">5.5 Portable Shell Programming</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Shell script portability pitfalls.
</td></tr>
<tr><td align="left" valign="top"><a href="#Testing-Values-and-Files">5.6 Testing Values and Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    Checking strings and files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Multiple-Cases">5.7 Multiple Cases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Tests for several possible values.
</td></tr>
<tr><td align="left" valign="top"><a href="#Language-Choice">5.8 Language Choice</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Selecting which language to use for testing.
</td></tr>
</table>

<hr size="6">
<a name="Examining-Declarations"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Writing-Tests" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Examining-Syntax" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Examining-Declarations-1"></a>
<h2 class="section">5.1 Examining Declarations</h2>

<p>The macro <code>AC_TRY_CPP</code> is used to check whether particular header
files exist.  You can check for one at a time, or more than one if you
need several header files to all exist for some purpose.
</p>
<dl>
<dt><a name="index-AC_005fTRY_005fCPP"></a><u>Macro:</u> <b>AC_TRY_CPP</b><i> (<var>includes</var>, <span class="roman">[</span><var>action-if-true</var> <span class="roman">[</span>, <var>action-if-false</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-TRY_005fCPP"></a>
<p><var>includes</var> is C or C++ <code>#include</code> statements and declarations,
on which shell variable, backquote, and backslash substitutions are
performed.  (Actually, it can be any C program, but other statements are
probably not useful.)  If the preprocessor produces no error messages
while processing it, run shell commands <var>action-if-true</var>.  Otherwise
run shell commands <var>action-if-false</var>.
</p>
<p>This macro uses <code>CPPFLAGS</code>, but not <code>CFLAGS</code>, because
&lsquo;<samp>-g</samp>&rsquo;, &lsquo;<samp>-O</samp>&rsquo;, etc. are not valid options to many C
preprocessors.
</p></dd></dl>

<p>Here is how to find out whether a header file contains a particular
declaration, such as a typedef, a structure, a structure member, or a
function.  Use <code>AC_EGREP_HEADER</code> instead of running <code>grep</code>
directly on the header file; on some systems the symbol might be defined
in another header file that the file you are checking &lsquo;<samp>#include</samp>&rsquo;s.
</p>
<dl>
<dt><a name="index-AC_005fEGREP_005fHEADER"></a><u>Macro:</u> <b>AC_EGREP_HEADER</b><i> (<var>pattern</var>, <var>header-file</var>, <var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]</span>)</i></dt>
<dd><a name="index-EGREP_005fHEADER"></a>
<p>If the output of running the preprocessor on the system header file
<var>header-file</var> matches the <code>egrep</code> regular expression
<var>pattern</var>, execute shell commands <var>action-if-found</var>, otherwise
execute <var>action-if-not-found</var>.
</p></dd></dl>

<p>To check for C preprocessor symbols, either defined by header files or
predefined by the C preprocessor, use <code>AC_EGREP_CPP</code>.  Here is an
example of the latter:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_EGREP_CPP(yes,
[#ifdef _AIX
  yes
#endif
], is_aix=yes, is_aix=no)
</pre></td></tr></table>

<dl>
<dt><a name="index-AC_005fEGREP_005fCPP"></a><u>Macro:</u> <b>AC_EGREP_CPP</b><i> (<var>pattern</var>, <var>program</var>, <span class="roman">[</span><var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-EGREP_005fCPP"></a>
<p><var>program</var> is the text of a C or C++ program, on which shell
variable, backquote, and backslash substitutions are performed.  If the
output of running the preprocessor on <var>program</var> matches the
<code>egrep</code> regular expression <var>pattern</var>, execute shell commands
<var>action-if-found</var>, otherwise execute <var>action-if-not-found</var>.
</p>
<p>This macro calls <code>AC_PROG_CPP</code> or <code>AC_PROG_CXXCPP</code> (depending
on which language is current, see section <a href="#Language-Choice">Language Choice</a>), if it hasn&rsquo;t
been called already.
</p></dd></dl>

<hr size="6">
<a name="Examining-Syntax"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Examining-Declarations" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Examining-Libraries" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Examining-Syntax-1"></a>
<h2 class="section">5.2 Examining Syntax</h2>

<p>To check for a syntax feature of the C, C++ or Fortran 77 compiler, such
as whether it recognizes a certain keyword, use <code>AC_TRY_COMPILE</code> to
try to compile a small program that uses that feature.  You can also use
it to check for structures and structure members that are not present on
all systems.
</p>
<dl>
<dt><a name="index-AC_005fTRY_005fCOMPILE"></a><u>Macro:</u> <b>AC_TRY_COMPILE</b><i> (<var>includes</var>, <var>function-body</var>, <span class="roman">[</span><var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-TRY_005fCOMPILE"></a>
<p>Create a C, C++ or Fortran 77 test program (depending on which language
is current, see section <a href="#Language-Choice">Language Choice</a>), to see whether a function whose
body consists of <var>function-body</var> can be compiled.
</p>
<p>For C and C++, <var>includes</var> is any <code>#include</code> statements needed
by the code in <var>function-body</var> (<var>includes</var> will be ignored if
the currently selected language is Fortran 77).  This macro also uses
<code>CFLAGS</code> or <code>CXXFLAGS</code> if either C or C++ is the currently
selected language, as well as <code>CPPFLAGS</code>, when compiling.  If
Fortran 77 is the currently selected language then <code>FFLAGS</code> will be
used when compiling.
</p>
<p>If the file compiles successfully, run shell commands
<var>action-if-found</var>, otherwise run <var>action-if-not-found</var>.
</p>
<p>This macro does not try to link; use <code>AC_TRY_LINK</code> if you need to
do that (see section <a href="#Examining-Libraries">Examining Libraries</a>).
</p></dd></dl>

<hr size="6">
<a name="Examining-Libraries"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Examining-Syntax" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Run-Time" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Examining-Libraries-1"></a>
<h2 class="section">5.3 Examining Libraries</h2>

<p>To check for a library, a function, or a global variable, Autoconf
<code>configure</code> scripts try to compile and link a small program that
uses it.  This is unlike Metaconfig, which by default uses <code>nm</code>
or <code>ar</code> on the C library to try to figure out which functions are
available.  Trying to link with the function is usually a more reliable
approach because it avoids dealing with the variations in the options
and output formats of <code>nm</code> and <code>ar</code> and in the location of the
standard libraries.  It also allows configuring for cross-compilation or
checking a function&rsquo;s runtime behavior if needed.  On the other hand, it
can be slower than scanning the libraries once.
</p>
<p>A few systems have linkers that do not return a failure exit status when
there are unresolved functions in the link.  This bug makes the
configuration scripts produced by Autoconf unusable on those systems.
However, some of them can be given options that make the exit status
correct.  This is a problem that Autoconf does not currently handle
automatically.  If users encounter this problem, they might be able to
solve it by setting <code>LDFLAGS</code> in the environment to pass whatever
options the linker needs (for example, &lsquo;<samp>-Wl,-dn</samp>&rsquo; on MIPS RISC/OS).
</p>
<p><code>AC_TRY_LINK</code> is used to compile test programs to test for
functions and global variables.  It is also used by <code>AC_CHECK_LIB</code>
to check for libraries (see section <a href="#Libraries">Library Files</a>), by adding the library being
checked for to <code>LIBS</code> temporarily and trying to link a small
program.
</p>
<dl>
<dt><a name="index-AC_005fTRY_005fLINK"></a><u>Macro:</u> <b>AC_TRY_LINK</b><i> (<var>includes</var>, <var>function-body</var>, <span class="roman">[</span><var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-TRY_005fLINK"></a>
<p>Depending on the current language (see section <a href="#Language-Choice">Language Choice</a>), create a
test program to see whether a function whose body consists of
<var>function-body</var> can be compiled and linked.
</p>
<p>For C and C++, <var>includes</var> is any <code>#include</code> statements needed
by the code in <var>function-body</var> (<var>includes</var> will be ignored if
the currently selected language is Fortran 77).  This macro also uses
<code>CFLAGS</code> or <code>CXXFLAGS</code> if either C or C++ is the currently
selected language, as well as <code>CPPFLAGS</code>, when compiling.  If
Fortran 77 is the currently selected language then <code>FFLAGS</code> will be
used when compiling.  However, both <code>LDFLAGS</code> and <code>LIBS</code> will
be used during linking in all cases.
</p>
<p>If the file compiles and links successfully, run shell commands
<var>action-if-found</var>, otherwise run <var>action-if-not-found</var>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fTRY_005fLINK_005fFUNC"></a><u>Macro:</u> <b>AC_TRY_LINK_FUNC</b><i> (<var>function</var>, <span class="roman">[</span><var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-TRY_005fLINK_005fFUNC"></a>
<p>Depending on the current language (see section <a href="#Language-Choice">Language Choice</a>), create a
test program to see whether a program whose body consists of
a prototype of and a call to <var>function</var> can be compiled and linked.
</p>
<p>If the file compiles and links successfully, run shell commands
<var>action-if-found</var>, otherwise run <var>action-if-not-found</var>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fTRY_005fLINK_005fFUNC-1"></a><u>Macro:</u> <b>AC_TRY_LINK_FUNC</b><i> (<var>function</var>, <span class="roman">[</span><var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-TRY_005fLINK_005fFUNC-1"></a>
<p>Attempt to compile and link a small program that links with
<var>function</var>.  If the file compiles and links successfully,
run shell commands <var>action-if-found</var>, otherwise run
<var>action-if-not-found</var>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fCOMPILE_005fCHECK"></a><u>Macro:</u> <b>AC_COMPILE_CHECK</b><i> (<var>echo-text</var>, <var>includes</var>, <var>function-body</var>, <var>action-if-found</var> <span class="roman">[</span>, <var>action-if-not-found</var><span class="roman">]</span>)</i></dt>
<dd><a name="index-COMPILE_005fCHECK"></a>
<p>This is an obsolete version of <code>AC_TRY_LINK</code>, with the addition
that it prints &lsquo;<samp>checking for <var>echo-text</var></samp>&rsquo; to the standard
output first, if <var>echo-text</var> is non-empty.  Use
<code>AC_MSG_CHECKING</code> and <code>AC_MSG_RESULT</code> instead to print
messages (see section <a href="#Printing-Messages">Printing Messages</a>).
</p></dd></dl>

<hr size="6">
<a name="Run-Time"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Examining-Libraries" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Test-Programs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Checking-Run-Time-Behavior"></a>
<h2 class="section">5.4 Checking Run Time Behavior</h2>

<p>Sometimes you need to find out how a system performs at run time, such
as whether a given function has a certain capability or bug.  If you
can, make such checks when your program runs instead of when it is
configured.  You can check for things like the machine&rsquo;s endianness when
your program initializes itself.
</p>
<p>If you really need to test for a run-time behavior while configuring,
you can write a test program to determine the result, and compile and
run it using <code>AC_TRY_RUN</code>.  Avoid running test programs if
possible, because using them prevents people from configuring your
package for cross-compiling.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Test-Programs">5.4.1 Running Test Programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Running test programs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Guidelines">5.4.2 Guidelines for Test Programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  General rules for writing test programs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Test-Functions">5.4.3 Test Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Avoiding pitfalls in test programs.
</td></tr>
</table>

<hr size="6">
<a name="Test-Programs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Run-Time" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Guidelines" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Run-Time" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Running-Test-Programs"></a>
<h3 class="subsection">5.4.1 Running Test Programs</h3>

<p>Use the following macro if you need to test run-time behavior of the
system while configuring.
</p>
<dl>
<dt><a name="index-AC_005fTRY_005fRUN"></a><u>Macro:</u> <b>AC_TRY_RUN</b><i> (<var>program</var>, <span class="roman">[</span><var>action-if-true</var> <span class="roman">[</span>, <var>action-if-false</var> <span class="roman">[</span>, <var>action-if-cross-compiling</var><span class="roman">]]]</span>)</i></dt>
<dd><a name="index-TRY_005fRUN"></a>
<p><var>program</var> is the text of a C program, on which shell variable and
backquote substitutions are performed.  If it compiles and links
successfully and returns an exit status of 0 when executed, run shell
commands <var>action-if-true</var>.  Otherwise run shell commands
<var>action-if-false</var>; the exit status of the program is available in
the shell variable &lsquo;<samp>$?</samp>&rsquo;.  This macro uses <code>CFLAGS</code> or
<code>CXXFLAGS</code>, <code>CPPFLAGS</code>, <code>LDFLAGS</code>, and <code>LIBS</code> when
compiling.
</p>
<p>If the C compiler being used does not produce executables that run on
the system where <code>configure</code> is being run, then the test program is
not run.  If the optional shell commands <var>action-if-cross-compiling</var>
are given, they are run instead.  Otherwise, <code>configure</code> prints
an error message and exits.
</p></dd></dl>

<p>Try to provide a pessimistic default value to use when cross-compiling
makes run-time tests impossible.  You do this by passing the optional
last argument to <code>AC_TRY_RUN</code>.  <code>autoconf</code> prints a warning
message when creating <code>configure</code> each time it encounters a call to
<code>AC_TRY_RUN</code> with no <var>action-if-cross-compiling</var> argument
given.  You may ignore the warning, though users will not be able to
configure your package for cross-compiling.  A few of the macros
distributed with Autoconf produce this warning message.
</p>
<p>To configure for cross-compiling you can also choose a value for those
parameters based on the canonical system name (see section <a href="#Manual-Configuration">Manual Configuration</a>).  Alternatively, set up a test results cache file with
the correct values for the target system (see section <a href="#Caching-Results">Caching Results</a>).
</p>
<p>To provide a default for calls of <code>AC_TRY_RUN</code> that are embedded in
other macros, including a few of the ones that come with Autoconf, you
can call <code>AC_PROG_CC</code> before running them.  Then, if the shell
variable <code>cross_compiling</code> is set to &lsquo;<samp>yes</samp>&rsquo;, use an alternate
method to get the results instead of calling the macros.
</p>
<dl>
<dt><a name="index-AC_005fC_005fCROSS"></a><u>Macro:</u> <b>AC_C_CROSS</b></dt>
<dd><a name="index-C_005fCROSS"></a>
<p>This macro is obsolete; it does nothing.
</p></dd></dl>

<hr size="6">
<a name="Guidelines"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Test-Programs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Test-Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Run-Time" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Guidelines-for-Test-Programs"></a>
<h3 class="subsection">5.4.2 Guidelines for Test Programs</h3>

<p>Test programs should not write anything to the standard output.  They
should return 0 if the test succeeds, nonzero otherwise, so that success
can be distinguished easily from a core dump or other failure;
segmentation violations and other failures produce a nonzero exit
status.  Test programs should <code>exit</code>, not <code>return</code>, from
<code>main</code>, because on some systems (old Suns, at least) the argument
to <code>return</code> in <code>main</code> is ignored.
</p>
<p>Test programs can use <code>#if</code> or <code>#ifdef</code> to check the values of
preprocessor macros defined by tests that have already run.  For
example, if you call <code>AC_HEADER_STDC</code>, then later on in
&lsquo;<tt>configure.in</tt>&rsquo; you can have a test program that includes an ANSI C
header file conditionally:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#if STDC_HEADERS
# include &lt;stdlib.h&gt;
#endif
</pre></td></tr></table>

<p>If a test program needs to use or create a data file, give it a name
that starts with &lsquo;<tt>conftest</tt>&rsquo;, such as &lsquo;<tt>conftestdata</tt>&rsquo;.  The
<code>configure</code> script cleans up by running &lsquo;<samp>rm -rf conftest*</samp>&rsquo;
after running test programs and if the script is interrupted.
</p>
<hr size="6">
<a name="Test-Functions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Guidelines" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Portable-Shell" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Run-Time" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Test-Functions-1"></a>
<h3 class="subsection">5.4.3 Test Functions</h3>

<p>Function declarations in test programs should have a prototype
conditionalized for C++.  In practice, though, test programs rarely need
functions that take arguments.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#ifdef __cplusplus
foo(int i)
#else
foo(i) int i;
#endif
</pre></td></tr></table>

<p>Functions that test programs declare should also be conditionalized for
C++, which requires &lsquo;<samp>extern &quot;C&quot;</samp>&rsquo; prototypes.  Make sure to not
include any header files containing clashing prototypes.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#ifdef __cplusplus
extern &quot;C&quot; void *malloc(size_t);
#else
char *malloc();
#endif
</pre></td></tr></table>

<p>If a test program calls a function with invalid parameters (just to see
whether it exists), organize the program to ensure that it never invokes
that function.  You can do this by calling it in another function that is
never invoked.  You can&rsquo;t do it by putting it after a call to
<code>exit</code>, because GCC version 2 knows that <code>exit</code> never returns
and optimizes out any code that follows it in the same block.
</p>
<p>If you include any header files, make sure to call the functions
relevant to them with the correct number of arguments, even if they are
just 0, to avoid compilation errors due to prototypes.  GCC version 2
has internal prototypes for several functions that it automatically
inlines; for example, <code>memcpy</code>.  To avoid errors when checking for
them, either pass them the correct number of arguments or redeclare them
with a different return type (such as <code>char</code>).
</p>
<hr size="6">
<a name="Portable-Shell"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Test-Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Testing-Values-and-Files" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Portable-Shell-Programming"></a>
<h2 class="section">5.5 Portable Shell Programming</h2>

<p>When writing your own checks, there are some shell script programming
techniques you should avoid in order to make your code portable.  The
Bourne shell and upward-compatible shells like Bash and the Korn shell
have evolved over the years, but to prevent trouble, do not take
advantage of features that were added after UNIX version 7, circa 1977.
You should not use shell functions, aliases, negated character classes,
or other features that are not found in all Bourne-compatible shells;
restrict yourself to the lowest common denominator.  Even <code>unset</code>
is not supported by all shells!  Also, include a space after the
exclamation point in interpreter specifications, like this:
</p><table><tr><td>&nbsp;</td><td><pre class="example">#! /usr/bin/perl
</pre></td></tr></table>
<p>If you omit the space before the path, then 4.2BSD based systems (such
as Sequent DYNIX) will ignore the line, because they interpret &lsquo;<samp>#! /</samp>&rsquo;
as a 4-byte magic number.
</p>
<p>The set of external programs you should run in a <code>configure</code> script
is fairly small.  See <a href="#Utilities-in-Makefiles">(standards)Utilities in Makefiles</a> section &lsquo;Utilities in Makefiles&rsquo; in <cite>GNU Coding Standards</cite>, for the list.  This
restriction allows users to start out with a fairly small set of
programs and build the rest, avoiding too many interdependencies between
packages.
</p>
<p>Some of these external utilities have a portable subset of features, as
well; for example, don&rsquo;t rely on <code>ln</code> having a &lsquo;<samp>-f</samp>&rsquo; option or
<code>cat</code> having any options.  <code>sed</code> scripts should not contain
comments or use branch labels longer than 8 characters.  Don&rsquo;t use
&lsquo;<samp>grep -s</samp>&rsquo; to suppress output, because &lsquo;<samp>grep -s</samp>&rsquo; on System V
does not suppress output, only error messages.  Instead, redirect the
standard output and standard error (in case the file doesn&rsquo;t exist) of
<code>grep</code> to &lsquo;<tt>/dev/null</tt>&rsquo;.  Check the exit status of <code>grep</code>
to determine whether it found a match.
</p>
<hr size="6">
<a name="Testing-Values-and-Files"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Portable-Shell" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Multiple-Cases" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Testing-Values-and-Files-1"></a>
<h2 class="section">5.6 Testing Values and Files</h2>

<p><code>configure</code> scripts need to test properties of many files and
strings.  Here are some portability problems to watch out for when doing
those tests.
</p>
<p>The <code>test</code> program is the way to perform many file and string
tests.  It is often invoked by the alternate name &lsquo;<samp>[</samp>&rsquo;, but using
that name in Autoconf code is asking for trouble since it is an
<code>m4</code> quote character.
</p>
<p>If you need to make multiple checks using <code>test</code>, combine
them with the shell operators &lsquo;<samp>&amp;&amp;</samp>&rsquo; and &lsquo;<samp>||</samp>&rsquo; instead of using
the <code>test</code> operators &lsquo;<samp>-a</samp>&rsquo; and &lsquo;<samp>-o</samp>&rsquo;.  On System V, the
precedence of &lsquo;<samp>-a</samp>&rsquo; and &lsquo;<samp>-o</samp>&rsquo; is wrong relative to the unary
operators; consequently, POSIX does not specify them, so using them is
nonportable.  If you combine &lsquo;<samp>&amp;&amp;</samp>&rsquo; and &lsquo;<samp>||</samp>&rsquo; in the same
statement, keep in mind that they have equal precedence.
</p>
<p>To enable <code>configure</code> scripts to support cross-compilation, they
shouldn&rsquo;t do anything that tests features of the host system instead of
the target system.  But occasionally you may find it necessary to check
whether some arbitrary file exists.  To do so, use &lsquo;<samp>test -f</samp>&rsquo; or
&lsquo;<samp>test -r</samp>&rsquo;.  Do not use &lsquo;<samp>test -x</samp>&rsquo;, because 4.3BSD does not have
it.
</p>
<p>Another nonportable shell programming construction is
</p><table><tr><td>&nbsp;</td><td><pre class="example"><var>var</var>=${<var>var</var>:-<var>value</var>}
</pre></td></tr></table>
<p>The intent is to set <var>var</var> to <var>value</var> only if it is not already
set, but if <var>var</var> has any value, even the empty string, to leave it
alone.  Old BSD shells, including the Ultrix <code>sh</code>, don&rsquo;t accept
the colon, and complain and die.  A portable equivalent is
</p><table><tr><td>&nbsp;</td><td><pre class="example">: ${<var>var</var>=<var>value</var>}
</pre></td></tr></table>

<hr size="6">
<a name="Multiple-Cases"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Testing-Values-and-Files" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Language-Choice" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Multiple-Cases-1"></a>
<h2 class="section">5.7 Multiple Cases</h2>

<p>Some operations are accomplished in several possible ways, depending on
the UNIX variant.  Checking for them essentially requires a &ldquo;case
statement&rdquo;.  Autoconf does not directly provide one; however, it is
easy to simulate by using a shell variable to keep track of whether a
way to perform the operation has been found yet.
</p>
<p>Here is an example that uses the shell variable <code>fstype</code> to keep
track of whether the remaining cases need to be checked.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_MSG_CHECKING(how to get filesystem type)
fstype=no
# The order of these tests is important.
AC_TRY_CPP([#include &lt;sys/statvfs.h&gt;
#include &lt;sys/fstyp.h&gt;], AC_DEFINE(FSTYPE_STATVFS) fstype=SVR4)
if test $fstype = no; then
AC_TRY_CPP([#include &lt;sys/statfs.h&gt;
#include &lt;sys/fstyp.h&gt;], AC_DEFINE(FSTYPE_USG_STATFS) fstype=SVR3)
fi
if test $fstype = no; then
AC_TRY_CPP([#include &lt;sys/statfs.h&gt;
#include &lt;sys/vmount.h&gt;], AC_DEFINE(FSTYPE_AIX_STATFS) fstype=AIX)
fi
# (more cases omitted here)
AC_MSG_RESULT($fstype)
</pre></td></tr></table>

<hr size="6">
<a name="Language-Choice"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Multiple-Cases" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Language-Choice-1"></a>
<h2 class="section">5.8 Language Choice</h2>

<p>Packages that use both C and C++ need to test features of both
compilers.  Autoconf-generated <code>configure</code> scripts check for C
features by default.  The following macros determine which language&rsquo;s
compiler is used in tests that follow in &lsquo;<tt>configure.in</tt>&rsquo;.
</p>
<dl>
<dt><a name="index-AC_005fLANG_005fC"></a><u>Macro:</u> <b>AC_LANG_C</b></dt>
<dd><a name="index-LANG_005fC"></a>
<p>Do compilation tests using <code>CC</code> and <code>CPP</code> and use extension
&lsquo;<tt>.c</tt>&rsquo; for test programs.  Set the shell variable
<code>cross_compiling</code> to the value computed by <code>AC_PROG_CC</code> if it
has been run, empty otherwise.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fLANG_005fCPLUSPLUS"></a><u>Macro:</u> <b>AC_LANG_CPLUSPLUS</b></dt>
<dd><a name="index-LANG_005fCPLUSPLUS"></a>
<p>Do compilation tests using <code>CXX</code> and <code>CXXCPP</code> and use
extension &lsquo;<tt>.C</tt>&rsquo; for test programs.  Set the shell variable
<code>cross_compiling</code> to the value computed by <code>AC_PROG_CXX</code> if
it has been run, empty otherwise.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fLANG_005fFORTRAN77"></a><u>Macro:</u> <b>AC_LANG_FORTRAN77</b></dt>
<dd><a name="index-LANG_005fFORTRAN77"></a>
<p>Do compilation tests using <code>F77</code> and use extension &lsquo;<tt>.f</tt>&rsquo; for
test programs.  Set the shell variable <code>cross_compiling</code> to the
value computed by <code>AC_PROG_F77</code> if it has been run, empty
otherwise.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fLANG_005fSAVE"></a><u>Macro:</u> <b>AC_LANG_SAVE</b></dt>
<dd><a name="index-LANG_005fSAVE"></a>
<p>Remember the current language (as set by <code>AC_LANG_C</code>,
<code>AC_LANG_CPLUSPLUS</code> or <code>AC_LANG_FORTRAN77</code>) on a stack.  Does
not change which language is current.  Use this macro and
<code>AC_LANG_RESTORE</code> in macros that need to temporarily switch to a
particular language.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fLANG_005fRESTORE"></a><u>Macro:</u> <b>AC_LANG_RESTORE</b></dt>
<dd><a name="index-LANG_005fRESTORE"></a>
<p>Select the language that is saved on the top of the stack, as set by
<code>AC_LANG_SAVE</code>, and remove it from the stack.  This macro is
equivalent to either <code>AC_LANG_C</code>, <code>AC_LANG_CPLUSPLUS</code> or
<code>AC_LANG_FORTRAN77</code>, whichever had been run most recently when
<code>AC_LANG_SAVE</code> was last called.
</p>
<p>Do not call this macro more times than <code>AC_LANG_SAVE</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fREQUIRE_005fCPP"></a><u>Macro:</u> <b>AC_REQUIRE_CPP</b></dt>
<dd><a name="index-REQUIRE_005fCPP"></a>
<p>Ensure that whichever preprocessor would currently be used for tests has
been found.  Calls <code>AC_REQUIRE</code> (see section <a href="#Prerequisite-Macros">Prerequisite Macros</a>) with an
argument of either <code>AC_PROG_CPP</code> or <code>AC_PROG_CXXCPP</code>,
depending on which language is current.
</p></dd></dl>

<hr size="6">
<a name="Results"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Language-Choice" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Defining-Symbols" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Tests" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Results-of-Tests"></a>
<h1 class="chapter">6. Results of Tests</h1>

<p>Once <code>configure</code> has determined whether a feature exists, what can
it do to record that information?  There are four sorts of things it can
do: define a C preprocessor symbol, set a variable in the output files,
save the result in a cache file for future <code>configure</code> runs, and
print a message letting the user know the result of the test.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Defining-Symbols">6.1 Defining C Preprocessor Symbols</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Defining C preprocessor symbols.
</td></tr>
<tr><td align="left" valign="top"><a href="#Setting-Output-Variables">6.2 Setting Output Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    Replacing variables in output files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Caching-Results">6.3 Caching Results</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Speeding up subsequent <code>configure</code> runs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Printing-Messages">6.4 Printing Messages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Notifying users of progress or problems.
</td></tr>
</table>

<hr size="6">
<a name="Defining-Symbols"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Results" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setting-Output-Variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Results" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Defining-C-Preprocessor-Symbols"></a>
<h2 class="section">6.1 Defining C Preprocessor Symbols</h2>

<p>A common action to take in response to a feature test is to define a C
preprocessor symbol indicating the results of the test.  That is done by
calling <code>AC_DEFINE</code> or <code>AC_DEFINE_UNQUOTED</code>.
</p>
<p>By default, <code>AC_OUTPUT</code> places the symbols defined by these macros
into the output variable <code>DEFS</code>, which contains an option
&lsquo;<samp>-D<var>symbol</var>=<var>value</var></samp>&rsquo; for each symbol defined.  Unlike in
Autoconf version 1, there is no variable <code>DEFS</code> defined while
<code>configure</code> is running.  To check whether Autoconf macros have
already defined a certain C preprocessor symbol, test the value of the
appropriate cache variable, as in this example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_CHECK_FUNC(vprintf, AC_DEFINE(HAVE_VPRINTF))
if test &quot;$ac_cv_func_vprintf&quot; != yes; then
AC_CHECK_FUNC(_doprnt, AC_DEFINE(HAVE_DOPRNT))
fi
</pre></td></tr></table>

<p>If <code>AC_CONFIG_HEADER</code> has been called, then instead of creating
<code>DEFS</code>, <code>AC_OUTPUT</code> creates a header file by substituting the
correct values into <code>#define</code> statements in a template file.
See section <a href="#Configuration-Headers">Configuration Header Files</a>, for more information about this kind of
output.
</p>
<dl>
<dt><a name="index-AC_005fDEFINE"></a><u>Macro:</u> <b>AC_DEFINE</b><i> (<var>variable</var> <span class="roman">[</span>, <var>value</var> <span class="roman">[</span>, <var>description</var><span class="roman">]</span><span class="roman">]</span>)</i></dt>
<dd><a name="index-DEFINE"></a>
<p>Define C preprocessor variable <var>variable</var>.  If <var>value</var> is given,
set <var>variable</var> to that value (verbatim), otherwise set it to 1.
<var>value</var> should not contain literal newlines, and if you are not
using <code>AC_CONFIG_HEADER</code> it should not contain any &lsquo;<samp>#</samp>&rsquo;
characters, as <code>make</code> tends to eat them.  To use a shell variable
(which you need to do in order to define a value containing the
<code>m4</code> quote characters &lsquo;<samp>[</samp>&rsquo; or &lsquo;<samp>]</samp>&rsquo;), use
<code>AC_DEFINE_UNQUOTED</code> instead.  <var>description</var> is only useful if
you are using <code>AC_CONFIG_HEADER</code>.  In this case, <var>description</var>
is put into the generated &lsquo;<tt>config.h.in</tt>&rsquo; as the comment before the
macro define; the macro need not be mentioned in &lsquo;<tt>acconfig.h</tt>&rsquo;.  The
following example defines the C preprocessor variable <code>EQUATION</code> to
be the string constant &lsquo;<samp>&quot;$a &gt; $b&quot;</samp>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_DEFINE(EQUATION, &quot;$a &gt; $b&quot;)
</pre></td></tr></table>
</dd></dl>

<dl>
<dt><a name="index-AC_005fDEFINE_005fUNQUOTED"></a><u>Macro:</u> <b>AC_DEFINE_UNQUOTED</b><i> (<var>variable</var> <span class="roman">[</span>, <var>value</var> <span class="roman">[</span>, <var>description</var><span class="roman">]</span><span class="roman">]</span>)</i></dt>
<dd><a name="index-DEFINE_005fUNQUOTED"></a>
<p>Like <code>AC_DEFINE</code>, but three shell expansions are
performed&mdash;once&mdash;on <var>variable</var> and <var>value</var>: variable expansion
(&lsquo;<samp>$</samp>&rsquo;), command substitution (&lsquo;<samp>`</samp>&rsquo;), and backslash escaping
(&lsquo;<samp>\</samp>&rsquo;).  Single and double quote characters in the value have no
special meaning.  Use this macro instead of <code>AC_DEFINE</code> when
<var>variable</var> or <var>value</var> is a shell variable.  Examples:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_DEFINE_UNQUOTED(config_machfile, &quot;${machfile}&quot;)
AC_DEFINE_UNQUOTED(GETGROUPS_T, $ac_cv_type_getgroups)
AC_DEFINE_UNQUOTED(${ac_tr_hdr})
</pre></td></tr></table>
</dd></dl>

<p>Due to the syntactical bizarreness of the Bourne shell, do not use
semicolons to separate <code>AC_DEFINE</code> or <code>AC_DEFINE_UNQUOTED</code>
calls from other macro calls or shell code; that can cause syntax errors
in the resulting <code>configure</code> script.  Use either spaces or
newlines.  That is, do this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_CHECK_HEADER(elf.h, AC_DEFINE(SVR4) LIBS=&quot;$LIBS -lelf&quot;)
</pre></td></tr></table>

<p>or this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_CHECK_HEADER(elf.h,
  AC_DEFINE(SVR4)
  LIBS=&quot;$LIBS -lelf&quot;)
</pre></td></tr></table>

<p>instead of this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_CHECK_HEADER(elf.h, AC_DEFINE(SVR4); LIBS=&quot;$LIBS -lelf&quot;)
</pre></td></tr></table>

<hr size="6">
<a name="Setting-Output-Variables"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Defining-Symbols" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Caching-Results" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Results" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Setting-Output-Variables-1"></a>
<h2 class="section">6.2 Setting Output Variables</h2>

<p>One way to record the results of tests is to set <em>output variables</em>,
which are shell variables whose values are substituted into files that
<code>configure</code> outputs.  The two macros below create new output
variables.  See section <a href="#Preset-Output-Variables">Preset Output Variables</a>, for a list of output
variables that are always available.
</p>
<dl>
<dt><a name="index-AC_005fSUBST"></a><u>Macro:</u> <b>AC_SUBST</b><i> (<var>variable</var>)</i></dt>
<dd><a name="index-SUBST"></a>
<p>Create an output variable from a shell variable.  Make <code>AC_OUTPUT</code>
substitute the variable <var>variable</var> into output files (typically one
or more &lsquo;<tt>Makefile</tt>&rsquo;s).  This means that <code>AC_OUTPUT</code> will
replace instances of &lsquo;<samp>@<var>variable</var>@</samp>&rsquo; in input files with the
value that the shell variable <var>variable</var> has when <code>AC_OUTPUT</code>
is called.  The value of <var>variable</var> should not contain literal
newlines.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fSUBST_005fFILE"></a><u>Macro:</u> <b>AC_SUBST_FILE</b><i> (<var>variable</var>)</i></dt>
<dd><a name="index-SUBST_005fFILE"></a>
<p>Another way to create an output variable from a shell variable.  Make
<code>AC_OUTPUT</code> insert (without substitutions) the contents of the file
named by shell variable <var>variable</var> into output files.  This means
that <code>AC_OUTPUT</code> will replace instances of
&lsquo;<samp>@<var>variable</var>@</samp>&rsquo; in output files (such as &lsquo;<tt>Makefile.in</tt>&rsquo;)
with the contents of the file that the shell variable <var>variable</var>
names when <code>AC_OUTPUT</code> is called.  Set the variable to
&lsquo;<tt>/dev/null</tt>&rsquo; for cases that do not have a file to insert.
</p>
<p>This macro is useful for inserting &lsquo;<tt>Makefile</tt>&rsquo; fragments containing
special dependencies or other <code>make</code> directives for particular host
or target types into &lsquo;<tt>Makefile</tt>&rsquo;s.  For example, &lsquo;<tt>configure.in</tt>&rsquo;
could contain:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_SUBST_FILE(host_frag)dnl
host_frag=$srcdir/conf/sun4.mh
</pre></td></tr></table>

<p>and then a &lsquo;<tt>Makefile.in</tt>&rsquo; could contain:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">@host_frag@
</pre></td></tr></table>
</dd></dl>

<hr size="6">
<a name="Caching-Results"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Setting-Output-Variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Cache-Variable-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Results" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Caching-Results-1"></a>
<h2 class="section">6.3 Caching Results</h2>

<p>To avoid checking for the same features repeatedly in various
<code>configure</code> scripts (or repeated runs of one script),
<code>configure</code> saves the results of many of its checks in a <em>cache
file</em>.  If, when a <code>configure</code> script runs, it finds a cache file,
it reads from it the results from previous runs and avoids rerunning
those checks.  As a result, <code>configure</code> can run much faster than if
it had to perform all of the checks every time.
</p>
<dl>
<dt><a name="index-AC_005fCACHE_005fVAL"></a><u>Macro:</u> <b>AC_CACHE_VAL</b><i> (<var>cache-id</var>, <var>commands-to-set-it</var>)</i></dt>
<dd><a name="index-CACHE_005fVAL"></a>
<p>Ensure that the results of the check identified by <var>cache-id</var> are
available.  If the results of the check were in the cache file that was
read, and <code>configure</code> was not given the &lsquo;<samp>--quiet</samp>&rsquo; or
&lsquo;<samp>--silent</samp>&rsquo; option, print a message saying that the result was
cached; otherwise, run the shell commands <var>commands-to-set-it</var>.
Those commands should have no side effects except for setting the
variable <var>cache-id</var>.  In particular, they should not call
<code>AC_DEFINE</code>; the code that follows the call to <code>AC_CACHE_VAL</code>
should do that, based on the cached value.  Also, they should not print
any messages, for example with <code>AC_MSG_CHECKING</code>; do that before
calling <code>AC_CACHE_VAL</code>, so the messages are printed regardless of
whether the results of the check are retrieved from the cache or
determined by running the shell commands.  If the shell commands are run
to determine the value, the value will be saved in the cache file just
before <code>configure</code> creates its output files.  See section <a href="#Cache-Variable-Names">Cache Variable Names</a>, for how to choose the name of the <var>cache-id</var> variable.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fCACHE_005fCHECK"></a><u>Macro:</u> <b>AC_CACHE_CHECK</b><i> (<var>message</var>, <var>cache-id</var>, <var>commands</var>)</i></dt>
<dd><a name="index-CACHE_005fCHECK"></a>
<p>A wrapper for <code>AC_CACHE_VAL</code> that takes care of printing the
messages.  This macro provides a convenient shorthand for the most
common way to use these macros.  It calls <code>AC_MSG_CHECKING</code> for
<var>message</var>, then <code>AC_CACHE_VAL</code> with the <var>cache-id</var> and
<var>commands</var> arguments, and <code>AC_MSG_RESULT</code> with <var>cache-id</var>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fCACHE_005fLOAD"></a><u>Macro:</u> <b>AC_CACHE_LOAD</b></dt>
<dd><a name="index-CACHE_005fLOAD"></a>
<p>Loads values from existing cache file, or creates a new cache file if
a cache file is not found.  Called automatically from <code>AC_INIT</code>.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fCACHE_005fSAVE"></a><u>Macro:</u> <b>AC_CACHE_SAVE</b></dt>
<dd><a name="index-CACHE_005fSAVE"></a>
<p>Flushes all cached values to the cache file.  Called automatically
from <code>AC_OUTPUT</code>, but it can be quite useful to call
<code>AC_CACHE_SAVE</code> at key points in configure.in.  Doing so
checkpoints the cache in case of an early configure script abort.
</p></dd></dl>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Cache-Variable-Names">6.3.1 Cache Variable Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Shell variables used in caches.
</td></tr>
<tr><td align="left" valign="top"><a href="#Cache-Files">6.3.2 Cache Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Files <code>configure</code> uses for caching.
</td></tr>
</table>

<hr size="6">
<a name="Cache-Variable-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Caching-Results" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Cache-Files" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Results" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Caching-Results" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Cache-Variable-Names-1"></a>
<h3 class="subsection">6.3.1 Cache Variable Names</h3>

<p>The names of cache variables should have the following format:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>package-prefix</var>_cv_<var>value-type</var>_<var>specific-value</var><span class="roman">[</span>_<var>additional-options</var><span class="roman">]</span>
</pre></td></tr></table>

<p>for example, &lsquo;<samp>ac_cv_header_stat_broken</samp>&rsquo; or
&lsquo;<samp>ac_cv_prog_gcc_traditional</samp>&rsquo;.  The parts of the variable name are:
</p>
<dl compact="compact">
<dt> <var>package-prefix</var></dt>
<dd><p>An abbreviation for your package or organization; the same prefix you
begin local Autoconf macros with, except lowercase by convention.
For cache values used by the distributed Autoconf macros, this value is
&lsquo;<samp>ac</samp>&rsquo;.
</p>
</dd>
<dt> <code>_cv_</code></dt>
<dd><p>Indicates that this shell variable is a cache value.
</p>
</dd>
<dt> <var>value-type</var></dt>
<dd><p>A convention for classifying cache values, to produce a rational naming
system.  The values used in Autoconf are listed in <a href="#Macro-Names">Macro Names</a>.
</p>
</dd>
<dt> <var>specific-value</var></dt>
<dd><p>Which member of the class of cache values this test applies to.
For example, which function (&lsquo;<samp>alloca</samp>&rsquo;), program (&lsquo;<samp>gcc</samp>&rsquo;), or
output variable (&lsquo;<samp>INSTALL</samp>&rsquo;).
</p>
</dd>
<dt> <var>additional-options</var></dt>
<dd><p>Any particular behavior of the specific member that this test applies to.
For example, &lsquo;<samp>broken</samp>&rsquo; or &lsquo;<samp>set</samp>&rsquo;.  This part of the name may
be omitted if it does not apply.
</p></dd>
</dl>

<p>The values assigned to cache variables may not contain newlines.
Usually, their values will be boolean (&lsquo;<samp>yes</samp>&rsquo; or &lsquo;<samp>no</samp>&rsquo;) or the
names of files or functions; so this is not an important restriction.
</p>
<hr size="6">
<a name="Cache-Files"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Cache-Variable-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Printing-Messages" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Results" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Caching-Results" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Cache-Files-1"></a>
<h3 class="subsection">6.3.2 Cache Files</h3>

<p>A cache file is a shell script that caches the results of configure
tests run on one system so they can be shared between configure scripts
and configure runs.  It is not useful on other systems.  If its contents
are invalid for some reason, the user may delete or edit it.
</p>
<p>By default, configure uses &lsquo;<tt>./config.cache</tt>&rsquo; as the cache file,
creating it if it does not exist already.  <code>configure</code> accepts the
&lsquo;<samp>--cache-file=<var>file</var></samp>&rsquo; option to use a different cache file;
that is what <code>configure</code> does when it calls <code>configure</code>
scripts in subdirectories, so they share the cache.
See section <a href="#Subdirectories">Configuring Other Packages in Subdirectories</a>, for information on configuring subdirectories
with the <code>AC_CONFIG_SUBDIRS</code> macro.
</p>
<p>Giving &lsquo;<samp>--cache-file=/dev/null</samp>&rsquo; disables caching, for debugging
<code>configure</code>.  &lsquo;<tt>config.status</tt>&rsquo; only pays attention to the cache
file if it is given the &lsquo;<samp>--recheck</samp>&rsquo; option, which makes it rerun
<code>configure</code>.  If you are anticipating a long debugging period, you
can also disable cache loading and saving for a <code>configure</code> script
by redefining the cache macros at the start of &lsquo;<tt>configure.in</tt>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">define([AC_CACHE_LOAD], )dnl
define([AC_CACHE_SAVE], )dnl
AC_INIT(<span class="roman">whatever</span>)
<span class="roman"> ... rest of configure.in ...</span>
</pre></td></tr></table>

<p>It is wrong to try to distribute cache files for particular system types.
There is too much room for error in doing that, and too much
administrative overhead in maintaining them.  For any features that
can&rsquo;t be guessed automatically, use the standard method of the canonical
system type and linking files (see section <a href="#Manual-Configuration">Manual Configuration</a>).
</p>
<p>The cache file on a particular system will gradually accumulate whenever
someone runs a <code>configure</code> script; it will be initially
nonexistent.  Running <code>configure</code> merges the new cache results with
the existing cache file.  The site initialization script can specify a
site-wide cache file to use instead of the default, to make it work
transparently, as long as the same C compiler is used every time
(see section <a href="#Site-Defaults">Setting Site Defaults</a>).
</p>
<p>If your configure script, or a macro called from configure.in, happens to
abort the configure process, it may be useful to checkpoint the cache a
few times at key points.  Doing so will reduce the amount of time it
takes to re-run the configure script with (hopefully) the error that
caused the previous abort corrected.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><span class="roman"> ... AC_INIT, etc. ...</span>
dnl checks for programs
AC_PROG_CC
AC_PROG_GCC_TRADITIONAL
<span class="roman"> ... more program checks ...</span>
AC_CACHE_SAVE

dnl checks for libraries
AC_CHECK_LIB(nsl, gethostbyname)
AC_CHECK_LIB(socket, connect)
<span class="roman"> ... more lib checks ...</span>
AC_CACHE_SAVE

dnl Might abort...
AM_PATH_GTK(1.0.2, , exit 1)
AM_PATH_GTKMM(0.9.5, , exit 1)
</pre></td></tr></table>

<hr size="6">
<a name="Printing-Messages"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Cache-Files" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Results" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Results" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Printing-Messages-1"></a>
<h2 class="section">6.4 Printing Messages</h2>

<p><code>configure</code> scripts need to give users running them several kinds
of information.  The following macros print messages in ways appropriate
for each kind.  The arguments to all of them get enclosed in shell
double quotes, so the shell performs variable and backquote substitution
on them.  You can print a message containing a comma by quoting the
message with the <code>m4</code> quote characters:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_MSG_RESULT([never mind, I found the BASIC compiler])
</pre></td></tr></table>

<p>These macros are all wrappers around the <code>echo</code> shell command.
<code>configure</code> scripts should rarely need to run <code>echo</code> directly
to print messages for the user.  Using these macros makes it easy to
change how and when each kind of message is printed; such changes need
only be made to the macro definitions, and all of the callers change
automatically.
</p>
<dl>
<dt><a name="index-AC_005fMSG_005fCHECKING"></a><u>Macro:</u> <b>AC_MSG_CHECKING</b><i> (<var>feature-description</var>)</i></dt>
<dd><a name="index-MSG_005fCHECKING"></a>
<p>Notify the user that <code>configure</code> is checking for a particular
feature.  This macro prints a message that starts with &lsquo;<samp>checking </samp>&rsquo;
and ends with &lsquo;<samp>...</samp>&rsquo; and no newline.  It must be followed by a call
to <code>AC_MSG_RESULT</code> to print the result of the check and the
newline.  The <var>feature-description</var> should be something like
&lsquo;<samp>whether the Fortran compiler accepts C++ comments</samp>&rsquo; or &lsquo;<samp>for
c89</samp>&rsquo;.
</p>
<p>This macro prints nothing if <code>configure</code> is run with the
&lsquo;<samp>--quiet</samp>&rsquo; or &lsquo;<samp>--silent</samp>&rsquo; option.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fMSG_005fRESULT"></a><u>Macro:</u> <b>AC_MSG_RESULT</b><i> (<var>result-description</var>)</i></dt>
<dd><a name="index-MSG_005fRESULT"></a>
<p>Notify the user of the results of a check.  <var>result-description</var> is
almost always the value of the cache variable for the check, typically
&lsquo;<samp>yes</samp>&rsquo;, &lsquo;<samp>no</samp>&rsquo;, or a file name.  This macro should follow a call
to <code>AC_MSG_CHECKING</code>, and the <var>result-description</var> should be
the completion of the message printed by the call to
<code>AC_MSG_CHECKING</code>.
</p>
<p>This macro prints nothing if <code>configure</code> is run with the
&lsquo;<samp>--quiet</samp>&rsquo; or &lsquo;<samp>--silent</samp>&rsquo; option.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fMSG_005fERROR"></a><u>Macro:</u> <b>AC_MSG_ERROR</b><i> (<var>error-description</var>)</i></dt>
<dd><a name="index-MSG_005fERROR"></a>
<p>Notify the user of an error that prevents <code>configure</code> from
completing.  This macro prints an error message on the standard error
output and exits <code>configure</code> with a nonzero status.
<var>error-description</var> should be something like &lsquo;<samp>invalid value
$HOME for \$HOME</samp>&rsquo;.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fMSG_005fWARN"></a><u>Macro:</u> <b>AC_MSG_WARN</b><i> (<var>problem-description</var>)</i></dt>
<dd><a name="index-MSG_005fWARN"></a>
<p>Notify the <code>configure</code> user of a possible problem.  This macro
prints the message on the standard error output; <code>configure</code>
continues running afterward, so macros that call <code>AC_MSG_WARN</code> should
provide a default (back-up) behavior for the situations they warn about.
<var>problem-description</var> should be something like &lsquo;<samp>ln -s seems to
make hard links</samp>&rsquo;.
</p></dd></dl>

<p>The following two macros are an obsolete alternative to
<code>AC_MSG_CHECKING</code> and <code>AC_MSG_RESULT</code>.
</p>
<dl>
<dt><a name="index-AC_005fCHECKING"></a><u>Macro:</u> <b>AC_CHECKING</b><i> (<var>feature-description</var>)</i></dt>
<dd><a name="index-CHECKING"></a>
<p>This macro is similar to <code>AC_MSG_CHECKING</code>, except that it prints a
newline after the <var>feature-description</var>.  It is useful mainly to
print a general description of the overall purpose of a group of feature
checks, e.g.,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_CHECKING(if stack overflow is detectable)
</pre></td></tr></table>
</dd></dl>

<dl>
<dt><a name="index-AC_005fVERBOSE"></a><u>Macro:</u> <b>AC_VERBOSE</b><i> (<var>result-description</var>)</i></dt>
<dd><a name="index-VERBOSE"></a>
<p>This macro is similar to <code>AC_MSG_RESULT</code>, except that it is meant
to follow a call to <code>AC_CHECKING</code> instead of
<code>AC_MSG_CHECKING</code>; it starts the message it prints with a tab.  It
is considered obsolete.
</p></dd></dl>

<hr size="6">
<a name="Writing-Macros"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Printing-Messages" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Macro-Definitions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Results" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Writing-Macros-1"></a>
<h1 class="chapter">7. Writing Macros</h1>

<p>When you write a feature test that could be applicable to more than one
software package, the best thing to do is encapsulate it in a new macro.
Here are some instructions and guidelines for writing Autoconf macros.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Macro-Definitions">7.1 Macro Definitions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Basic format of an Autoconf macro.
</td></tr>
<tr><td align="left" valign="top"><a href="#Macro-Names">7.2 Macro Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 What to call your new macros.
</td></tr>
<tr><td align="left" valign="top"><a href="#Quoting">7.3 Quoting</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Protecting macros from unwanted expansion.
</td></tr>
<tr><td align="left" valign="top"><a href="#Dependencies-Between-Macros">7.4 Dependencies Between Macros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  What to do when macros depend on other macros.
</td></tr>
</table>

<hr size="6">
<a name="Macro-Definitions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Writing-Macros" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Macro-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Macro-Definitions-1"></a>
<h2 class="section">7.1 Macro Definitions</h2>

<a name="index-DEFUN"></a>
<p>Autoconf macros are defined using the <code>AC_DEFUN</code> macro, which is
similar to the <code>m4</code> builtin <code>define</code> macro.  In addition to
defining a macro, <code>AC_DEFUN</code> adds to it some code which is used to
constrain the order in which macros are called (see section <a href="#Prerequisite-Macros">Prerequisite Macros</a>).
</p>
<p>An Autoconf macro definition looks like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_DEFUN(<var>macro-name</var>, [<var>macro-body</var>])
</pre></td></tr></table>

<p>The square brackets here do not indicate optional text: they should
literally be present in the macro definition to avoid macro expansion
problems (see section <a href="#Quoting">Quoting</a>).  You can refer to any arguments passed to
the macro as &lsquo;<samp>$1</samp>&rsquo;, &lsquo;<samp>$2</samp>&rsquo;, etc.
</p>
<p>To introduce comments in <code>m4</code>, use the <code>m4</code> builtin
<code>dnl</code>; it causes <code>m4</code> to discard the text through the next
newline.  It is not needed between macro definitions in &lsquo;<tt>acsite.m4</tt>&rsquo;
and &lsquo;<tt>aclocal.m4</tt>&rsquo;, because all output is discarded until
<code>AC_INIT</code> is called.
</p>
<p>See <a href="m4#Definitions">(m4.info)Definitions</a> section &lsquo;How to define new macros&rsquo; in <cite>GNU m4</cite>, for
more complete information on writing <code>m4</code> macros.
</p>
<hr size="6">
<a name="Macro-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Macro-Definitions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Quoting" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Macro-Names-1"></a>
<h2 class="section">7.2 Macro Names</h2>

<p>All of the Autoconf macros have all-uppercase names starting with
&lsquo;<samp>AC_</samp>&rsquo; to prevent them from accidentally conflicting with other
text.  All shell variables that they use for internal purposes have
mostly-lowercase names starting with &lsquo;<samp>ac_</samp>&rsquo;.  To ensure that your
macros don&rsquo;t conflict with present or future Autoconf macros, you should
prefix your own macro names and any shell variables they use with some
other sequence.  Possibilities include your initials, or an abbreviation
for the name of your organization or software package.
</p>
<p>Most of the Autoconf macros&rsquo; names follow a structured naming convention
that indicates the kind of feature check by the name.  The macro names
consist of several words, separated by underscores, going from most
general to most specific.   The names of their cache variables use the
same convention (see section <a href="#Cache-Variable-Names">Cache Variable Names</a>, for more information on them).
</p>
<p>The first word of the name after &lsquo;<samp>AC_</samp>&rsquo; usually tells the category
of feature being tested.  Here are the categories used in Autoconf for
specific test macros, the kind of macro that you are more likely to
write.  They are also used for cache variables, in all-lowercase.  Use
them where applicable; where they&rsquo;re not, invent your own categories.
</p>
<dl compact="compact">
<dt> <code>C</code></dt>
<dd><p>C language builtin features.
</p></dd>
<dt> <code>DECL</code></dt>
<dd><p>Declarations of C variables in header files.
</p></dd>
<dt> <code>FUNC</code></dt>
<dd><p>Functions in libraries.
</p></dd>
<dt> <code>GROUP</code></dt>
<dd><p>UNIX group owners of files.
</p></dd>
<dt> <code>HEADER</code></dt>
<dd><p>Header files.
</p></dd>
<dt> <code>LIB</code></dt>
<dd><p>C libraries.
</p></dd>
<dt> <code>PATH</code></dt>
<dd><p>The full path names to files, including programs.
</p></dd>
<dt> <code>PROG</code></dt>
<dd><p>The base names of programs.
</p></dd>
<dt> <code>STRUCT</code></dt>
<dd><p>Definitions of C structures in header files.
</p></dd>
<dt> <code>SYS</code></dt>
<dd><p>Operating system features.
</p></dd>
<dt> <code>TYPE</code></dt>
<dd><p>C builtin or declared types.
</p></dd>
<dt> <code>VAR</code></dt>
<dd><p>C variables in libraries.
</p></dd>
</dl>

<p>After the category comes the name of the particular feature being
tested.  Any further words in the macro name indicate particular aspects
of the feature.  For example, <code>AC_FUNC_UTIME_NULL</code> checks the
behavior of the <code>utime</code> function when called with a <code>NULL</code>
pointer.
</p>
<p>A macro that is an internal subroutine of another macro should have a
name that starts with the name of that other macro, followed by one or
more words saying what the internal macro does.  For example,
<code>AC_PATH_X</code> has internal macros <code>AC_PATH_X_XMKMF</code> and
<code>AC_PATH_X_DIRECT</code>.
</p>
<hr size="6">
<a name="Quoting"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Macro-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Dependencies-Between-Macros" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Quoting-1"></a>
<h2 class="section">7.3 Quoting</h2>

<p>Macros that are called by other macros are evaluated by <code>m4</code>
several times; each evaluation might require another layer of quotes to
prevent unwanted expansions of macros or <code>m4</code> builtins, such as
&lsquo;<samp>define</samp>&rsquo; and &lsquo;<samp>$1</samp>&rsquo;.  Quotes are also required around macro
arguments that contain commas, since commas separate the arguments from
each other.  It&rsquo;s a good idea to quote any macro arguments that contain
newlines or calls to other macros, as well.
</p>
<p>Autoconf changes the <code>m4</code> quote characters
from the default &lsquo;<samp>`</samp>&rsquo; and &lsquo;<samp>'</samp>&rsquo; to &lsquo;<samp>[</samp>&rsquo; and &lsquo;<samp>]</samp>&rsquo;, because
many of the macros use &lsquo;<samp>`</samp>&rsquo; and &lsquo;<samp>'</samp>&rsquo;, mismatched.  However, in a
few places the macros need to use brackets (usually in C program text or
regular expressions).  In those places, they use the <code>m4</code> builtin
command <code>changequote</code> to temporarily change the quote characters to
&lsquo;<samp>&lt;&lt;</samp>&rsquo; and &lsquo;<samp>&gt;&gt;</samp>&rsquo;.  (Sometimes, if they don&rsquo;t need to quote
anything, they disable quoting entirely instead by setting the quote
characters to empty strings.)  Here is an example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_TRY_LINK(
changequote(&lt;&lt;, &gt;&gt;)dnl
&lt;&lt;#include &lt;time.h&gt;
#ifndef tzname /* For SGI.  */
extern char *tzname[]; /* RS6000 and others reject char **tzname.  */
#endif&gt;&gt;,
changequote([, ])dnl
[atoi(*tzname);], ac_cv_var_tzname=yes, ac_cv_var_tzname=no)
</pre></td></tr></table>

<p>When you create a <code>configure</code> script using newly written macros,
examine it carefully to check whether you need to add more quotes in
your macros.  If one or more words have disappeared in the <code>m4</code>
output, you need more quotes.  When in doubt, quote.
</p>
<p>However, it&rsquo;s also possible to put on too many layers of quotes.  If
this happens, the resulting <code>configure</code> script will contain
unexpanded macros.  The <code>autoconf</code> program checks for this problem
by doing &lsquo;<samp>grep AC_ configure</samp>&rsquo;.
</p>
<hr size="6">
<a name="Dependencies-Between-Macros"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Quoting" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Prerequisite-Macros" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Dependencies-Between-Macros-1"></a>
<h2 class="section">7.4 Dependencies Between Macros</h2>

<p>Some Autoconf macros depend on other macros having been called first in
order to work correctly.  Autoconf provides a way to ensure that certain
macros are called if needed and a way to warn the user if macros are
called in an order that might cause incorrect operation.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Prerequisite-Macros">7.4.1 Prerequisite Macros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Ensuring required information.
</td></tr>
<tr><td align="left" valign="top"><a href="#Suggested-Ordering">7.4.2 Suggested Ordering</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Warning about possible ordering problems.
</td></tr>
<tr><td align="left" valign="top"><a href="#Obsolete-Macros">7.4.3 Obsolete Macros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Warning about old ways of doing things.
</td></tr>
</table>

<hr size="6">
<a name="Prerequisite-Macros"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Dependencies-Between-Macros" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Suggested-Ordering" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Dependencies-Between-Macros" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Prerequisite-Macros-1"></a>
<h3 class="subsection">7.4.1 Prerequisite Macros</h3>

<p>A macro that you write might need to use values that have previously
been computed by other macros.  For example, <code>AC_DECL_YYTEXT</code>
examines the output of <code>flex</code> or <code>lex</code>, so it depends on
<code>AC_PROG_LEX</code> having been called first to set the shell variable
<code>LEX</code>.
</p>
<p>Rather than forcing the user of the macros to keep track of the
dependencies between them, you can use the <code>AC_REQUIRE</code> macro to do
it automatically.  <code>AC_REQUIRE</code> can ensure that a macro is only
called if it is needed, and only called once.
</p>
<dl>
<dt><a name="index-AC_005fREQUIRE"></a><u>Macro:</u> <b>AC_REQUIRE</b><i> (<var>macro-name</var>)</i></dt>
<dd><a name="index-REQUIRE"></a>
<p>If the <code>m4</code> macro <var>macro-name</var> has not already been called,
call it (without any arguments).  Make sure to quote <var>macro-name</var>
with square brackets.  <var>macro-name</var> must have been defined using
<code>AC_DEFUN</code> or else contain a call to <code>AC_PROVIDE</code> to indicate
that it has been called.
</p></dd></dl>

<p>An alternative to using <code>AC_DEFUN</code> is to use <code>define</code> and call
<code>AC_PROVIDE</code>.  Because this technique does not prevent nested
messages, it is considered obsolete.
</p>
<dl>
<dt><a name="index-AC_005fPROVIDE"></a><u>Macro:</u> <b>AC_PROVIDE</b><i> (<var>this-macro-name</var>)</i></dt>
<dd><a name="index-PROVIDE"></a>
<p>Record the fact that <var>this-macro-name</var> has been called.
<var>this-macro-name</var> should be the name of the macro that is calling
<code>AC_PROVIDE</code>.  An easy way to get it is from the <code>m4</code> builtin
variable <code>$0</code>, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_PROVIDE([$0])
</pre></td></tr></table>
</dd></dl>

<hr size="6">
<a name="Suggested-Ordering"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Prerequisite-Macros" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Obsolete-Macros" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Dependencies-Between-Macros" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Suggested-Ordering-1"></a>
<h3 class="subsection">7.4.2 Suggested Ordering</h3>

<p>Some macros should be run before another macro if both are called, but
neither <em>requires</em> that the other be called.  For example, a macro
that changes the behavior of the C compiler should be called before any
macros that run the C compiler.  Many of these dependencies are noted in
the documentation.
</p>
<p>Autoconf provides the <code>AC_BEFORE</code> macro to warn users when macros
with this kind of dependency appear out of order in a
&lsquo;<tt>configure.in</tt>&rsquo; file.  The warning occurs when creating
<code>configure</code> from &lsquo;<tt>configure.in</tt>&rsquo;, not when running
<code>configure</code>.
For example, <code>AC_PROG_CPP</code> checks whether the C compiler
can run the C preprocessor when given the &lsquo;<samp>-E</samp>&rsquo; option.  It should
therefore be called after any macros that change which C compiler is
being used, such as <code>AC_PROG_CC</code>.  So <code>AC_PROG_CC</code> contains:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_BEFORE([$0], [AC_PROG_CPP])dnl
</pre></td></tr></table>

<p>This warns the user if a call to <code>AC_PROG_CPP</code> has already occurred
when <code>AC_PROG_CC</code> is called.
</p>
<dl>
<dt><a name="index-AC_005fBEFORE"></a><u>Macro:</u> <b>AC_BEFORE</b><i> (<var>this-macro-name</var>, <var>called-macro-name</var>)</i></dt>
<dd><a name="index-BEFORE"></a>
<p>Make <code>m4</code> print a warning message on the standard error output if
<var>called-macro-name</var> has already been called.  <var>this-macro-name</var>
should be the name of the macro that is calling <code>AC_BEFORE</code>.  The
macro <var>called-macro-name</var> must have been defined using
<code>AC_DEFUN</code> or else contain a call to <code>AC_PROVIDE</code> to indicate
that it has been called.
</p></dd></dl>

<hr size="6">
<a name="Obsolete-Macros"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Suggested-Ordering" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Dependencies-Between-Macros" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Obsolete-Macros-1"></a>
<h3 class="subsection">7.4.3 Obsolete Macros</h3>

<p>Configuration and portability technology has evolved over the years.
Often better ways of solving a particular problem are developed, or
ad-hoc approaches are systematized.  This process has occurred in many
parts of Autoconf.  One result is that some of the macros are now
considered <em>obsolete</em>; they still work, but are no longer considered
the best thing to do.  Autoconf provides the <code>AC_OBSOLETE</code> macro to
warn users producing <code>configure</code> scripts when they use obsolete
macros, to encourage them to modernize.  A sample call is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_OBSOLETE([$0], [; use AC_CHECK_HEADERS(unistd.h) instead])dnl
</pre></td></tr></table>

<dl>
<dt><a name="index-AC_005fOBSOLETE"></a><u>Macro:</u> <b>AC_OBSOLETE</b><i> (<var>this-macro-name</var> <span class="roman">[</span>, <var>suggestion</var><span class="roman">]</span>)</i></dt>
<dd><a name="index-OBSOLETE"></a>
<p>Make <code>m4</code> print a message on the standard error output warning that
<var>this-macro-name</var> is obsolete, and giving the file and line number
where it was called.  <var>this-macro-name</var> should be the name of the
macro that is calling <code>AC_OBSOLETE</code>.  If <var>suggestion</var> is given,
it is printed at the end of the warning message; for example, it can be
a suggestion for what to use instead of <var>this-macro-name</var>.
</p></dd></dl>

<hr size="6">
<a name="Manual-Configuration"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Obsolete-Macros" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Specifying-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Writing-Macros" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Manual-Configuration-1"></a>
<h1 class="chapter">8. Manual Configuration</h1>

<p>A few kinds of features can&rsquo;t be guessed automatically by running test
programs.  For example, the details of the object file format, or
special options that need to be passed to the compiler or linker.  You
can check for such features using ad-hoc means, such as having
<code>configure</code> check the output of the <code>uname</code> program, or
looking for libraries that are unique to particular systems.  However,
Autoconf provides a uniform method for handling unguessable features.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Specifying-Names">8.1 Specifying the System Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Specifying the system type.
</td></tr>
<tr><td align="left" valign="top"><a href="#Canonicalizing">8.2 Getting the Canonical System Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Getting the canonical system type.
</td></tr>
<tr><td align="left" valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Variables containing the system type.
</td></tr>
<tr><td align="left" valign="top"><a href="#Using-System-Type">8.4 Using the System Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           What to do with the system type.
</td></tr>
</table>

<hr size="6">
<a name="Specifying-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Manual-Configuration" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Canonicalizing" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Specifying-the-System-Type-1"></a>
<h2 class="section">8.1 Specifying the System Type</h2>

<p>Like other GNU <code>configure</code> scripts, Autoconf-generated
<code>configure</code> scripts can make decisions based on a canonical name
for the system type, which has the form:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>cpu</var>-<var>company</var>-<var>system</var>
</pre></td></tr></table>

<p><code>configure</code> can usually guess the canonical name for the type of
system it&rsquo;s running on.  To do so it runs a script called
<code>config.guess</code>, which derives the name using the <code>uname</code>
command or symbols predefined by the C preprocessor.
</p>
<p>Alternately, the user can specify the system type with command line
arguments to <code>configure</code>.  Doing so is necessary when
cross-compiling.  In the most complex case of cross-compiling, three
system types are involved.  The options to specify them are:
</p>
<dl compact="compact">
<dt> <code>--build=<var>build-type</var></code></dt>
<dd><p>the type of system on which the package is being configured and
compiled (rarely needed);
</p>
</dd>
<dt> <code>--host=<var>host-type</var></code></dt>
<dd><p>the type of system on which the package will run;
</p>
</dd>
<dt> <code>--target=<var>target-type</var></code></dt>
<dd><p>the type of system for which any compiler tools in the package will
produce code.
</p></dd>
</dl>

<p>If the user gives <code>configure</code> a non-option argument, it is used as
the default for the host, target, and build system types if the user
does not specify them explicitly with options.  The target and build
types default to the host type if it is given and they are not.  If you
are cross-compiling, you still have to specify the names of the
cross-tools you use, in particular the C compiler, on the
<code>configure</code> command line, e.g.,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">CC=m68k-coff-gcc configure --target=m68k-coff
</pre></td></tr></table>

<p><code>configure</code> recognizes short aliases for many system types; for
example, &lsquo;<samp>decstation</samp>&rsquo; can be given on the command line instead of
&lsquo;<samp>mips-dec-ultrix4.2</samp>&rsquo;.  <code>configure</code> runs a script called
<code>config.sub</code> to canonicalize system type aliases.
</p>
<hr size="6">
<a name="Canonicalizing"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Specifying-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#System-Type-Variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Getting-the-Canonical-System-Type"></a>
<h2 class="section">8.2 Getting the Canonical System Type</h2>

<p>The following macros make the system type available to <code>configure</code>
scripts.  They run the shell script <code>config.guess</code> to determine any
values for the host, target, and build types that they need and the user
did not specify on the command line.  They run <code>config.sub</code> to
canonicalize any aliases the user gave.  If you use these macros, you
must distribute those two shell scripts along with your source code.
See section <a href="#Output">Creating Output Files</a>, for information about the <code>AC_CONFIG_AUX_DIR</code> macro
which you can use to control which directory <code>configure</code> looks for
those scripts in.  If you do not use either of these macros,
<code>configure</code> ignores any &lsquo;<samp>--host</samp>&rsquo;, &lsquo;<samp>--target</samp>&rsquo;, and
&lsquo;<samp>--build</samp>&rsquo; options given to it.
</p>
<dl>
<dt><a name="index-AC_005fCANONICAL_005fSYSTEM"></a><u>Macro:</u> <b>AC_CANONICAL_SYSTEM</b></dt>
<dd><a name="index-CANONICAL_005fSYSTEM"></a>
<p>Determine the system type and set output variables to the names of the
canonical system types.  See section <a href="#System-Type-Variables">System Type Variables</a>, for details about
the variables this macro sets.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fCANONICAL_005fHOST"></a><u>Macro:</u> <b>AC_CANONICAL_HOST</b></dt>
<dd><a name="index-CANONICAL_005fHOST"></a>
<p>Perform only the subset of <code>AC_CANONICAL_SYSTEM</code> relevant to the
host type.  This is all that is needed for programs that are not part of
a compiler toolchain.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fVALIDATE_005fCACHED_005fSYSTEM_005fTUPLE"></a><u>Macro:</u> <b>AC_VALIDATE_CACHED_SYSTEM_TUPLE</b><i> (<var>cmd</var>)</i></dt>
<dd><a name="index-VALIDATE_005fCACHED_005fSYSTEM_005fTUPLE"></a>
<p>If the cache file is inconsistent with the current host,
target and build system types, execute <var>cmd</var> or print a default
error message.
</p></dd></dl>

<hr size="6">
<a name="System-Type-Variables"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Canonicalizing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-System-Type" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="System-Type-Variables-1"></a>
<h2 class="section">8.3 System Type Variables</h2>

<p>After calling <code>AC_CANONICAL_SYSTEM</code>, the following output variables
contain the system type information.  After <code>AC_CANONICAL_HOST</code>,
only the <code>host</code> variables below are set.
</p>
<dl compact="compact">
<dd><a name="index-build"></a>
<a name="index-host"></a>
<a name="index-target"></a>
</dd>
<dt> <code><code>build</code>, <code>host</code>, <code>target</code></code></dt>
<dd><p>the canonical system names;
</p>
</dd>
<dt> <code><code>build_alias</code>, <code>host_alias</code>, <code>target_alias</code></code></dt>
<dd><a name="index-build_005falias"></a>
<a name="index-host_005falias"></a>
<a name="index-target_005falias"></a>
<p>the names the user specified, or the canonical names if
<code>config.guess</code> was used;
</p>
</dd>
<dt> <code><code>build_cpu</code>, <code>build_vendor</code>, <code>build_os</code></code></dt>
<dt> <code><code>host_cpu</code>, <code>host_vendor</code>, <code>host_os</code></code></dt>
<dt> <code><code>target_cpu</code>, <code>target_vendor</code>, <code>target_os</code></code></dt>
<dd><a name="index-build_005fcpu"></a>
<a name="index-host_005fcpu"></a>
<a name="index-target_005fcpu"></a>
<a name="index-build_005fvendor"></a>
<a name="index-host_005fvendor"></a>
<a name="index-target_005fvendor"></a>
<a name="index-build_005fos"></a>
<a name="index-host_005fos"></a>
<a name="index-target_005fos"></a>
<p>the individual parts of the canonical names (for convenience).
</p></dd>
</dl>

<hr size="6">
<a name="Using-System-Type"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#System-Type-Variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-the-System-Type"></a>
<h2 class="section">8.4 Using the System Type</h2>

<p>How do you use a canonical system type?  Usually, you use it in one or
more <code>case</code> statements in &lsquo;<tt>configure.in</tt>&rsquo; to select
system-specific C files.  Then link those files, which have names based
on the system name, to generic names, such as &lsquo;<tt>host.h</tt>&rsquo; or
&lsquo;<tt>target.c</tt>&rsquo;.  The <code>case</code> statement patterns can use shell
wildcards to group several cases together, like in this fragment:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">case &quot;$target&quot; in
i386-*-mach* | i386-*-gnu*) obj_format=aout emulation=mach bfd_gas=yes ;;
i960-*-bout) obj_format=bout ;;
esac
</pre></td></tr></table>

<dl>
<dt><a name="index-AC_005fLINK_005fFILES"></a><u>Macro:</u> <b>AC_LINK_FILES</b><i> (<var>source</var>&hellip;, <var>dest</var>&hellip;)</i></dt>
<dd><a name="index-LINK_005fFILES"></a>
<p>Make <code>AC_OUTPUT</code> link each of the existing files <var>source</var> to
the corresponding link name <var>dest</var>.  Makes a symbolic link if
possible, otherwise a hard link.  The <var>dest</var> and <var>source</var> names
should be relative to the top level source or build directory.
This macro may be called multiple times.
</p>
<p>For example, this call:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_LINK_FILES(config/${machine}.h config/${obj_format}.h, host.h object.h)
</pre></td></tr></table>

<p>creates in the current directory &lsquo;<tt>host.h</tt>&rsquo;, which is a link to
&lsquo;<tt><var>srcdir</var>/config/${machine}.h</tt>&rsquo;, and &lsquo;<tt>object.h</tt>&rsquo;, which is a link
to &lsquo;<tt><var>srcdir</var>/config/${obj_format}.h</tt>&rsquo;.
</p></dd></dl>

<p>You can also use the host system type to find cross-compilation tools.
See section <a href="#Generic-Programs">Generic Program and File Checks</a>, for information about the <code>AC_CHECK_TOOL</code>
macro which does that.
</p>
<hr size="6">
<a name="Site-Configuration"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Using-System-Type" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#External-Software" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Manual-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Site-Configuration-1"></a>
<h1 class="chapter">9. Site Configuration</h1>

<p><code>configure</code> scripts support several kinds of local configuration
decisions.  There are ways for users to specify where external software
packages are, include or exclude optional features, install programs
under modified names, and set default values for <code>configure</code>
options.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#External-Software">9.1 Working With External Software</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Working with other optional software.
</td></tr>
<tr><td align="left" valign="top"><a href="#Package-Options">9.2 Choosing Package Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Selecting optional features.
</td></tr>
<tr><td align="left" valign="top"><a href="#Site-Details">9.3 Configuring Site Details</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Configuring site details.
</td></tr>
<tr><td align="left" valign="top"><a href="#Transforming-Names">9.4 Transforming Program Names When Installing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Changing program names when installing.
</td></tr>
<tr><td align="left" valign="top"><a href="#Site-Defaults">9.5 Setting Site Defaults</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Giving <code>configure</code> local defaults.
</td></tr>
</table>

<hr size="6">
<a name="External-Software"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Site-Configuration" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Package-Options" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Working-With-External-Software"></a>
<h2 class="section">9.1 Working With External Software</h2>

<p>Some packages require, or can optionally use, other software packages
which are already installed.  The user can give <code>configure</code>
command line options to specify which such external software to use.
The options have one of these forms:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">--with-<var>package</var><span class="roman">[</span>=<var>arg</var><span class="roman">]</span>
--without-<var>package</var>
</pre></td></tr></table>

<p>For example, &lsquo;<samp>--with-gnu-ld</samp>&rsquo; means work with the GNU linker instead
of some other linker.  &lsquo;<samp>--with-x</samp>&rsquo; means work with The X Window System.
</p>
<p>The user can give an argument by following the package name with
&lsquo;<samp>=</samp>&rsquo; and the argument.  Giving an argument of &lsquo;<samp>no</samp>&rsquo; is for
packages that are used by default; it says to <em>not</em> use the
package.  An argument that is neither &lsquo;<samp>yes</samp>&rsquo; nor &lsquo;<samp>no</samp>&rsquo; could
include a name or number of a version of the other package, to specify
more precisely which other package this program is supposed to work
with.  If no argument is given, it defaults to &lsquo;<samp>yes</samp>&rsquo;.
&lsquo;<samp>--without-<var>package</var></samp>&rsquo; is equivalent to
&lsquo;<samp>--with-<var>package</var>=no</samp>&rsquo;.
</p>
<p><code>configure</code> scripts do not complain about
&lsquo;<samp>--with-<var>package</var></samp>&rsquo; options that they do not support.
This behavior permits configuring a source tree containing multiple
packages with a top-level <code>configure</code> script when the packages
support different options, without spurious error messages about options
that some of the packages support.
An unfortunate side effect is that option spelling errors are not diagnosed.
No better approach to this problem has been suggested so far.
</p>
<p>For each external software package that may be used, &lsquo;<tt>configure.in</tt>&rsquo;
should call <code>AC_ARG_WITH</code> to detect whether the <code>configure</code>
user asked to use it.  Whether each package is used or not by
default, and which arguments are valid, is up to you.
</p>
<dl>
<dt><a name="index-AC_005fARG_005fWITH"></a><u>Macro:</u> <b>AC_ARG_WITH</b><i> (<var>package</var>, <var>help-string</var> <span class="roman">[</span>, <var>action-if-given</var> <span class="roman">[</span>, <var>action-if-not-given</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-ARG_005fWITH"></a>
<p>If the user gave <code>configure</code> the option &lsquo;<samp>--with-<var>package</var></samp>&rsquo;
or &lsquo;<samp>--without-<var>package</var></samp>&rsquo;, run shell commands
<var>action-if-given</var>.  If neither option was given, run shell commands
<var>action-if-not-given</var>.  The name <var>package</var> indicates another
software package that this program should work with.  It should consist
only of alphanumeric characters and dashes.
</p>
<p>The option&rsquo;s argument is available to the shell commands
<var>action-if-given</var> in the shell variable <code>withval</code>, which is
actually just the value of the shell variable <code>with_<var>package</var></code>,
with any &lsquo;<samp>-</samp>&rsquo; characters changed into &lsquo;<samp>_</samp>&rsquo;.
You may use that variable instead, if you wish.
</p>
<p>The argument <var>help-string</var> is a description of the option which
looks like this:
</p><table><tr><td>&nbsp;</td><td><pre class="example">  --with-readline         support fancy command line editing
</pre></td></tr></table>
<p><var>help-string</var> may be more than one line long, if more detail is
needed.  Just make sure the columns line up in &lsquo;<samp>configure --help</samp>&rsquo;.
Avoid tabs in the help string.  You&rsquo;ll need to enclose it in &lsquo;<samp>[</samp>&rsquo;
and &lsquo;<samp>]</samp>&rsquo; in order to produce the leading spaces.
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fWITH"></a><u>Macro:</u> <b>AC_WITH</b><i> (<var>package</var>, <var>action-if-given</var> <span class="roman">[</span>, <var>action-if-not-given</var><span class="roman">]</span>)</i></dt>
<dd><a name="index-WITH"></a>
<p>This is an obsolete version of <code>AC_ARG_WITH</code> that does not
support providing a help string.
</p></dd></dl>

<hr size="6">
<a name="Package-Options"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#External-Software" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Details" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Choosing-Package-Options"></a>
<h2 class="section">9.2 Choosing Package Options</h2>

<p>If a software package has optional compile-time features, the user can
give <code>configure</code> command line options to specify whether to
compile them.  The options have one of these forms:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">--enable-<var>feature</var><span class="roman">[</span>=<var>arg</var><span class="roman">]</span>
--disable-<var>feature</var>
</pre></td></tr></table>

<p>These options allow users to choose which optional features to build and
install.  &lsquo;<samp>--enable-<var>feature</var></samp>&rsquo; options should never make a
feature behave differently or cause one feature to replace another.
They should only cause parts of the program to be built rather than left
out.
</p>
<p>The user can give an argument by following the feature name with
&lsquo;<samp>=</samp>&rsquo; and the argument.  Giving an argument of &lsquo;<samp>no</samp>&rsquo; requests
that the feature <em>not</em> be made available.  A feature with an
argument looks like &lsquo;<samp>--enable-debug=stabs</samp>&rsquo;.  If no argument is
given, it defaults to &lsquo;<samp>yes</samp>&rsquo;.  &lsquo;<samp>--disable-<var>feature</var></samp>&rsquo; is
equivalent to &lsquo;<samp>--enable-<var>feature</var>=no</samp>&rsquo;.
</p>
<p><code>configure</code> scripts do not complain about
&lsquo;<samp>--enable-<var>feature</var></samp>&rsquo; options that they do not support.
This behavior permits configuring a source tree containing multiple
packages with a top-level <code>configure</code> script when the packages
support different options, without spurious error messages about options
that some of the packages support.
An unfortunate side effect is that option spelling errors are not diagnosed.
No better approach to this problem has been suggested so far.
</p>
<p>For each optional feature, &lsquo;<tt>configure.in</tt>&rsquo; should call
<code>AC_ARG_ENABLE</code> to detect whether the <code>configure</code> user asked
to include it.  Whether each feature is included or not by default, and
which arguments are valid, is up to you.
</p>
<dl>
<dt><a name="index-AC_005fARG_005fENABLE"></a><u>Macro:</u> <b>AC_ARG_ENABLE</b><i> (<var>feature</var>, <var>help-string</var> <span class="roman">[</span>, <var>action-if-given</var> <span class="roman">[</span>, <var>action-if-not-given</var><span class="roman">]]</span>)</i></dt>
<dd><a name="index-ARG_005fENABLE"></a>
<p>If the user gave <code>configure</code> the option
&lsquo;<samp>--enable-<var>feature</var></samp>&rsquo; or &lsquo;<samp>--disable-<var>feature</var></samp>&rsquo;, run
shell commands <var>action-if-given</var>.  If neither option was given, run
shell commands <var>action-if-not-given</var>.  The name <var>feature</var>
indicates an optional user-level facility.  It should consist only of
alphanumeric characters and dashes.
</p>
<p>The option&rsquo;s argument is available to the shell commands
<var>action-if-given</var> in the shell variable <code>enableval</code>, which is
actually just the value of the shell variable
<code>enable_<var>feature</var></code>, with any &lsquo;<samp>-</samp>&rsquo; characters changed into
&lsquo;<samp>_</samp>&rsquo;.  You may use that variable instead, if you wish.  The
<var>help-string</var> argument is like that of <code>AC_ARG_WITH</code>
(see section <a href="#External-Software">Working With External Software</a>).
</p></dd></dl>

<dl>
<dt><a name="index-AC_005fENABLE"></a><u>Macro:</u> <b>AC_ENABLE</b><i> (<var>feature</var>, <var>action-if-given</var> <span class="roman">[</span>, <var>action-if-not-given</var><span class="roman">]</span>)</i></dt>
<dd><a name="index-ENABLE"></a>
<p>This is an obsolete version of <code>AC_ARG_ENABLE</code> that does not
support providing a help string.
</p></dd></dl>

<hr size="6">
<a name="Site-Details"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Package-Options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Transforming-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Configuring-Site-Details"></a>
<h2 class="section">9.3 Configuring Site Details</h2>

<p>Some software packages require complex site-specific information.  Some
examples are host names to use for certain services, company names, and
email addresses to contact.  Since some configuration scripts generated
by Metaconfig ask for such information interactively, people sometimes
wonder how to get that information in Autoconf-generated configuration
scripts, which aren&rsquo;t interactive.
</p>
<p>Such site configuration information should be put in a file that is
edited <em>only by users</em>, not by programs.  The location of the file
can either be based on the <code>prefix</code> variable, or be a standard
location such as the user&rsquo;s home directory.  It could even be specified
by an environment variable.  The programs should examine that file at
run time, rather than at compile time.  Run time configuration is more
convenient for users and makes the configuration process simpler than
getting the information while configuring.  See <a href="#Directory-Variables">(standards)Directory Variables</a> section &lsquo;Variables for Installation Directories&rsquo; in <cite>GNU Coding Standards</cite>, for more information on where to put data files.
</p>
<hr size="6">
<a name="Transforming-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Site-Details" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Transformation-Options" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Transforming-Program-Names-When-Installing"></a>
<h2 class="section">9.4 Transforming Program Names When Installing</h2>

<p>Autoconf supports changing the names of programs when installing them.
In order to use these transformations, &lsquo;<tt>configure.in</tt>&rsquo; must call the
macro <code>AC_ARG_PROGRAM</code>.
</p>
<dl>
<dt><a name="index-AC_005fARG_005fPROGRAM"></a><u>Macro:</u> <b>AC_ARG_PROGRAM</b></dt>
<dd><a name="index-ARG_005fPROGRAM"></a>
<a name="index-program_005ftransform_005fname"></a>
<p>Place in output variable <code>program_transform_name</code> a sequence of
<code>sed</code> commands for changing the names of installed programs.
</p>
<p>If any of the options described below are given to <code>configure</code>,
program names are transformed accordingly.  Otherwise, if
<code>AC_CANONICAL_SYSTEM</code> has been called and a &lsquo;<samp>--target</samp>&rsquo; value
is given that differs from the host type (specified with &lsquo;<samp>--host</samp>&rsquo;
or defaulted by <code>config.sub</code>), the target type followed by a dash
is used as a prefix.  Otherwise, no program name transformation is done.
</p></dd></dl>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Transformation-Options">9.4.1 Transformation Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      <code>configure</code> options to transform names.
</td></tr>
<tr><td align="left" valign="top"><a href="#Transformation-Examples">9.4.2 Transformation Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     Sample uses of transforming names.
</td></tr>
<tr><td align="left" valign="top"><a href="#Transformation-Rules">9.4.3 Transformation Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        &lsquo;<tt>Makefile</tt>&rsquo; uses of transforming names.
</td></tr>
</table>

<hr size="6">
<a name="Transformation-Options"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Transforming-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Transformation-Examples" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Transforming-Names" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Transformation-Options-1"></a>
<h3 class="subsection">9.4.1 Transformation Options</h3>

<p>You can specify name transformations by giving <code>configure</code> these
command line options:
</p>
<dl compact="compact">
<dt> <code>--program-prefix=<var>prefix</var></code></dt>
<dd><p>prepend <var>prefix</var> to the names;
</p>
</dd>
<dt> <code>--program-suffix=<var>suffix</var></code></dt>
<dd><p>append <var>suffix</var> to the names;
</p>
</dd>
<dt> <code>--program-transform-name=<var>expression</var></code></dt>
<dd><p>perform <code>sed</code> substitution <var>expression</var> on the names.
</p></dd>
</dl>

<hr size="6">
<a name="Transformation-Examples"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Transformation-Options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Transformation-Rules" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Transforming-Names" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Transformation-Examples-1"></a>
<h3 class="subsection">9.4.2 Transformation Examples</h3>

<p>These transformations are useful with programs that can be part of a
cross-compilation development environment.  For example, a
cross-assembler running on a Sun 4 configured with
&lsquo;<samp>--target=i960-vxworks</samp>&rsquo; is normally installed as
&lsquo;<tt>i960-vxworks-as</tt>&rsquo;, rather than &lsquo;<tt>as</tt>&rsquo;, which could be confused
with a native Sun 4 assembler.
</p>
<p>You can force a program name to begin with &lsquo;<tt>g</tt>&rsquo;, if you don&rsquo;t want
GNU programs installed on your system to shadow other programs with the
same name.  For example, if you configure GNU <code>diff</code> with
&lsquo;<samp>--program-prefix=g</samp>&rsquo;, then when you run &lsquo;<samp>make install</samp>&rsquo; it is
installed as &lsquo;<tt>/usr/local/bin/gdiff</tt>&rsquo;.
</p>
<p>As a more sophisticated example, you could use
</p><table><tr><td>&nbsp;</td><td><pre class="example">--program-transform-name='s/^/g/; s/^gg/g/; s/^gless/less/'
</pre></td></tr></table>
<p>to prepend &lsquo;<samp>g</samp>&rsquo; to most of the program names in a source tree,
excepting those like <code>gdb</code> that already have one and those like
<code>less</code> and <code>lesskey</code> that aren&rsquo;t GNU programs.  (That is
assuming that you have a source tree containing those programs that is
set up to use this feature.)
</p>
<p>One way to install multiple versions of some programs simultaneously is
to append a version number to the name of one or both.  For example, if
you want to keep Autoconf version 1 around for awhile, you can configure
Autoconf version 2 using &lsquo;<samp>--program-suffix=2</samp>&rsquo; to install the
programs as &lsquo;<tt>/usr/local/bin/autoconf2</tt>&rsquo;,
&lsquo;<tt>/usr/local/bin/autoheader2</tt>&rsquo;, etc.
</p>
<hr size="6">
<a name="Transformation-Rules"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Transformation-Examples" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Defaults" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Transforming-Names" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Transformation-Rules-1"></a>
<h3 class="subsection">9.4.3 Transformation Rules</h3>

<p>Here is how to use the variable <code>program_transform_name</code> in a
&lsquo;<tt>Makefile.in</tt>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">transform=@program_transform_name@
install: all
        $(INSTALL_PROGRAM) myprog $(bindir)/`echo myprog|sed '$(transform)'`

uninstall:
        rm -f $(bindir)/`echo myprog|sed '$(transform)'`
</pre></td></tr></table>

<p>If you have more than one program to install, you can do it in a loop:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">PROGRAMS=cp ls rm
install:
        for p in $(PROGRAMS); do \
          $(INSTALL_PROGRAM) $$p $(bindir)/`echo $$p|sed '$(transform)'`; \
        done

uninstall:
        for p in $(PROGRAMS); do \
          rm -f $(bindir)/`echo $$p|sed '$(transform)'`; \
        done
</pre></td></tr></table>

<p>Whether to do the transformations on documentation files (Texinfo or
<code>man</code>) is a tricky question; there seems to be no perfect answer,
due to the several reasons for name transforming.  Documentation is not
usually particular to a specific architecture, and Texinfo files do not
conflict with system documentation.  But they might conflict with
earlier versions of the same files, and <code>man</code> pages sometimes do
conflict with system documentation.  As a compromise, it is probably
best to do name transformations on <code>man</code> pages but not on Texinfo
manuals.
</p>
<hr size="6">
<a name="Site-Defaults"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Transformation-Rules" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Setting-Site-Defaults"></a>
<h2 class="section">9.5 Setting Site Defaults</h2>

<p>Autoconf-generated <code>configure</code> scripts allow your site to provide
default values for some configuration values.  You do this by creating
site- and system-wide initialization files.
</p>
<a name="index-CONFIG_005fSITE"></a>
<p>If the environment variable <code>CONFIG_SITE</code> is set, <code>configure</code>
uses its value as the name of a shell script to read.  Otherwise, it
reads the shell script &lsquo;<tt><var>prefix</var>/share/config.site</tt>&rsquo; if it exists,
then &lsquo;<tt><var>prefix</var>/etc/config.site</tt>&rsquo; if it exists.  Thus,
settings in machine-specific files override those in machine-independent
ones in case of conflict.
</p>
<p>Site files can be arbitrary shell scripts, but only certain kinds of
code are really appropriate to be in them.  Because <code>configure</code>
reads any cache file after it has read any site files, a site file can
define a default cache file to be shared between all Autoconf-generated
<code>configure</code> scripts run on that system.  If you set a default cache
file in a site file, it is a good idea to also set the output variable
<code>CC</code> in that site file, because the cache file is only valid for a
particular compiler, but many systems have several available.
</p>
<p>You can examine or override the value set by a command line option to
<code>configure</code> in a site file; options set shell variables that have
the same names as the options, with any dashes turned into underscores.
The exceptions are that &lsquo;<samp>--without-</samp>&rsquo; and &lsquo;<samp>--disable-</samp>&rsquo; options
are like giving the corresponding &lsquo;<samp>--with-</samp>&rsquo; or &lsquo;<samp>--enable-</samp>&rsquo;
option and the value &lsquo;<samp>no</samp>&rsquo;.  Thus, &lsquo;<samp>--cache-file=localcache</samp>&rsquo;
sets the variable <code>cache_file</code> to the value &lsquo;<samp>localcache</samp>&rsquo;;
&lsquo;<samp>--enable-warnings=no</samp>&rsquo; or &lsquo;<samp>--disable-warnings</samp>&rsquo; sets the variable
<code>enable_warnings</code> to the value &lsquo;<samp>no</samp>&rsquo;; &lsquo;<samp>--prefix=/usr</samp>&rsquo; sets the
variable <code>prefix</code> to the value &lsquo;<samp>/usr</samp>&rsquo;; etc.
</p>
<p>Site files are also good places to set default values for other output
variables, such as <code>CFLAGS</code>, if you need to give them non-default
values: anything you would normally do, repetitively, on the command
line.  If you use non-default values for <var>prefix</var> or
<var>exec_prefix</var> (wherever you locate the site file), you can set them
in the site file if you specify it with the <code>CONFIG_SITE</code>
environment variable.
</p>
<p>You can set some cache values in the site file itself.  Doing this is
useful if you are cross-compiling, so it is impossible to check features
that require running a test program.  You could &ldquo;prime the cache&rdquo; by
setting those values correctly for that system in
&lsquo;<tt><var>prefix</var>/etc/config.site</tt>&rsquo;.  To find out the names of the cache
variables you need to set, look for shell variables with &lsquo;<samp>_cv_</samp>&rsquo; in
their names in the affected <code>configure</code> scripts, or in the Autoconf
<code>m4</code> source code for those macros.
</p>
<p>The cache file is careful to not override any variables set in the site
files.  Similarly, you should not override command-line options in the
site files.  Your code should check that variables such as <code>prefix</code>
and <code>cache_file</code> have their default values (as set near the top of
<code>configure</code>) before changing them.
</p>
<p>Here is a sample file &lsquo;<tt>/usr/share/local/gnu/share/config.site</tt>&rsquo;.  The
command &lsquo;<samp>configure --prefix=/usr/share/local/gnu</samp>&rsquo; would read this
file (if <code>CONFIG_SITE</code> is not set to a different file).
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"># config.site for configure
#
# Change some defaults.
test &quot;$prefix&quot; = NONE &amp;&amp; prefix=/usr/share/local/gnu
test &quot;$exec_prefix&quot; = NONE &amp;&amp; exec_prefix=/usr/local/gnu
test &quot;$sharedstatedir&quot; = '${prefix}/com' &amp;&amp; sharedstatedir=/var
test &quot;$localstatedir&quot; = '${prefix}/var' &amp;&amp; localstatedir=/var
#
# Give Autoconf 2.x generated configure scripts a shared default
# cache file for feature test results, architecture-specific.
if test &quot;$cache_file&quot; = ./config.cache; then
  cache_file=&quot;$prefix/var/config.cache&quot;
  # A cache file is only valid for one C compiler.
  CC=gcc
fi
</pre></td></tr></table>

<hr size="6">
<a name="Invoking-configure"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Site-Defaults" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Basic-Installation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Site-Configuration" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Running-configure-Scripts"></a>
<h1 class="chapter">10. Running <code>configure</code> Scripts</h1>

<p>Below are instructions on how to configure a package that uses a
<code>configure</code> script, suitable for inclusion as an &lsquo;<tt>INSTALL</tt>&rsquo;
file in the package.  A plain-text version of &lsquo;<tt>INSTALL</tt>&rsquo; which you
may use comes with Autoconf.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Basic-Installation">10.1 Basic Installation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Instructions for typical cases.
</td></tr>
<tr><td align="left" valign="top"><a href="#Compilers-and-Options">10.2 Compilers and Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Selecting compilers and optimization.
</td></tr>
<tr><td align="left" valign="top"><a href="#Multiple-Architectures">10.3 Compiling For Multiple Architectures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Compiling for multiple architectures at once.
</td></tr>
<tr><td align="left" valign="top"><a href="#Installation-Names">10.4 Installation Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Installing in different directories.
</td></tr>
<tr><td align="left" valign="top"><a href="#Optional-Features">10.5 Optional Features</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Selecting optional features.
</td></tr>
<tr><td align="left" valign="top"><a href="#System-Type">10.6 Specifying the System Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Specifying the system type.
</td></tr>
<tr><td align="left" valign="top"><a href="#Sharing-Defaults">10.7 Sharing Defaults</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Setting site-wide defaults for <code>configure</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Operation-Controls">10.8 Operation Controls</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Changing how <code>configure</code> runs.
</td></tr>
</table>


<hr size="6">
<a name="Basic-Installation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Invoking-configure" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compilers-and-Options" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Basic-Installation-1"></a>
<h2 class="section">10.1 Basic Installation</h2>

<p>These are generic installation instructions.
</p>
<p>The <code>configure</code> shell script attempts to guess correct values for
various system-dependent variables used during compilation.  It uses
those values to create a &lsquo;<tt>Makefile</tt>&rsquo; in each directory of the
package.  It may also create one or more &lsquo;<tt>.h</tt>&rsquo; files containing
system-dependent definitions.  Finally, it creates a shell script
&lsquo;<tt>config.status</tt>&rsquo; that you can run in the future to recreate the
current configuration, a file &lsquo;<tt>config.cache</tt>&rsquo; that saves the results
of its tests to speed up reconfiguring, and a file &lsquo;<tt>config.log</tt>&rsquo;
containing compiler output (useful mainly for debugging
<code>configure</code>).
</p>
<p>If you need to do unusual things to compile the package, please try to
figure out how <code>configure</code> could check whether to do them, and mail
diffs or instructions to the address given in the &lsquo;<tt>README</tt>&rsquo; so they
can be considered for the next release.  If at some point
&lsquo;<tt>config.cache</tt>&rsquo; contains results you don&rsquo;t want to keep, you may
remove or edit it.
</p>
<p>The file &lsquo;<tt>configure.in</tt>&rsquo; is used to create &lsquo;<tt>configure</tt>&rsquo; by a
program called <code>autoconf</code>.  You only need &lsquo;<tt>configure.in</tt>&rsquo; if
you want to change it or regenerate &lsquo;<tt>configure</tt>&rsquo; using a newer
version of <code>autoconf</code>.
</p>
<p>The simplest way to compile this package is:
</p>
<ol>
<li>
<code>cd</code> to the directory containing the package&rsquo;s source code and type
&lsquo;<samp>./configure</samp>&rsquo; to configure the package for your system.  If you&rsquo;re
using <code>csh</code> on an old version of System V, you might need to type
&lsquo;<samp>sh ./configure</samp>&rsquo; instead to prevent <code>csh</code> from trying to
execute <code>configure</code> itself.

<p>Running <code>configure</code> takes awhile.  While running, it prints some
messages telling which features it is checking for.
</p>
</li><li>
Type &lsquo;<samp>make</samp>&rsquo; to compile the package.

</li><li>
Optionally, type &lsquo;<samp>make check</samp>&rsquo; to run any self-tests that come with
the package.

</li><li>
Type &lsquo;<samp>make install</samp>&rsquo; to install the programs and any data files and
documentation.

</li><li>
You can remove the program binaries and object files from the source code
directory by typing &lsquo;<samp>make clean</samp>&rsquo;.  To also remove the files that
<code>configure</code> created (so you can compile the package for a different
kind of computer), type &lsquo;<samp>make distclean</samp>&rsquo;.  There is also a
&lsquo;<samp>make maintainer-clean</samp>&rsquo; target, but that is intended mainly for the
package&rsquo;s developers.  If you use it, you may have to get all sorts of
other programs in order to regenerate files that came with the distribution.
</li></ol>

<hr size="6">
<a name="Compilers-and-Options"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Basic-Installation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Multiple-Architectures" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Compilers-and-Options-1"></a>
<h2 class="section">10.2 Compilers and Options</h2>

<p>Some systems require unusual options for compilation or linking that
the <code>configure</code> script does not know about.  You can give
<code>configure</code> initial values for variables by setting them in the
environment.  Using a Bourne-compatible shell, you can do that on the
command line like this:
</p><table><tr><td>&nbsp;</td><td><pre class="example">CC=c89 CFLAGS=-O2 LIBS=-lposix ./configure
</pre></td></tr></table>

<p>Or on systems that have the <code>env</code> program, you can do it like this:
</p><table><tr><td>&nbsp;</td><td><pre class="example">env CPPFLAGS=-I/usr/local/include LDFLAGS=-s ./configure
</pre></td></tr></table>

<hr size="6">
<a name="Multiple-Architectures"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compilers-and-Options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Installation-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Compiling-For-Multiple-Architectures"></a>
<h2 class="section">10.3 Compiling For Multiple Architectures</h2>

<p>You can compile the package for more than one kind of computer at the
same time, by placing the object files for each architecture in their
own directory.  To do this, you must use a version of <code>make</code> that
supports the <code>VPATH</code> variable, such as GNU <code>make</code>.  <code>cd</code>
to the directory where you want the object files and executables to go
and run the <code>configure</code> script.  <code>configure</code> automatically
checks for the source code in the directory that <code>configure</code> is in
and in &lsquo;<tt>..</tt>&rsquo;.
</p>
<p>If you have to use a <code>make</code> that does not supports the <code>VPATH</code>
variable, you have to compile the package for one architecture at a time
in the source code directory.  After you have installed the package for
one architecture, use &lsquo;<samp>make distclean</samp>&rsquo; before reconfiguring for
another architecture.
</p>
<hr size="6">
<a name="Installation-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Multiple-Architectures" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Optional-Features" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Installation-Names-1"></a>
<h2 class="section">10.4 Installation Names</h2>

<p>By default, &lsquo;<samp>make install</samp>&rsquo; will install the package&rsquo;s files in
&lsquo;<tt>/usr/local/bin</tt>&rsquo;, &lsquo;<tt>/usr/local/man</tt>&rsquo;, etc.  You can specify an
installation prefix other than &lsquo;<tt>/usr/local</tt>&rsquo; by giving
<code>configure</code> the option &lsquo;<samp>--prefix=<var>path</var></samp>&rsquo;.
</p>
<p>You can specify separate installation prefixes for architecture-specific
files and architecture-independent files.  If you give <code>configure</code>
the option &lsquo;<samp>--exec-prefix=<var>path</var></samp>&rsquo;, the package will use
<var>path</var> as the prefix for installing programs and libraries.
Documentation and other data files will still use the regular prefix.
</p>
<p>In addition, if you use an unusual directory layout you can give options
like &lsquo;<samp>--bindir=<var>path</var></samp>&rsquo; to specify different values for
particular kinds of files.  Run &lsquo;<samp>configure --help</samp>&rsquo; for a list of
the directories you can set and what kinds of files go in them.
</p>
<p>If the package supports it, you can cause programs to be installed with
an extra prefix or suffix on their names by giving <code>configure</code> the
option &lsquo;<samp>--program-prefix=<var>PREFIX</var></samp>&rsquo; or
&lsquo;<samp>--program-suffix=<var>SUFFIX</var></samp>&rsquo;.
</p>
<hr size="6">
<a name="Optional-Features"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Installation-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#System-Type" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Optional-Features-1"></a>
<h2 class="section">10.5 Optional Features</h2>

<p>Some packages pay attention to &lsquo;<samp>--enable-<var>feature</var></samp>&rsquo; options to
<code>configure</code>, where <var>feature</var> indicates an optional part of the
package.  They may also pay attention to &lsquo;<samp>--with-<var>package</var></samp>&rsquo;
options, where <var>package</var> is something like &lsquo;<samp>gnu-as</samp>&rsquo; or &lsquo;<samp>x</samp>&rsquo;
(for the X Window System).  The &lsquo;<tt>README</tt>&rsquo; should mention any
&lsquo;<samp>--enable-</samp>&rsquo; and &lsquo;<samp>--with-</samp>&rsquo; options that the package recognizes.
</p>
<p>For packages that use the X Window System, <code>configure</code> can usually
find the X include and library files automatically, but if it doesn&rsquo;t,
you can use the <code>configure</code> options &lsquo;<samp>--x-includes=<var>dir</var></samp>&rsquo;
and &lsquo;<samp>--x-libraries=<var>dir</var></samp>&rsquo; to specify their locations.
</p>
<hr size="6">
<a name="System-Type"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Optional-Features" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Sharing-Defaults" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Specifying-the-System-Type"></a>
<h2 class="section">10.6 Specifying the System Type</h2>

<p>There may be some features <code>configure</code> can not figure out
automatically, but needs to determine by the type of host the package
will run on.  Usually <code>configure</code> can figure that out, but if it
prints a message saying it can not guess the host type, give it the
&lsquo;<samp>--host=<var>type</var></samp>&rsquo; option.  <var>type</var> can either be a short name
for the system type, such as &lsquo;<samp>sun4</samp>&rsquo;, or a canonical name with three
fields:
</p><table><tr><td>&nbsp;</td><td><pre class="example"><var>cpu</var>-<var>company</var>-<var>system</var>
</pre></td></tr></table>
<p>See the file &lsquo;<tt>config.sub</tt>&rsquo; for the possible values of each field.
If &lsquo;<tt>config.sub</tt>&rsquo; isn&rsquo;t included in this package, then this package
doesn&rsquo;t need to know the host type.
</p>
<p>If you are building compiler tools for cross-compiling, you can also use
the &lsquo;<samp>--target=<var>type</var></samp>&rsquo; option to select the type of system
they will produce code for and the &lsquo;<samp>--build=<var>type</var></samp>&rsquo; option
to select the type of system on which you are compiling the package.
</p>
<hr size="6">
<a name="Sharing-Defaults"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#System-Type" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Operation-Controls" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Sharing-Defaults-1"></a>
<h2 class="section">10.7 Sharing Defaults</h2>

<p>If you want to set default values for <code>configure</code> scripts to share,
you can create a site shell script called &lsquo;<tt>config.site</tt>&rsquo; that gives
default values for variables like <code>CC</code>, <code>cache_file</code>, and
<code>prefix</code>.  <code>configure</code> looks for
&lsquo;<tt><var>prefix</var>/share/config.site</tt>&rsquo; if it exists, then
&lsquo;<tt><var>prefix</var>/etc/config.site</tt>&rsquo; if it exists.  Or, you can set
the <code>CONFIG_SITE</code> environment variable to the location of the site
script.  A warning: not all <code>configure</code> scripts look for a site script.
</p>
<hr size="6">
<a name="Operation-Controls"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Sharing-Defaults" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Operation-Controls-1"></a>
<h2 class="section">10.8 Operation Controls</h2>

<p><code>configure</code> recognizes the following options to control how it
operates.
</p>
<dl compact="compact">
<dt> <code>--cache-file=<var>file</var></code></dt>
<dd><p>Use and save the results of the tests in <var>file</var> instead of
&lsquo;<tt>./config.cache</tt>&rsquo;.  Set <var>file</var> to &lsquo;<tt>/dev/null</tt>&rsquo; to disable
caching, for debugging <code>configure</code>.
</p>
</dd>
<dt> <code>--help</code></dt>
<dd><p>Print a summary of the options to <code>configure</code>, and exit.
</p>
</dd>
<dt> <code>--quiet</code></dt>
<dt> <code>--silent</code></dt>
<dt> <code>-q</code></dt>
<dd><p>Do not print messages saying which checks are being made.
To suppress all normal output, redirect it to &lsquo;<tt>/dev/null</tt>&rsquo;
(any error messages will still be shown).
</p>
</dd>
<dt> <code>--srcdir=<var>dir</var></code></dt>
<dd><p>Look for the package&rsquo;s source code in directory <var>dir</var>.  Usually
<code>configure</code> can determine that directory automatically.
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>Print the version of Autoconf used to generate the <code>configure</code>
script, and exit.
</p></dd>
</dl>

<p><code>configure</code> also accepts some other, not widely useful, options.
</p>
<hr size="6">
<a name="Invoking-config_002estatus"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Operation-Controls" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Questions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Invoking-configure" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Questions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Recreating-a-Configuration"></a>
<h1 class="chapter">11. Recreating a Configuration</h1>

<p>The <code>configure</code> script creates a file named &lsquo;<tt>config.status</tt>&rsquo;
which describes which configuration options were specified when the
package was last configured.  This file is a shell script which,
if run, will recreate the same configuration.
</p>
<p>You can give &lsquo;<tt>config.status</tt>&rsquo; the &lsquo;<samp>--recheck</samp>&rsquo; option to update
itself.  This option is useful if you change <code>configure</code>, so that
the results of some tests might be different from the previous run.  The
&lsquo;<samp>--recheck</samp>&rsquo; option re-runs <code>configure</code> with the same arguments
you used before, plus the &lsquo;<samp>--no-create</samp>&rsquo; option, which prevent
<code>configure</code> from running &lsquo;<tt>config.status</tt>&rsquo; and creating
&lsquo;<tt>Makefile</tt>&rsquo; and other files, and the &lsquo;<samp>--no-recursion</samp>&rsquo; option,
which prevents <code>configure</code> from running other <code>configure</code>
scripts in subdirectories.  (This is so other &lsquo;<tt>Makefile</tt>&rsquo; rules can
run &lsquo;<tt>config.status</tt>&rsquo; when it changes; see section <a href="#Automatic-Remaking">Automatic Remaking</a>,
for an example).
</p>
<p>&lsquo;<tt>config.status</tt>&rsquo; also accepts the options &lsquo;<samp>--help</samp>&rsquo;, which
prints a summary of the options to &lsquo;<tt>config.status</tt>&rsquo;, and
&lsquo;<samp>--version</samp>&rsquo;, which prints the version of Autoconf used to create
the <code>configure</code> script that generated &lsquo;<tt>config.status</tt>&rsquo;.
</p>
<p>&lsquo;<tt>config.status</tt>&rsquo; checks several optional environment variables that
can alter its behavior:
</p>
<dl>
<dt><a name="index-CONFIG_005fSHELL"></a><u>Variable:</u> <b>CONFIG_SHELL</b></dt>
<dd><a name="index-CONFIG_005fSHELL-1"></a>
<p>The shell with which to run <code>configure</code> for the &lsquo;<samp>--recheck</samp>&rsquo;
option.  It must be Bourne-compatible.  The default is &lsquo;<tt>/bin/sh</tt>&rsquo;.
</p></dd></dl>

<dl>
<dt><a name="index-CONFIG_005fSTATUS"></a><u>Variable:</u> <b>CONFIG_STATUS</b></dt>
<dd><a name="index-CONFIG_005fSTATUS-1"></a>
<p>The file name to use for the shell script that records the
configuration.  The default is &lsquo;<tt>./config.status</tt>&rsquo;.  This variable is
useful when one package uses parts of another and the <code>configure</code>
scripts shouldn&rsquo;t be merged because they are maintained separately.
</p></dd></dl>

<p>The following variables provide one way for separately distributed
packages to share the values computed by <code>configure</code>.  Doing so can
be useful if some of the packages need a superset of the features that
one of them, perhaps a common library, does.  These variables allow a
&lsquo;<tt>config.status</tt>&rsquo; file to create files other than the ones that its
&lsquo;<tt>configure.in</tt>&rsquo; specifies, so it can be used for a different package.
</p>
<dl>
<dt><a name="index-CONFIG_005fFILES"></a><u>Variable:</u> <b>CONFIG_FILES</b></dt>
<dd><a name="index-CONFIG_005fFILES-1"></a>
<p>The files in which to perform &lsquo;<samp>@<var>variable</var>@</samp>&rsquo; substitutions.
The default is the arguments given to <code>AC_OUTPUT</code> in &lsquo;<tt>configure.in</tt>&rsquo;.
</p></dd></dl>

<dl>
<dt><a name="index-CONFIG_005fHEADERS"></a><u>Variable:</u> <b>CONFIG_HEADERS</b></dt>
<dd><a name="index-CONFIG_005fHEADERS-1"></a>
<p>The files in which to substitute C <code>#define</code> statements.
The default is the arguments given to <code>AC_CONFIG_HEADER</code>; if that
macro was not called, &lsquo;<tt>config.status</tt>&rsquo; ignores this variable.
</p></dd></dl>

<p>These variables also allow you to write &lsquo;<tt>Makefile</tt>&rsquo; rules that
regenerate only some of the files.  For example, in the dependencies
given above (see section <a href="#Automatic-Remaking">Automatic Remaking</a>), &lsquo;<tt>config.status</tt>&rsquo; is run
twice when &lsquo;<tt>configure.in</tt>&rsquo; has changed.  If that bothers you, you
can make each run only regenerate the files for that rule:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">config.h: stamp-h
stamp-h: config.h.in config.status
        CONFIG_FILES= CONFIG_HEADERS=config.h ./config.status
        echo &gt; stamp-h

Makefile: Makefile.in config.status
        CONFIG_FILES=Makefile CONFIG_HEADERS= ./config.status
</pre></td></tr></table>

<p>(If &lsquo;<tt>configure.in</tt>&rsquo; does not call <code>AC_CONFIG_HEADER</code>, there is
no need to set <code>CONFIG_HEADERS</code> in the <code>make</code> rules.)
</p>
<hr size="6">
<a name="Questions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Distributing" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Invoking-config_002estatus" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Questions-About-Autoconf"></a>
<h1 class="chapter">12. Questions About Autoconf</h1>

<p>Several questions about Autoconf come up occasionally.  Here some of them
are addressed.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Distributing">12.1 Distributing <code>configure</code> Scripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Distributing <code>configure</code> scripts.
</td></tr>
<tr><td align="left" valign="top"><a href="#Why-GNU-m4">12.2 Why Require GNU <code>m4</code>?</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  Why not use the standard <code>m4</code>?
</td></tr>
<tr><td align="left" valign="top"><a href="#Bootstrapping">12.3 How Can I Bootstrap?</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Autoconf and GNU <code>m4</code> require each other?
</td></tr>
<tr><td align="left" valign="top"><a href="#Why-Not-Imake">12.4 Why Not Imake?</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Why GNU uses <code>configure</code> instead of Imake.
</td></tr>
</table>

<hr size="6">
<a name="Distributing"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Questions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Why-GNU-m4" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Questions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Questions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Distributing-configure-Scripts"></a>
<h2 class="section">12.1 Distributing <code>configure</code> Scripts</h2>

<table><tr><td>&nbsp;</td><td><pre class="display">What are the restrictions on distributing <code>configure</code>
scripts that Autoconf generates?  How does that affect my
programs that use them?
</pre></td></tr></table>

<p>There are no restrictions on how the configuration scripts that Autoconf
produces may be distributed or used.  In Autoconf version 1, they were
covered by the GNU General Public License.  We still encourage software
authors to distribute their work under terms like those of the GPL, but
doing so is not required to use Autoconf.
</p>
<p>Of the other files that might be used with <code>configure</code>,
&lsquo;<tt>config.h.in</tt>&rsquo; is under whatever copyright you use for your
&lsquo;<tt>configure.in</tt>&rsquo;, since it is derived from that file and from the
public domain file &lsquo;<tt>acconfig.h</tt>&rsquo;.  &lsquo;<tt>config.sub</tt>&rsquo; and
&lsquo;<tt>config.guess</tt>&rsquo; have an exception to the GPL when they are used with
an Autoconf-generated <code>configure</code> script, which permits you to
distribute them under the same terms as the rest of your package.
&lsquo;<tt>install-sh</tt>&rsquo; is from the X Consortium and is not copyrighted.
</p>
<hr size="6">
<a name="Why-GNU-m4"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Distributing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Bootstrapping" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Questions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Questions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Why-Require-GNU-m4_003f"></a>
<h2 class="section">12.2 Why Require GNU <code>m4</code>?</h2>

<table><tr><td>&nbsp;</td><td><pre class="display">Why does Autoconf require GNU <code>m4</code>?
</pre></td></tr></table>

<p>Many <code>m4</code> implementations have hard-coded limitations on the size
and number of macros, which Autoconf exceeds.  They also lack several
builtin macros that it would be difficult to get along without in a
sophisticated application like Autoconf, including:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">builtin
indir
patsubst
__file__
__line__
</pre></td></tr></table>

<p>Since only software maintainers need to use Autoconf, and since GNU
<code>m4</code> is simple to configure and install, it seems reasonable to
require GNU <code>m4</code> to be installed also.  Many maintainers of GNU and
other free software already have most of the GNU utilities installed,
since they prefer them.
</p>
<hr size="6">
<a name="Bootstrapping"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Why-GNU-m4" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Why-Not-Imake" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Questions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Questions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-Can-I-Bootstrap_003f"></a>
<h2 class="section">12.3 How Can I Bootstrap?</h2>

<table><tr><td>&nbsp;</td><td><pre class="display">If Autoconf requires GNU <code>m4</code> and GNU <code>m4</code> has an
Autoconf <code>configure</code> script, how do I bootstrap?  It seems
like a chicken and egg problem!
</pre></td></tr></table>

<p>This is a misunderstanding.  Although GNU <code>m4</code> does come with a
<code>configure</code> script produced by Autoconf, Autoconf is not required
in order to run the script and install GNU <code>m4</code>.  Autoconf is only
required if you want to change the <code>m4</code> <code>configure</code> script,
which few people have to do (mainly its maintainer).
</p>
<hr size="6">
<a name="Why-Not-Imake"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Bootstrapping" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Questions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Questions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Why-Not-Imake_003f"></a>
<h2 class="section">12.4 Why Not Imake?</h2>

<table><tr><td>&nbsp;</td><td><pre class="display">Why not use Imake instead of <code>configure</code> scripts?
</pre></td></tr></table>

<p>Several people have written addressing this question, so I include
adaptations of their explanations here.
</p>
<p>The following answer is based on one written by Richard Pixley:
</p>
<p>Autoconf generated scripts frequently work on machines which it has
never been set up to handle before.  That is, it does a good job of
inferring a configuration for a new system.  Imake cannot do this.
</p>
<p>Imake uses a common database of host specific data.  For X11, this makes
sense because the distribution is made as a collection of tools, by one
central authority who has control over the database.
</p>
<p>GNU tools are not released this way.  Each GNU tool has a maintainer;
these maintainers are scattered across the world.  Using a common
database would be a maintenance nightmare.  Autoconf may appear to be
this kind of database, but in fact it is not.  Instead of listing host
dependencies, it lists program requirements.
</p>
<p>If you view the GNU suite as a collection of native tools, then the
problems are similar.  But the GNU development tools can be configured
as cross tools in almost any host+target permutation.  All of these
configurations can be installed concurrently.  They can even be
configured to share host independent files across hosts.  Imake doesn&rsquo;t
address these issues.
</p>
<p>Imake templates are a form of standardization.  The GNU coding standards
address the same issues without necessarily imposing the same
restrictions.
</p>
<p>Here is some further explanation, written by Per Bothner:
</p>
<p>One of the advantages of Imake is that it easy to generate large
Makefiles using <code>cpp</code>&rsquo;s &lsquo;<samp>#include</samp>&rsquo; and macro mechanisms.
However, <code>cpp</code> is not programmable: it has limited conditional
facilities, and no looping.  And <code>cpp</code> cannot inspect its
environment.
</p>
<p>All of these problems are solved by using <code>sh</code> instead of
<code>cpp</code>.  The shell is fully programmable, has macro substitution,
can execute (or source) other shell scripts, and can inspect its
environment.
</p>
<p>Paul Eggert elaborates more:
</p>
<p>With Autoconf, installers need not assume that Imake itself is already
installed and working well.  This may not seem like much of an advantage
to people who are accustomed to Imake.  But on many hosts Imake is not
installed or the default installation is not working well, and requiring
Imake to install a package hinders the acceptance of that package on
those hosts.  For example, the Imake template and configuration files
might not be installed properly on a host, or the Imake build procedure
might wrongly assume that all source files are in one big directory
tree, or the Imake configuration might assume one compiler whereas the
package or the installer needs to use another, or there might be a
version mismatch between the Imake expected by the package and the Imake
supported by the host.  These problems are much rarer with Autoconf,
where each package comes with its own independent configuration
processor.
</p>
<p>Also, Imake often suffers from unexpected interactions between
<code>make</code> and the installer&rsquo;s C preprocessor.  The fundamental problem
here is that the C preprocessor was designed to preprocess C programs,
not &lsquo;<tt>Makefile</tt>&rsquo;s.  This is much less of a problem with Autoconf,
which uses the general-purpose preprocessor <code>m4</code>, and where the
package&rsquo;s author (rather than the installer) does the preprocessing in a
standard way.
</p>
<p>Finally, Mark Eichin notes:
</p>
<p>Imake isn&rsquo;t all that extensible, either.  In order to add new features to
Imake, you need to provide your own project template, and duplicate most
of the features of the existing one.  This means that for a sophisticated
project, using the vendor-provided Imake templates fails to provide any
leverage&mdash;since they don&rsquo;t cover anything that your own project needs
(unless it is an X11 program).
</p>
<p>On the other side, though:
</p>
<p>The one advantage that Imake has over <code>configure</code>:
&lsquo;<tt>Imakefile</tt>&rsquo;s tend to be much shorter (likewise, less redundant)
than &lsquo;<tt>Makefile.in</tt>&rsquo;s.  There is a fix to this, however&mdash;at least
for the Kerberos V5 tree, we&rsquo;ve modified things to call in common
&lsquo;<tt>post.in</tt>&rsquo; and &lsquo;<tt>pre.in</tt>&rsquo; &lsquo;<tt>Makefile</tt>&rsquo; fragments for the
entire tree.  This means that a lot of common things don&rsquo;t have to be
duplicated, even though they normally are in <code>configure</code> setups.
</p>
<hr size="6">
<a name="Upgrading"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Why-Not-Imake" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Changed-File-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Questions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Upgrading-From-Version-1"></a>
<h1 class="chapter">13. Upgrading From Version 1</h1>

<p>Autoconf version 2 is mostly backward compatible with version 1.
However, it introduces better ways to do some things, and doesn&rsquo;t
support some of the ugly things in version 1.  So, depending on how
sophisticated your &lsquo;<tt>configure.in</tt>&rsquo; files are, you might have to do
some manual work in order to upgrade to version 2.  This chapter points
out some problems to watch for when upgrading.  Also, perhaps your
<code>configure</code> scripts could benefit from some of the new features in
version 2; the changes are summarized in the file &lsquo;<tt>NEWS</tt>&rsquo; in the
Autoconf distribution.
</p>
<p>First, make sure you have GNU <code>m4</code> version 1.1 or higher installed,
preferably 1.3 or higher.  Versions before 1.1 have bugs that prevent
them from working with Autoconf version 2.  Versions 1.3 and later are
much faster than earlier versions, because as of version 1.3, GNU
<code>m4</code> has a more efficient implementation of diversions and can
freeze its internal state in a file that it can read back quickly.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Changed-File-Names">13.1 Changed File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Files you might rename.
</td></tr>
<tr><td align="left" valign="top"><a href="#Changed-Makefiles">13.2 Changed Makefiles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           New things to put in &lsquo;<tt>Makefile.in</tt>&rsquo;.
</td></tr>
<tr><td align="left" valign="top"><a href="#Changed-Macros">13.3 Changed Macros</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Macro calls you might replace.
</td></tr>
<tr><td align="left" valign="top"><a href="#Invoking-autoupdate">13.4 Using <code>autoupdate</code> to Modernize <code>configure</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Replacing old macro names in <code>configure.in</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Changed-Results">13.5 Changed Results</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Changes in how to check test results.
</td></tr>
<tr><td align="left" valign="top"><a href="#Changed-Macro-Writing">13.6 Changed Macro Writing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Better ways to write your own macros.
</td></tr>
</table>

<hr size="6">
<a name="Changed-File-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Upgrading" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Changed-Makefiles" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Changed-File-Names-1"></a>
<h2 class="section">13.1 Changed File Names</h2>

<p>If you have an &lsquo;<tt>aclocal.m4</tt>&rsquo; installed with Autoconf (as opposed to
in a particular package&rsquo;s source directory), you must rename it to
&lsquo;<tt>acsite.m4</tt>&rsquo;.  See section <a href="#Invoking-autoconf">Using <code>autoconf</code> to Create <code>configure</code></a>.
</p>
<p>If you distribute &lsquo;<tt>install.sh</tt>&rsquo; with your package, rename it to
&lsquo;<tt>install-sh</tt>&rsquo; so <code>make</code> builtin rules won&rsquo;t inadvertently
create a file called &lsquo;<tt>install</tt>&rsquo; from it.  <code>AC_PROG_INSTALL</code>
looks for the script under both names, but it is best to use the new name.
</p>
<p>If you were using &lsquo;<tt>config.h.top</tt>&rsquo; or &lsquo;<tt>config.h.bot</tt>&rsquo;, you still
can, but you will have less clutter if you merge them into
&lsquo;<tt>acconfig.h</tt>&rsquo;.  See section <a href="#Invoking-autoheader">Using <code>autoheader</code> to Create &lsquo;<tt>config.h.in</tt>&rsquo;</a>.
</p>
<hr size="6">
<a name="Changed-Makefiles"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Changed-File-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Changed-Macros" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Changed-Makefiles-1"></a>
<h2 class="section">13.2 Changed Makefiles</h2>

<p>Add &lsquo;<samp>@CFLAGS@</samp>&rsquo;, &lsquo;<samp>@CPPFLAGS@</samp>&rsquo;, and &lsquo;<samp>@LDFLAGS@</samp>&rsquo; in
your &lsquo;<tt>Makefile.in</tt>&rsquo; files, so they can take advantage of the values
of those variables in the environment when <code>configure</code> is run.
Doing this isn&rsquo;t necessary, but it&rsquo;s a convenience for users.
</p>
<p>Also add &lsquo;<samp>@configure_input@</samp>&rsquo; in a comment to each non-&lsquo;<tt>Makefile</tt>&rsquo;
input file for
<code>AC_OUTPUT</code>, so that the output files will contain a comment saying
they were produced by <code>configure</code>.  Automatically selecting the
right comment syntax for all the kinds of files that people call
<code>AC_OUTPUT</code> on became too much work.
</p>
<p>Add &lsquo;<tt>config.log</tt>&rsquo; and &lsquo;<tt>config.cache</tt>&rsquo; to the list of files you
remove in <code>distclean</code> targets.
</p>
<p>If you have the following in &lsquo;<tt>Makefile.in</tt>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">prefix = /usr/local
exec_prefix = ${prefix}
</pre></td></tr></table>

<p>you must change it to:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">prefix = @prefix@
exec_prefix = @exec_prefix@
</pre></td></tr></table>

<p>The old behavior of replacing those variables without &lsquo;<samp>@</samp>&rsquo;
characters around them has been removed.
</p>
<hr size="6">
<a name="Changed-Macros"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Changed-Makefiles" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Invoking-autoupdate" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Changed-Macros-1"></a>
<h2 class="section">13.3 Changed Macros</h2>

<p>Many of the macros were renamed in Autoconf version 2.  You can still
use the old names, but the new ones are clearer, and it&rsquo;s easier to find
the documentation for them.  See section <a href="#Old-Macro-Names">Old Macro Names</a>, for a table showing
the new names for the old macros.  Use the <code>autoupdate</code> program to
convert your &lsquo;<tt>configure.in</tt>&rsquo; to using the new macro names.
See section <a href="#Invoking-autoupdate">Using <code>autoupdate</code> to Modernize <code>configure</code></a>.
</p>
<p>Some macros have been superseded by similar ones that do the job better,
but are not call-compatible.  If you get warnings about calling obsolete
macros while running <code>autoconf</code>, you may safely ignore them, but
your <code>configure</code> script will generally work better if you follow
the advice it prints about what to replace the obsolete macros with.  In
particular, the mechanism for reporting the results of tests has
changed.  If you were using <code>echo</code> or <code>AC_VERBOSE</code> (perhaps
via <code>AC_COMPILE_CHECK</code>), your <code>configure</code> script&rsquo;s output will
look better if you switch to <code>AC_MSG_CHECKING</code> and
<code>AC_MSG_RESULT</code>.  See section <a href="#Printing-Messages">Printing Messages</a>.  Those macros work best
in conjunction with cache variables.  See section <a href="#Caching-Results">Caching Results</a>.
</p>
<hr size="6">
<a name="Invoking-autoupdate"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Changed-Macros" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Changed-Results" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-autoupdate-to-Modernize-configure"></a>
<h2 class="section">13.4 Using <code>autoupdate</code> to Modernize <code>configure</code></h2>

<p>The <code>autoupdate</code> program updates a &lsquo;<tt>configure.in</tt>&rsquo; file that
calls Autoconf macros by their old names to use the current macro names.
In version 2 of Autoconf, most of the macros were renamed to use a more
uniform and descriptive naming scheme.  See section <a href="#Macro-Names">Macro Names</a>, for a
description of the new scheme.  Although the old names still work
(see section <a href="#Old-Macro-Names">Old Macro Names</a>, for a list of the old macro names and the
corresponding new names), you can make your &lsquo;<tt>configure.in</tt>&rsquo; files
more readable and make it easier to use the current Autoconf
documentation if you update them to use the new macro names.
</p>
<a name="index-SIMPLE_005fBACKUP_005fSUFFIX"></a>
<p>If given no arguments, <code>autoupdate</code> updates &lsquo;<tt>configure.in</tt>&rsquo;,
backing up the original version with the suffix &lsquo;<tt>~</tt>&rsquo; (or the value
of the environment variable <code>SIMPLE_BACKUP_SUFFIX</code>, if that is
set).  If you give <code>autoupdate</code> an argument, it reads that file
instead of &lsquo;<tt>configure.in</tt>&rsquo; and writes the updated file to the
standard output.
</p>
<p><code>autoupdate</code> accepts the following options:
</p>
<dl compact="compact">
<dt> <code>--help</code></dt>
<dt> <code>-h</code></dt>
<dd><p>Print a summary of the command line options and exit.
</p>
</dd>
<dt> <code>--macrodir=<var>dir</var></code></dt>
<dt> <code>-m <var>dir</var></code></dt>
<dd><a name="index-AC_005fMACRODIR-5"></a>
<p>Look for the Autoconf macro files in directory <var>dir</var> instead of the
default installation directory.
You can also set the <code>AC_MACRODIR</code>
environment variable to a directory; this option overrides the
environment variable.
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>Print the version number of <code>autoupdate</code> and exit.
</p></dd>
</dl>

<hr size="6">
<a name="Changed-Results"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Invoking-autoupdate" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Changed-Macro-Writing" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Changed-Results-1"></a>
<h2 class="section">13.5 Changed Results</h2>

<p>If you were checking the results of previous tests by examining the
shell variable <code>DEFS</code>, you need to switch to checking the values of
the cache variables for those tests.  <code>DEFS</code> no longer exists while
<code>configure</code> is running; it is only created when generating output
files.  This difference from version 1 is because properly quoting the
contents of that variable turned out to be too cumbersome and
inefficient to do every time <code>AC_DEFINE</code> is called.  See section <a href="#Cache-Variable-Names">Cache Variable Names</a>.
</p>
<p>For example, here is a &lsquo;<tt>configure.in</tt>&rsquo; fragment written for Autoconf
version 1:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_HAVE_FUNCS(syslog)
case &quot;$DEFS&quot; in
*-DHAVE_SYSLOG*) ;;
*) # syslog is not in the default libraries.  See if it's in some other.
  saved_LIBS=&quot;$LIBS&quot;
  for lib in bsd socket inet; do
    AC_CHECKING(for syslog in -l$lib)
    LIBS=&quot;$saved_LIBS -l$lib&quot;
    AC_HAVE_FUNCS(syslog)
    case &quot;$DEFS&quot; in
    *-DHAVE_SYSLOG*) break ;;
    *) ;;
    esac
    LIBS=&quot;$saved_LIBS&quot;
  done ;;
esac
</pre></td></tr></table>

<p>Here is a way to write it for version 2:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">AC_CHECK_FUNCS(syslog)
if test $ac_cv_func_syslog = no; then
  # syslog is not in the default libraries.  See if it's in some other.
  for lib in bsd socket inet; do
    AC_CHECK_LIB($lib, syslog, [AC_DEFINE(HAVE_SYSLOG)
      LIBS=&quot;$LIBS $lib&quot;; break])
  done
fi
</pre></td></tr></table>

<p>If you were working around bugs in <code>AC_DEFINE_UNQUOTED</code> by adding
backslashes before quotes, you need to remove them.  It now works
predictably, and does not treat quotes (except backquotes) specially.
See section <a href="#Setting-Output-Variables">Setting Output Variables</a>.
</p>
<p>All of the boolean shell variables set by Autoconf macros now use
&lsquo;<samp>yes</samp>&rsquo; for the true value.  Most of them use &lsquo;<samp>no</samp>&rsquo; for false,
though for backward compatibility some use the empty string instead.  If
you were relying on a shell variable being set to something like 1 or
&lsquo;<samp>t</samp>&rsquo; for true, you need to change your tests.
</p>
<hr size="6">
<a name="Changed-Macro-Writing"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Changed-Results" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Changed-Macro-Writing-1"></a>
<h2 class="section">13.6 Changed Macro Writing</h2>

<p>When defining your own macros, you should now use <code>AC_DEFUN</code>
instead of <code>define</code>.  <code>AC_DEFUN</code> automatically calls
<code>AC_PROVIDE</code> and ensures that macros called via <code>AC_REQUIRE</code>
do not interrupt other macros, to prevent nested &lsquo;<samp>checking&hellip;</samp>&rsquo;
messages on the screen.  There&rsquo;s no actual harm in continuing to use the
older way, but it&rsquo;s less convenient and attractive.  See section <a href="#Macro-Definitions">Macro Definitions</a>.
</p>
<p>You probably looked at the macros that came with Autoconf as a guide for
how to do things.  It would be a good idea to take a look at the new
versions of them, as the style is somewhat improved and they take
advantage of some new features.
</p>
<p>If you were doing tricky things with undocumented Autoconf internals
(macros, variables, diversions), check whether you need to change
anything to account for changes that have been made.  Perhaps you can
even use an officially supported technique in version 2 instead of
kludging.  Or perhaps not.
</p>
<p>To speed up your locally written feature tests, add caching to them.
See whether any of your tests are of general enough usefulness to
encapsulate into macros that you can share.
</p>
<hr size="6">
<a name="History"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Changed-Macro-Writing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Genesis" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Upgrading" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Old-Macro-Names" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="History-of-Autoconf"></a>
<h1 class="chapter">14. History of Autoconf</h1>

<p>You may be wondering, Why was Autoconf originally written?  How did it
get into its present form?  (Why does it look like gorilla spit?)  If
you&rsquo;re not wondering, then this chapter contains no information useful
to you, and you might as well skip it.  If you <em>are</em> wondering,
then let there be light&hellip;
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Genesis">14.1 Genesis</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Prehistory and naming of <code>configure</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Exodus">14.2 Exodus</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      The plagues of <code>m4</code> and Perl.
</td></tr>
<tr><td align="left" valign="top"><a href="#Leviticus">14.3 Leviticus</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   The priestly code of portability arrives.
</td></tr>
<tr><td align="left" valign="top"><a href="#Numbers">14.4 Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Growth and contributors.
</td></tr>
<tr><td align="left" valign="top"><a href="#Deuteronomy">14.5 Deuteronomy</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Approaching the promises of easy configuration.
</td></tr>
</table>

<hr size="6">
<a name="Genesis"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#History" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Exodus" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#History" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Old-Macro-Names" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Genesis-1"></a>
<h2 class="section">14.1 Genesis</h2>

<p>In June 1991 I was maintaining many of the GNU utilities for the Free
Software Foundation.  As they were ported to more platforms and more
programs were added, the number of &lsquo;<samp>-D</samp>&rsquo; options that users had to
select in the &lsquo;<tt>Makefile</tt>&rsquo; (around 20) became burdensome.  Especially
for me&mdash;I had to test each new release on a bunch of different systems.
So I wrote a little shell script to guess some of the correct settings
for the fileutils package, and released it as part of fileutils 2.0.
That <code>configure</code> script worked well enough that the next month I
adapted it (by hand) to create similar <code>configure</code> scripts for
several other GNU utilities packages.  Brian Berliner also adapted one
of my scripts for his CVS revision control system.
</p>
<p>Later that summer, I learned that Richard Stallman and Richard Pixley
were developing similar scripts to use in the GNU compiler tools; so I
adapted my <code>configure</code> scripts to support their evolving interface:
using the file name &lsquo;<tt>Makefile.in</tt>&rsquo; as the templates; adding
&lsquo;<samp>+srcdir</samp>&rsquo;, the first option (of many); and creating
&lsquo;<tt>config.status</tt>&rsquo; files.
</p>
<hr size="6">
<a name="Exodus"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Genesis" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Leviticus" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#History" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Old-Macro-Names" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Exodus-1"></a>
<h2 class="section">14.2 Exodus</h2>

<p>As I got feedback from users, I incorporated many improvements, using
Emacs to search and replace, cut and paste, similar changes in each of
the scripts.  As I adapted more GNU utilities packages to use
<code>configure</code> scripts, updating them all by hand became impractical.
Rich Murphey, the maintainer of the GNU graphics utilities, sent me mail
saying that the <code>configure</code> scripts were great, and asking if I had
a tool for generating them that I could send him.  No, I thought, but
I should!  So I started to work out how to generate them.  And the
journey from the slavery of hand-written <code>configure</code> scripts to the
abundance and ease of Autoconf began.
</p>
<p>Cygnus <code>configure</code>, which was being developed at around that time,
is table driven; it is meant to deal mainly with a discrete number of
system types with a small number of mainly unguessable features (such as
details of the object file format).  The automatic configuration system
that Brian Fox had developed for Bash takes a similar approach.  For
general use, it seems to me a hopeless cause to try to maintain an
up-to-date database of which features each variant of each operating
system has.  It&rsquo;s easier and more reliable to check for most features on
the fly&mdash;especially on hybrid systems that people have hacked on
locally or that have patches from vendors installed.
</p>
<p>I considered using an architecture similar to that of Cygnus
<code>configure</code>, where there is a single <code>configure</code> script that
reads pieces of &lsquo;<tt>configure.in</tt>&rsquo; when run.  But I didn&rsquo;t want to have
to distribute all of the feature tests with every package, so I settled
on having a different <code>configure</code> made from each
&lsquo;<tt>configure.in</tt>&rsquo; by a preprocessor.  That approach also offered more
control and flexibility.
</p>
<p>I looked briefly into using the Metaconfig package, by Larry Wall,
Harlan Stenn, and Raphael Manfredi, but I decided not to for several
reasons.  The <code>Configure</code> scripts it produces are interactive,
which I find quite inconvenient; I didn&rsquo;t like the ways it checked for
some features (such as library functions); I didn&rsquo;t know that it was
still being maintained, and the <code>Configure</code> scripts I had
seen didn&rsquo;t work on many modern systems (such as System V R4 and NeXT);
it wasn&rsquo;t very flexible in what it could do in response to a feature&rsquo;s
presence or absence; I found it confusing to learn; and it was too big
and complex for my needs (I didn&rsquo;t realize then how much Autoconf would
eventually have to grow).
</p>
<p>I considered using Perl to generate my style of <code>configure</code> scripts,
but decided that <code>m4</code> was better suited to the job of simple
textual substitutions: it gets in the way less, because output is
implicit.  Plus, everyone already has it.  (Initially I didn&rsquo;t rely on
the GNU extensions to <code>m4</code>.)  Also, some of my friends at the
University of Maryland had recently been putting <code>m4</code> front ends on
several programs, including <code>tvtwm</code>, and I was interested in trying
out a new language.
</p>
<hr size="6">
<a name="Leviticus"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Exodus" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Numbers" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#History" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Old-Macro-Names" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Leviticus-1"></a>
<h2 class="section">14.3 Leviticus</h2>

<p>Since my <code>configure</code> scripts determine the system&rsquo;s capabilities
automatically, with no interactive user intervention, I decided to call
the program that generates them Autoconfig.  But with a version number
tacked on, that name would be too long for old UNIX file systems, so
I shortened it to Autoconf.
</p>
<p>In the fall of 1991 I called together a group of fellow questers after
the Holy Grail of portability (er, that is, alpha testers) to give me
feedback as I encapsulated pieces of my handwritten scripts in <code>m4</code>
macros and continued to add features and improve the techniques used in
the checks.  Prominent among the testers were
Pinard, who came up with the idea of making an &lsquo;<tt>autoconf</tt>&rsquo; shell
script to run <code>m4</code> and check for unresolved macro calls; Richard
Pixley, who suggested running the compiler instead of searching the file
system to find include files and symbols, for more accurate results;
Karl Berry, who got Autoconf to configure TeX and added the
macro index to the documentation; and Ian Taylor, who added support for
creating a C header file as an alternative to putting &lsquo;<samp>-D</samp>&rsquo; options
in a &lsquo;<tt>Makefile</tt>&rsquo;, so he could use Autoconf for his UUCP package.  The
alpha testers cheerfully adjusted their files again and again as the
names and calling conventions of the Autoconf macros changed from
release to release.  They all contributed many specific checks, great
ideas, and bug fixes.
</p>
<hr size="6">
<a name="Numbers"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Leviticus" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Deuteronomy" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#History" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Old-Macro-Names" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Numbers-1"></a>
<h2 class="section">14.4 Numbers</h2>

<p>In July 1992, after months of alpha testing, I released Autoconf 1.0,
and converted many GNU packages to use it.  I was surprised by how
positive the reaction to it was.  More people started using it than I
could keep track of, including people working on software that wasn&rsquo;t
part of the GNU Project (such as TCL, FSP, and Kerberos V5).
Autoconf continued to improve rapidly, as many people using the
<code>configure</code> scripts reported problems they encountered.
</p>
<p>Autoconf turned out to be a good torture test for <code>m4</code>
implementations.  UNIX <code>m4</code> started to dump core because of the
length of the macros that Autoconf defined, and several bugs showed up
in GNU <code>m4</code> as well.  Eventually, we realized that we needed to use
some features that only GNU <code>m4</code> has.  4.3BSD <code>m4</code>, in
particular, has an impoverished set of builtin macros; the System V
version is better, but still doesn&rsquo;t provide everything we need.
</p>
<p>More development occurred as people put Autoconf under more stresses
(and to uses I hadn&rsquo;t anticipated).  Karl Berry added checks for X11.
david zuhn contributed C++ support.
Pinard made it diagnose invalid arguments.  Jim Blandy bravely coerced
it into configuring GNU Emacs, laying the groundwork for several later
improvements.  Roland McGrath got it to configure the GNU C Library,
wrote the <code>autoheader</code> script to automate the creation of C header
file templates, and added a &lsquo;<samp>--verbose</samp>&rsquo; option to <code>configure</code>.
Noah Friedman added the &lsquo;<samp>--macrodir</samp>&rsquo; option and <code>AC_MACRODIR</code>
environment variable.  (He also coined the term <em>autoconfiscate</em> to
mean &ldquo;adapt a software package to use Autoconf&rdquo;.)  Roland and Noah
improved the quoting protection in <code>AC_DEFINE</code> and fixed many bugs,
especially when I got sick of dealing with portability problems from
February through June, 1993.
</p>
<hr size="6">
<a name="Deuteronomy"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Numbers" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Old-Macro-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#History" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#History" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Old-Macro-Names" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Deuteronomy-1"></a>
<h2 class="section">14.5 Deuteronomy</h2>

<p>A long wish list for major features had accumulated, and the effect of
several years of patching by various people had left some residual
cruft.  In April 1994, while working for Cygnus Support, I began a major
revision of Autoconf.  I added most of the features of the Cygnus
<code>configure</code> that Autoconf had lacked, largely by adapting the
relevant parts of Cygnus <code>configure</code> with the help of david zuhn
and Ken Raeburn.  These features include support for using
&lsquo;<tt>config.sub</tt>&rsquo;, &lsquo;<tt>config.guess</tt>&rsquo;, &lsquo;<samp>--host</samp>&rsquo;, and
&lsquo;<samp>--target</samp>&rsquo;; making links to files; and running <code>configure</code>
scripts in subdirectories.  Adding these features enabled Ken to convert
GNU <code>as</code>, and Rob Savoye to convert DejaGNU, to using Autoconf.
</p>
<p>I added more features in response to other peoples&rsquo; requests.  Many
people had asked for <code>configure</code> scripts to share the results of
the checks between runs, because (particularly when configuring a large
source tree, like Cygnus does) they were frustratingly slow.  Mike
Haertel suggested adding site-specific initialization scripts.  People
distributing software that had to unpack on MS-DOS asked for a way to
override the &lsquo;<tt>.in</tt>&rsquo; extension on the file names, which produced file
names like &lsquo;<tt>config.h.in</tt>&rsquo; containing two dots.  Jim Avera did an
extensive examination of the problems with quoting in <code>AC_DEFINE</code>
and <code>AC_SUBST</code>; his insights led to significant improvements.
Richard Stallman asked that compiler output be sent to &lsquo;<tt>config.log</tt>&rsquo;
instead of &lsquo;<tt>/dev/null</tt>&rsquo;, to help people debug the Emacs
<code>configure</code> script.
</p>
<p>I made some other changes because of my dissatisfaction with the quality
of the program.  I made the messages showing results of the checks less
ambiguous, always printing a result.  I regularized the names of the
macros and cleaned up coding style inconsistencies.  I added some
auxiliary utilities that I had developed to help convert source code
packages to use Autoconf.  With the help of
Pinard, I made the macros not interrupt each others&rsquo; messages.
(That feature revealed some performance bottlenecks in GNU <code>m4</code>,
which he hastily corrected!)
I reorganized the documentation around problems people want to solve.
And I began a testsuite, because experience
had shown that Autoconf has a pronounced tendency to regress when we
change it.
</p>
<p>Again, several alpha testers gave invaluable feedback, especially
Pinard, Jim Meyering, Karl Berry, Rob Savoye, Ken Raeburn, and Mark Eichin.
</p>
<p>Finally, version 2.0 was ready.  And there was much rejoicing.
(And I have free time again.  I think.  Yeah, right.)
</p>
<hr size="6">
<a name="Old-Macro-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Deuteronomy" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#History" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Old-Macro-Names-1"></a>
<h1 class="chapter">15. Old Macro Names</h1>

<p>In version 2 of Autoconf, most of the macros were renamed to use a more
uniform and descriptive naming scheme.  Here are the old names of the
macros that were renamed, followed by the current names of those macros.
Although the old names are still accepted by the <code>autoconf</code> program
for backward compatibility, the old names are considered obsolete.
See section <a href="#Macro-Names">Macro Names</a>, for a description of the new naming scheme.
</p>
<dl compact="compact">
<dt> <code>AC_ALLOCA</code></dt>
<dd><a name="index-ALLOCA-1"></a>
<p><code>AC_FUNC_ALLOCA</code>
</p></dd>
<dt> <code>AC_ARG_ARRAY</code></dt>
<dd><a name="index-ARG_005fARRAY"></a>
<p>removed because of limited usefulness
</p></dd>
<dt> <code>AC_CHAR_UNSIGNED</code></dt>
<dd><a name="index-CHAR_005fUNSIGNED"></a>
<p><code>AC_C_CHAR_UNSIGNED</code>
</p></dd>
<dt> <code>AC_CONST</code></dt>
<dd><a name="index-CONST"></a>
<p><code>AC_C_CONST</code>
</p></dd>
<dt> <code>AC_CROSS_CHECK</code></dt>
<dd><a name="index-CROSS_005fCHECK"></a>
<p><code>AC_C_CROSS</code>
</p></dd>
<dt> <code>AC_ERROR</code></dt>
<dd><a name="index-ERROR"></a>
<p><code>AC_MSG_ERROR</code>
</p></dd>
<dt> <code>AC_FIND_X</code></dt>
<dd><a name="index-FIND_005fX"></a>
<p><code>AC_PATH_X</code>
</p></dd>
<dt> <code>AC_FIND_XTRA</code></dt>
<dd><a name="index-FIND_005fXTRA"></a>
<p><code>AC_PATH_XTRA</code>
</p></dd>
<dt> <code>AC_FUNC_CHECK</code></dt>
<dd><a name="index-FUNC_005fCHECK"></a>
<p><code>AC_CHECK_FUNC</code>
</p></dd>
<dt> <code>AC_GCC_TRADITIONAL</code></dt>
<dd><a name="index-GCC_005fTRADITIONAL"></a>
<p><code>AC_PROG_GCC_TRADITIONAL</code>
</p></dd>
<dt> <code>AC_GETGROUPS_T</code></dt>
<dd><a name="index-GETGROUPS_005fT-1"></a>
<p><code>AC_TYPE_GETGROUPS</code>
</p></dd>
<dt> <code>AC_GETLOADAVG</code></dt>
<dd><a name="index-GETLOADAVG"></a>
<p><code>AC_FUNC_GETLOADAVG</code>
</p></dd>
<dt> <code>AC_HAVE_FUNCS</code></dt>
<dd><a name="index-HAVE_005fFUNCS"></a>
<p><code>AC_CHECK_FUNCS</code>
</p></dd>
<dt> <code>AC_HAVE_HEADERS</code></dt>
<dd><a name="index-HAVE_005fHEADERS"></a>
<p><code>AC_CHECK_HEADERS</code>
</p></dd>
<dt> <code>AC_HAVE_POUNDBANG</code></dt>
<dd><a name="index-HAVE_005fPOUNDBANG"></a>
<p><code>AC_SYS_INTERPRETER</code> (different calling convention)
</p></dd>
<dt> <code>AC_HEADER_CHECK</code></dt>
<dd><a name="index-HEADER_005fCHECK"></a>
<p><code>AC_CHECK_HEADER</code>
</p></dd>
<dt> <code>AC_HEADER_EGREP</code></dt>
<dd><a name="index-HEADER_005fEGREP"></a>
<p><code>AC_EGREP_HEADER</code>
</p></dd>
<dt> <code>AC_INLINE</code></dt>
<dd><a name="index-INLINE"></a>
<p><code>AC_C_INLINE</code>
</p></dd>
<dt> <code>AC_LN_S</code></dt>
<dd><a name="index-LN_005fS-1"></a>
<p><code>AC_PROG_LN_S</code>
</p></dd>
<dt> <code>AC_LONG_DOUBLE</code></dt>
<dd><a name="index-LONG_005fDOUBLE"></a>
<p><code>AC_C_LONG_DOUBLE</code>
</p></dd>
<dt> <code>AC_LONG_FILE_NAMES</code></dt>
<dd><a name="index-LONG_005fFILE_005fNAMES"></a>
<p><code>AC_SYS_LONG_FILE_NAMES</code>
</p></dd>
<dt> <code>AC_MAJOR_HEADER</code></dt>
<dd><a name="index-MAJOR_005fHEADER"></a>
<p><code>AC_HEADER_MAJOR</code>
</p></dd>
<dt> <code>AC_MINUS_C_MINUS_O</code></dt>
<dd><a name="index-MINUS_005fC_005fMINUS_005fO"></a>
<p><code>AC_PROG_CC_C_O</code>
</p></dd>
<dt> <code>AC_MMAP</code></dt>
<dd><a name="index-MMAP"></a>
<p><code>AC_FUNC_MMAP</code>
</p></dd>
<dt> <code>AC_MODE_T</code></dt>
<dd><a name="index-MODE_005fT"></a>
<p><code>AC_TYPE_MODE_T</code>
</p></dd>
<dt> <code>AC_OFF_T</code></dt>
<dd><a name="index-OFF_005fT"></a>
<p><code>AC_TYPE_OFF_T</code>
</p></dd>
<dt> <code>AC_PID_T</code></dt>
<dd><a name="index-PID_005fT"></a>
<p><code>AC_TYPE_PID_T</code>
</p></dd>
<dt> <code>AC_PREFIX</code></dt>
<dd><a name="index-PREFIX"></a>
<p><code>AC_PREFIX_PROGRAM</code>
</p></dd>
<dt> <code>AC_PROGRAMS_CHECK</code></dt>
<dd><a name="index-PROGRAMS_005fCHECK"></a>
<p><code>AC_CHECK_PROGS</code>
</p></dd>
<dt> <code>AC_PROGRAMS_PATH</code></dt>
<dd><a name="index-PROGRAMS_005fPATH"></a>
<p><code>AC_PATH_PROGS</code>
</p></dd>
<dt> <code>AC_PROGRAM_CHECK</code></dt>
<dd><a name="index-PROGRAM_005fCHECK"></a>
<p><code>AC_CHECK_PROG</code>
</p></dd>
<dt> <code>AC_PROGRAM_EGREP</code></dt>
<dd><a name="index-PROGRAM_005fEGREP"></a>
<p><code>AC_EGREP_CPP</code>
</p></dd>
<dt> <code>AC_PROGRAM_PATH</code></dt>
<dd><a name="index-PROGRAM_005fPATH"></a>
<p><code>AC_PATH_PROG</code>
</p></dd>
<dt> <code>AC_REMOTE_TAPE</code></dt>
<dd><a name="index-REMOTE_005fTAPE"></a>
<p>removed because of limited usefulness
</p></dd>
<dt> <code>AC_RESTARTABLE_SYSCALLS</code></dt>
<dd><a name="index-RESTARTABLE_005fSYSCALLS"></a>
<p><code>AC_SYS_RESTARTABLE_SYSCALLS</code>
</p></dd>
<dt> <code>AC_RETSIGTYPE</code></dt>
<dd><a name="index-RETSIGTYPE-1"></a>
<p><code>AC_TYPE_SIGNAL</code>
</p></dd>
<dt> <code>AC_RSH</code></dt>
<dd><a name="index-RSH"></a>
<p>removed because of limited usefulness
</p></dd>
<dt> <code>AC_SETVBUF_REVERSED</code></dt>
<dd><a name="index-SETVBUF_005fREVERSED-1"></a>
<p><code>AC_FUNC_SETVBUF_REVERSED</code>
</p></dd>
<dt> <code>AC_SET_MAKE</code></dt>
<dd><a name="index-SET_005fMAKE-1"></a>
<p><code>AC_PROG_MAKE_SET</code>
</p></dd>
<dt> <code>AC_SIZEOF_TYPE</code></dt>
<dd><a name="index-SIZEOF_005fTYPE"></a>
<p><code>AC_CHECK_SIZEOF</code>
</p></dd>
<dt> <code>AC_SIZE_T</code></dt>
<dd><a name="index-SIZE_005fT"></a>
<p><code>AC_TYPE_SIZE_T</code>
</p></dd>
<dt> <code>AC_STAT_MACROS_BROKEN</code></dt>
<dd><a name="index-STAT_005fMACROS_005fBROKEN-1"></a>
<p><code>AC_HEADER_STAT</code>
</p></dd>
<dt> <code>AC_STDC_HEADERS</code></dt>
<dd><a name="index-STDC_005fHEADERS-1"></a>
<p><code>AC_HEADER_STDC</code>
</p></dd>
<dt> <code>AC_STRCOLL</code></dt>
<dd><a name="index-STRCOLL"></a>
<p><code>AC_FUNC_STRCOLL</code>
</p></dd>
<dt> <code>AC_ST_BLKSIZE</code></dt>
<dd><a name="index-ST_005fBLKSIZE"></a>
<p><code>AC_STRUCT_ST_BLKSIZE</code>
</p></dd>
<dt> <code>AC_ST_BLOCKS</code></dt>
<dd><a name="index-ST_005fBLOCKS"></a>
<p><code>AC_STRUCT_ST_BLOCKS</code>
</p></dd>
<dt> <code>AC_ST_RDEV</code></dt>
<dd><a name="index-ST_005fRDEV"></a>
<p><code>AC_STRUCT_ST_RDEV</code>
</p></dd>
<dt> <code>AC_SYS_SIGLIST_DECLARED</code></dt>
<dd><a name="index-SYS_005fSIGLIST_005fDECLARED-1"></a>
<p><code>AC_DECL_SYS_SIGLIST</code>
</p></dd>
<dt> <code>AC_TEST_CPP</code></dt>
<dd><a name="index-TEST_005fCPP"></a>
<p><code>AC_TRY_CPP</code>
</p></dd>
<dt> <code>AC_TEST_PROGRAM</code></dt>
<dd><a name="index-TEST_005fPROGRAM"></a>
<p><code>AC_TRY_RUN</code>
</p></dd>
<dt> <code>AC_TIMEZONE</code></dt>
<dd><a name="index-TIMEZONE"></a>
<p><code>AC_STRUCT_TIMEZONE</code>
</p></dd>
<dt> <code>AC_TIME_WITH_SYS_TIME</code></dt>
<dd><a name="index-TIME_005fWITH_005fSYS_005fTIME-1"></a>
<p><code>AC_HEADER_TIME</code>
</p></dd>
<dt> <code>AC_UID_T</code></dt>
<dd><a name="index-UID_005fT"></a>
<p><code>AC_TYPE_UID_T</code>
</p></dd>
<dt> <code>AC_UTIME_NULL</code></dt>
<dd><a name="index-UTIME_005fNULL"></a>
<p><code>AC_FUNC_UTIME_NULL</code>
</p></dd>
<dt> <code>AC_VFORK</code></dt>
<dd><a name="index-VFORK"></a>
<p><code>AC_FUNC_VFORK</code>
</p></dd>
<dt> <code>AC_VPRINTF</code></dt>
<dd><a name="index-VPRINTF"></a>
<p><code>AC_FUNC_VPRINTF</code>
</p></dd>
<dt> <code>AC_WAIT3</code></dt>
<dd><a name="index-WAIT3"></a>
<p><code>AC_FUNC_WAIT3</code>
</p></dd>
<dt> <code>AC_WARN</code></dt>
<dd><a name="index-WARN"></a>
<p><code>AC_MSG_WARN</code>
</p></dd>
<dt> <code>AC_WORDS_BIGENDIAN</code></dt>
<dd><a name="index-WORDS_005fBIGENDIAN-1"></a>
<p><code>AC_C_BIGENDIAN</code>
</p></dd>
<dt> <code>AC_YYTEXT_POINTER</code></dt>
<dd><a name="index-YYTEXT_005fPOINTER-1"></a>
<p><code>AC_DECL_YYTEXT</code>
</p></dd>
</dl>

<hr size="6">
<a name="Environment-Variable-Index"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Old-Macro-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Output-Variable-Index" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Old-Macro-Names" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Output-Variable-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Environment-Variable-Index-1"></a>
<h1 class="unnumbered">Environment Variable Index</h1>

<p>This is an alphabetical list of the environment variables that Autoconf
checks.
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Environment-Variable-Index-1_ev_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Environment-Variable-Index-1_ev_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Environment-Variable-Index-1_ev_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-ev">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Environment-Variable-Index-1_ev_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-AC_005fMACRODIR"><code>AC_MACRODIR</code></a></td><td valign="top"><a href="#Invoking-autoscan">2.2 Using <code>autoscan</code> to Create &lsquo;<tt>configure.in</tt>&rsquo;</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-AC_005fMACRODIR-1"><code>AC_MACRODIR</code></a></td><td valign="top"><a href="#Invoking-ifnames">2.3 Using <code>ifnames</code> to List Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-AC_005fMACRODIR-2"><code>AC_MACRODIR</code></a></td><td valign="top"><a href="#Invoking-autoconf">2.4 Using <code>autoconf</code> to Create <code>configure</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-AC_005fMACRODIR-3"><code>AC_MACRODIR</code></a></td><td valign="top"><a href="#Invoking-autoreconf">2.5 Using <code>autoreconf</code> to Update <code>configure</code> Scripts</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-AC_005fMACRODIR-4"><code>AC_MACRODIR</code></a></td><td valign="top"><a href="#Invoking-autoheader">3.4.2 Using <code>autoheader</code> to Create &lsquo;<tt>config.h.in</tt>&rsquo;</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-AC_005fMACRODIR-5"><code>AC_MACRODIR</code></a></td><td valign="top"><a href="#Invoking-autoupdate">13.4 Using <code>autoupdate</code> to Modernize <code>configure</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Environment-Variable-Index-1_ev_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-CONFIG_005fFILES-1"><code>CONFIG_FILES</code></a></td><td valign="top"><a href="#Invoking-config_002estatus">11. Recreating a Configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CONFIG_005fHEADERS-1"><code>CONFIG_HEADERS</code></a></td><td valign="top"><a href="#Invoking-config_002estatus">11. Recreating a Configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CONFIG_005fSHELL-1"><code>CONFIG_SHELL</code></a></td><td valign="top"><a href="#Invoking-config_002estatus">11. Recreating a Configuration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CONFIG_005fSITE"><code>CONFIG_SITE</code></a></td><td valign="top"><a href="#Site-Defaults">9.5 Setting Site Defaults</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CONFIG_005fSTATUS-1"><code>CONFIG_STATUS</code></a></td><td valign="top"><a href="#Invoking-config_002estatus">11. Recreating a Configuration</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Environment-Variable-Index-1_ev_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-SIMPLE_005fBACKUP_005fSUFFIX"><code>SIMPLE_BACKUP_SUFFIX</code></a></td><td valign="top"><a href="#Invoking-autoupdate">13.4 Using <code>autoupdate</code> to Modernize <code>configure</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Environment-Variable-Index-1_ev_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Environment-Variable-Index-1_ev_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Environment-Variable-Index-1_ev_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Output-Variable-Index"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Preprocessor-Symbol-Index" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Preprocessor-Symbol-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Output-Variable-Index-1"></a>
<h1 class="unnumbered">Output Variable Index</h1>

<p>This is an alphabetical list of the variables that Autoconf can
substitute into files that it creates, typically one or more
&lsquo;<tt>Makefile</tt>&rsquo;s.  See section <a href="#Setting-Output-Variables">Setting Output Variables</a>, for more information on how
this is done.
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Output-Variable-Index-1_ov_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-K" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-X" class="summary-letter"><b>X</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-Y" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-ov">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-ALLOCA"><code>ALLOCA</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-AWK"><code>AWK</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-bindir-1"><code>bindir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-build"><code>build</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-build_005falias"><code>build_alias</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-build_005fcpu"><code>build_cpu</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-build_005fos"><code>build_os</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-build_005fvendor"><code>build_vendor</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-CC"><code>CC</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CC-1"><code>CC</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CC-2"><code>CC</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CFLAGS-1"><code>CFLAGS</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CFLAGS-2"><code>CFLAGS</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configure_005finput-1"><code>configure_input</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CPP"><code>CPP</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CPPFLAGS-1"><code>CPPFLAGS</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CXX"><code>CXX</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CXXCPP"><code>CXXCPP</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CXXFLAGS-1"><code>CXXFLAGS</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CXXFLAGS-2"><code>CXXFLAGS</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-datadir-1"><code>datadir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DEFS-1"><code>DEFS</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-exec_005fprefix-1"><code>exec_prefix</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-EXEEXT-1"><code>EXEEXT</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-F77"><code>F77</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FFLAGS-1"><code>FFLAGS</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FFLAGS-2"><code>FFLAGS</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FLIBS"><code>FLIBS</code></a></td><td valign="top"><a href="#Fortran-77-Compiler-Characteristics">4.8 Fortran 77 Compiler Characteristics</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-host"><code>host</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_005falias"><code>host_alias</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_005fcpu"><code>host_cpu</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_005fos"><code>host_os</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_005fvendor"><code>host_vendor</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-includedir-1"><code>includedir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-infodir-1"><code>infodir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-INSTALL"><code>INSTALL</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-INSTALL_005fDATA"><code>INSTALL_DATA</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-INSTALL_005fPROGRAM"><code>INSTALL_PROGRAM</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-INSTALL_005fSCRIPT"><code>INSTALL_SCRIPT</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-K">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-KMEM_005fGROUP"><code>KMEM_GROUP</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-LDFLAGS-1"><code>LDFLAGS</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LEX"><code>LEX</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LEXLIB"><code>LEXLIB</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LEX_005fOUTPUT_005fROOT"><code>LEX_OUTPUT_ROOT</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-libdir-1"><code>libdir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-libexecdir-1"><code>libexecdir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LIBOBJS"><code>LIBOBJS</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LIBOBJS-1"><code>LIBOBJS</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LIBOBJS-2"><code>LIBOBJS</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LIBOBJS-3"><code>LIBOBJS</code></a></td><td valign="top"><a href="#Generic-Functions">4.3.2 Generic Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LIBOBJS-4"><code>LIBOBJS</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LIBS-1"><code>LIBS</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LIBS-2"><code>LIBS</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LIBS-3"><code>LIBS</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LN_005fS"><code>LN_S</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-localstatedir-1"><code>localstatedir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-mandir-1"><code>mandir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-N">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-NEED_005fSETGID-1"><code>NEED_SETGID</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-OBJEXT-1"><code>OBJEXT</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-oldincludedir-1"><code>oldincludedir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-prefix-1"><code>prefix</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-program_005ftransform_005fname"><code>program_transform_name</code></a></td><td valign="top"><a href="#Transforming-Names">9.4 Transforming Program Names When Installing</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-RANLIB"><code>RANLIB</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-sbindir-1"><code>sbindir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SET_005fMAKE"><code>SET_MAKE</code></a></td><td valign="top"><a href="#Output">3.2 Creating Output Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sharedstatedir-1"><code>sharedstatedir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-srcdir-1"><code>srcdir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subdirs"><code>subdirs</code></a></td><td valign="top"><a href="#Subdirectories">3.5 Configuring Other Packages in Subdirectories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sysconfdir-1"><code>sysconfdir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-target"><code>target</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target_005falias"><code>target_alias</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target_005fcpu"><code>target_cpu</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target_005fos"><code>target_os</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target_005fvendor"><code>target_vendor</code></a></td><td valign="top"><a href="#System-Type-Variables">8.3 System Type Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-top_005fsrcdir-1"><code>top_srcdir</code></a></td><td valign="top"><a href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-X">X</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-X_005fCFLAGS"><code>X_CFLAGS</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-X_005fEXTRA_005fLIBS"><code>X_EXTRA_LIBS</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-X_005fLIBS"><code>X_LIBS</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-X_005fPRE_005fLIBS"><code>X_PRE_LIBS</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Output-Variable-Index-1_ov_letter-Y">Y</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-YACC"><code>YACC</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Output-Variable-Index-1_ov_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-K" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-X" class="summary-letter"><b>X</b></a>
 &nbsp; 
<a href="#Output-Variable-Index-1_ov_letter-Y" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Preprocessor-Symbol-Index"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Output-Variable-Index" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Macro-Index" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Output-Variable-Index" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Macro-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Preprocessor-Symbol-Index-1"></a>
<h1 class="unnumbered">Preprocessor Symbol Index</h1>

<p>This is an alphabetical list of the C preprocessor symbols that the
Autoconf macros define.  To work with Autoconf, C source code needs to
use these names in <code>#if</code> directives.
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Preprocessor-Symbol-Index-1_cv_symbol-1" class="summary-letter"><b>_</b></a>
 &nbsp; 
<br>
<a href="#Preprocessor-Symbol-Index-1_cv_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-Y" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cv">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_symbol-1">_</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fALL_005fSOURCE"><code>_ALL_SOURCE</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fMINIX"><code>_MINIX</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fPOSIX_005f1_005fSOURCE"><code>_POSIX_1_SOURCE</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fPOSIX_005fSOURCE"><code>_POSIX_SOURCE</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fPOSIX_005fSOURCE-1"><code>_POSIX_SOURCE</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fPOSIX_005fVERSION"><code>_POSIX_VERSION</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005f_005fCHAR_005fUNSIGNED_005f_005f"><code>__CHAR_UNSIGNED__</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-CLOSEDIR_005fVOID"><code>CLOSEDIR_VOID</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-const"><code>const</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-C_005fALLOCA"><code>C_ALLOCA</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-DGUX"><code>DGUX</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DIRENT"><code>DIRENT</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-F77_005fNO_005fMINUS_005fC_005fMINUS_005fO"><code>F77_NO_MINUS_C_MINUS_O</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-G">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-GETGROUPS_005fT"><code>GETGROUPS_T</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GETLODAVG_005fPRIVILEGED"><code>GETLODAVG_PRIVILEGED</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GETPGRP_005fVOID"><code>GETPGRP_VOID</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gid_005ft"><code>gid_t</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fALLOCA_005fH"><code>HAVE_ALLOCA_H</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fCONFIG_005fH"><code>HAVE_CONFIG_H</code></a></td><td valign="top"><a href="#Configuration-Headers">3.4 Configuration Header Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fDIRENT_005fH"><code>HAVE_DIRENT_H</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fDOPRNT"><code>HAVE_DOPRNT</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005ffunction"><code>HAVE_<var>function</var></code></a></td><td valign="top"><a href="#Generic-Functions">4.3.2 Generic Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fGETMNTENT"><code>HAVE_GETMNTENT</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fheader"><code>HAVE_<var>header</var></code></a></td><td valign="top"><a href="#Generic-Headers">4.4.2 Generic Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fLONG_005fDOUBLE"><code>HAVE_LONG_DOUBLE</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fLONG_005fFILE_005fNAMES"><code>HAVE_LONG_FILE_NAMES</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fMMAP"><code>HAVE_MMAP</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fNDIR_005fH"><code>HAVE_NDIR_H</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fRESTARTABLE_005fSYSCALLS"><code>HAVE_RESTARTABLE_SYSCALLS</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fSTRCOLL"><code>HAVE_STRCOLL</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fSTRFTIME"><code>HAVE_STRFTIME</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fSTRINGIZE"><code>HAVE_STRINGIZE</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fST_005fBLKSIZE"><code>HAVE_ST_BLKSIZE</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fST_005fBLOCKS"><code>HAVE_ST_BLOCKS</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fST_005fRDEV"><code>HAVE_ST_RDEV</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fSYS_005fDIR_005fH"><code>HAVE_SYS_DIR_H</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fSYS_005fNDIR_005fH"><code>HAVE_SYS_NDIR_H</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fSYS_005fWAIT_005fH"><code>HAVE_SYS_WAIT_H</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fTM_005fZONE"><code>HAVE_TM_ZONE</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fTZNAME"><code>HAVE_TZNAME</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fUNISTD_005fH"><code>HAVE_UNISTD_H</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fUTIME_005fNULL"><code>HAVE_UTIME_NULL</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fVFORK_005fH"><code>HAVE_VFORK_H</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fVPRINTF"><code>HAVE_VPRINTF</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fWAIT3"><code>HAVE_WAIT3</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-inline"><code>inline</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-INT_005f16_005fBITS-1"><code>INT_16_BITS</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-LONG_005f64_005fBITS-1"><code>LONG_64_BITS</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAJOR_005fIN_005fMKDEV"><code>MAJOR_IN_MKDEV</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAJOR_005fIN_005fSYSMACROS"><code>MAJOR_IN_SYSMACROS</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mode_005ft"><code>mode_t</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-N">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-NDIR"><code>NDIR</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-NEED_005fMEMORY_005fH"><code>NEED_MEMORY_H</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-NEED_005fSETGID"><code>NEED_SETGID</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-NLIST_005fNAME_005fUNION"><code>NLIST_NAME_UNION</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-NLIST_005fSTRUCT"><code>NLIST_STRUCT</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-NO_005fMINUS_005fC_005fMINUS_005fO"><code>NO_MINUS_C_MINUS_O</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-off_005ft"><code>off_t</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-pid_005ft"><code>pid_t</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-RETSIGTYPE"><code>RETSIGTYPE</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-SELECT_005fTYPE_005fARG1"><code>SELECT_TYPE_ARG1</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SELECT_005fTYPE_005fARG234"><code>SELECT_TYPE_ARG234</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SELECT_005fTYPE_005fARG5"><code>SELECT_TYPE_ARG5</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SETPGRP_005fVOID"><code>SETPGRP_VOID</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SETVBUF_005fREVERSED"><code>SETVBUF_REVERSED</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-size_005ft"><code>size_t</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STDC_005fHEADERS"><code>STDC_HEADERS</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SVR4"><code>SVR4</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SYSDIR"><code>SYSDIR</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SYSNDIR"><code>SYSNDIR</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SYS_005fSIGLIST_005fDECLARED"><code>SYS_SIGLIST_DECLARED</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-TIME_005fWITH_005fSYS_005fTIME"><code>TIME_WITH_SYS_TIME</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TM_005fIN_005fSYS_005fTIME"><code>TM_IN_SYS_TIME</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-uid_005ft"><code>uid_t</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-UMAX"><code>UMAX</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-UMAX4_005f3"><code>UMAX4_3</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-USG-1"><code>USG</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-vfork"><code>vfork</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-VOID_005fCLOSEDIR"><code>VOID_CLOSEDIR</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-WORDS_005fBIGENDIAN"><code>WORDS_BIGENDIAN</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Preprocessor-Symbol-Index-1_cv_letter-Y">Y</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-YYTEXT_005fPOINTER"><code>YYTEXT_POINTER</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Preprocessor-Symbol-Index-1_cv_symbol-1" class="summary-letter"><b>_</b></a>
 &nbsp; 
<br>
<a href="#Preprocessor-Symbol-Index-1_cv_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#Preprocessor-Symbol-Index-1_cv_letter-Y" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Macro-Index"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Preprocessor-Symbol-Index" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[ &gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Preprocessor-Symbol-Index" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[ &gt;&gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Macro-Index-1"></a>
<h1 class="unnumbered">Macro Index</h1>

<p>This is an alphabetical list of the Autoconf macros.  To make the list
easier to use, the macros are listed without their preceding &lsquo;<samp>AC_</samp>&rsquo;.
</p>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Macro-Index-1_ma_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-X" class="summary-letter"><b>X</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-Y" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-ma">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-AIX"><code>AIX</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ALLOCA-1"><code>ALLOCA</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ARG_005fARRAY"><code>ARG_ARRAY</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ARG_005fENABLE"><code>ARG_ENABLE</code></a></td><td valign="top"><a href="#Package-Options">9.2 Choosing Package Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ARG_005fPROGRAM"><code>ARG_PROGRAM</code></a></td><td valign="top"><a href="#Transforming-Names">9.4 Transforming Program Names When Installing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ARG_005fWITH"><code>ARG_WITH</code></a></td><td valign="top"><a href="#External-Software">9.1 Working With External Software</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-BEFORE"><code>BEFORE</code></a></td><td valign="top"><a href="#Suggested-Ordering">7.4.2 Suggested Ordering</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-CACHE_005fCHECK"><code>CACHE_CHECK</code></a></td><td valign="top"><a href="#Caching-Results">6.3 Caching Results</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CACHE_005fLOAD"><code>CACHE_LOAD</code></a></td><td valign="top"><a href="#Caching-Results">6.3 Caching Results</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CACHE_005fSAVE"><code>CACHE_SAVE</code></a></td><td valign="top"><a href="#Caching-Results">6.3 Caching Results</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CACHE_005fVAL"><code>CACHE_VAL</code></a></td><td valign="top"><a href="#Caching-Results">6.3 Caching Results</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CANONICAL_005fHOST"><code>CANONICAL_HOST</code></a></td><td valign="top"><a href="#Canonicalizing">8.2 Getting the Canonical System Type</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CANONICAL_005fSYSTEM"><code>CANONICAL_SYSTEM</code></a></td><td valign="top"><a href="#Canonicalizing">8.2 Getting the Canonical System Type</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHAR_005fUNSIGNED"><code>CHAR_UNSIGNED</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECKING"><code>CHECKING</code></a></td><td valign="top"><a href="#Printing-Messages">6.4 Printing Messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fFILE"><code>CHECK_FILE</code></a></td><td valign="top"><a href="#Generic-Programs">4.1.2 Generic Program and File Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fFILES"><code>CHECK_FILES</code></a></td><td valign="top"><a href="#Generic-Programs">4.1.2 Generic Program and File Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fFUNC"><code>CHECK_FUNC</code></a></td><td valign="top"><a href="#Generic-Functions">4.3.2 Generic Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fFUNCS"><code>CHECK_FUNCS</code></a></td><td valign="top"><a href="#Generic-Functions">4.3.2 Generic Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fHEADER"><code>CHECK_HEADER</code></a></td><td valign="top"><a href="#Generic-Headers">4.4.2 Generic Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fHEADERS"><code>CHECK_HEADERS</code></a></td><td valign="top"><a href="#Generic-Headers">4.4.2 Generic Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fLIB"><code>CHECK_LIB</code></a></td><td valign="top"><a href="#Libraries">4.2 Library Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fPROG"><code>CHECK_PROG</code></a></td><td valign="top"><a href="#Generic-Programs">4.1.2 Generic Program and File Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fPROGS"><code>CHECK_PROGS</code></a></td><td valign="top"><a href="#Generic-Programs">4.1.2 Generic Program and File Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fSIZEOF"><code>CHECK_SIZEOF</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fTOOL"><code>CHECK_TOOL</code></a></td><td valign="top"><a href="#Generic-Programs">4.1.2 Generic Program and File Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CHECK_005fTYPE"><code>CHECK_TYPE</code></a></td><td valign="top"><a href="#Generic-Typedefs">4.6.2 Generic Typedef Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-COMPILE_005fCHECK"><code>COMPILE_CHECK</code></a></td><td valign="top"><a href="#Examining-Libraries">5.3 Examining Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CONFIG_005fAUX_005fDIR"><code>CONFIG_AUX_DIR</code></a></td><td valign="top"><a href="#Input">3.1 Finding <code>configure</code> Input</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CONFIG_005fHEADER"><code>CONFIG_HEADER</code></a></td><td valign="top"><a href="#Configuration-Headers">3.4 Configuration Header Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CONFIG_005fSUBDIRS"><code>CONFIG_SUBDIRS</code></a></td><td valign="top"><a href="#Subdirectories">3.5 Configuring Other Packages in Subdirectories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CONST"><code>CONST</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CROSS_005fCHECK"><code>CROSS_CHECK</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CYGWIN"><code>CYGWIN</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-C_005fBIGENDIAN"><code>C_BIGENDIAN</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-C_005fCHAR_005fUNSIGNED"><code>C_CHAR_UNSIGNED</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-C_005fCONST"><code>C_CONST</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-C_005fCROSS"><code>C_CROSS</code></a></td><td valign="top"><a href="#Test-Programs">5.4.1 Running Test Programs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-C_005fINLINE"><code>C_INLINE</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-C_005fLONG_005fDOUBLE"><code>C_LONG_DOUBLE</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-C_005fSTRINGIZE"><code>C_STRINGIZE</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-DECL_005fSYS_005fSIGLIST"><code>DECL_SYS_SIGLIST</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DECL_005fYYTEXT"><code>DECL_YYTEXT</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DEFINE"><code>DEFINE</code></a></td><td valign="top"><a href="#Defining-Symbols">6.1 Defining C Preprocessor Symbols</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DEFINE_005fUNQUOTED"><code>DEFINE_UNQUOTED</code></a></td><td valign="top"><a href="#Defining-Symbols">6.1 Defining C Preprocessor Symbols</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DEFUN"><code>DEFUN</code></a></td><td valign="top"><a href="#Macro-Definitions">7.1 Macro Definitions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DIR_005fHEADER"><code>DIR_HEADER</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DYNIX_005fSEQ"><code>DYNIX_SEQ</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-EGREP_005fCPP"><code>EGREP_CPP</code></a></td><td valign="top"><a href="#Examining-Declarations">5.1 Examining Declarations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-EGREP_005fHEADER"><code>EGREP_HEADER</code></a></td><td valign="top"><a href="#Examining-Declarations">5.1 Examining Declarations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ENABLE"><code>ENABLE</code></a></td><td valign="top"><a href="#Package-Options">9.2 Choosing Package Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ERROR"><code>ERROR</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-EXEEXT"><code>EXEEXT</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-F77_005fLIBRARY_005fLDFLAGS"><code>F77_LIBRARY_LDFLAGS</code></a></td><td valign="top"><a href="#Fortran-77-Compiler-Characteristics">4.8 Fortran 77 Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FIND_005fX"><code>FIND_X</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FIND_005fXTRA"><code>FIND_XTRA</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fALLOCA"><code>FUNC_ALLOCA</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fCHECK"><code>FUNC_CHECK</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fCLOSEDIR_005fVOID"><code>FUNC_CLOSEDIR_VOID</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fFNMATCH"><code>FUNC_FNMATCH</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fGETLOADAVG"><code>FUNC_GETLOADAVG</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fGETMNTENT"><code>FUNC_GETMNTENT</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fGETPGRP"><code>FUNC_GETPGRP</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fMEMCMP"><code>FUNC_MEMCMP</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fMMAP"><code>FUNC_MMAP</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fSELECT_005fARGTYPES"><code>FUNC_SELECT_ARGTYPES</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fSETPGRP"><code>FUNC_SETPGRP</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fSETVBUF_005fREVERSED"><code>FUNC_SETVBUF_REVERSED</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fSTRCOLL"><code>FUNC_STRCOLL</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fSTRFTIME"><code>FUNC_STRFTIME</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fUTIME_005fNULL"><code>FUNC_UTIME_NULL</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fVFORK"><code>FUNC_VFORK</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fVPRINTF"><code>FUNC_VPRINTF</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FUNC_005fWAIT3"><code>FUNC_WAIT3</code></a></td><td valign="top"><a href="#Particular-Functions">4.3.1 Particular Function Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-G">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-GCC_005fTRADITIONAL"><code>GCC_TRADITIONAL</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GETGROUPS_005fT-1"><code>GETGROUPS_T</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GETLOADAVG"><code>GETLOADAVG</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fFUNCS"><code>HAVE_FUNCS</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fHEADERS"><code>HAVE_HEADERS</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fLIBRARY"><code>HAVE_LIBRARY</code></a></td><td valign="top"><a href="#Libraries">4.2 Library Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HAVE_005fPOUNDBANG"><code>HAVE_POUNDBANG</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HEADER_005fCHECK"><code>HEADER_CHECK</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HEADER_005fDIRENT"><code>HEADER_DIRENT</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HEADER_005fEGREP"><code>HEADER_EGREP</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HEADER_005fMAJOR"><code>HEADER_MAJOR</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HEADER_005fSTAT"><code>HEADER_STAT</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HEADER_005fSTDC"><code>HEADER_STDC</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HEADER_005fSYS_005fWAIT"><code>HEADER_SYS_WAIT</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HEADER_005fTIME"><code>HEADER_TIME</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-INIT"><code>INIT</code></a></td><td valign="top"><a href="#Input">3.1 Finding <code>configure</code> Input</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-INLINE"><code>INLINE</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-INT_005f16_005fBITS"><code>INT_16_BITS</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-IRIX_005fSUN"><code>IRIX_SUN</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ISC_005fPOSIX"><code>ISC_POSIX</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANG_005fC"><code>LANG_C</code></a></td><td valign="top"><a href="#Language-Choice">5.8 Language Choice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANG_005fCPLUSPLUS"><code>LANG_CPLUSPLUS</code></a></td><td valign="top"><a href="#Language-Choice">5.8 Language Choice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANG_005fFORTRAN77"><code>LANG_FORTRAN77</code></a></td><td valign="top"><a href="#Language-Choice">5.8 Language Choice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANG_005fRESTORE"><code>LANG_RESTORE</code></a></td><td valign="top"><a href="#Language-Choice">5.8 Language Choice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANG_005fSAVE"><code>LANG_SAVE</code></a></td><td valign="top"><a href="#Language-Choice">5.8 Language Choice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LINK_005fFILES"><code>LINK_FILES</code></a></td><td valign="top"><a href="#Using-System-Type">8.4 Using the System Type</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LN_005fS-1"><code>LN_S</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LONG_005f64_005fBITS"><code>LONG_64_BITS</code></a></td><td valign="top"><a href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LONG_005fDOUBLE"><code>LONG_DOUBLE</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LONG_005fFILE_005fNAMES"><code>LONG_FILE_NAMES</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAJOR_005fHEADER"><code>MAJOR_HEADER</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MEMORY_005fH"><code>MEMORY_H</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MINGW32"><code>MINGW32</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MINIX"><code>MINIX</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MINUS_005fC_005fMINUS_005fO"><code>MINUS_C_MINUS_O</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MMAP"><code>MMAP</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MODE_005fT"><code>MODE_T</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MSG_005fCHECKING"><code>MSG_CHECKING</code></a></td><td valign="top"><a href="#Printing-Messages">6.4 Printing Messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MSG_005fERROR"><code>MSG_ERROR</code></a></td><td valign="top"><a href="#Printing-Messages">6.4 Printing Messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MSG_005fRESULT"><code>MSG_RESULT</code></a></td><td valign="top"><a href="#Printing-Messages">6.4 Printing Messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MSG_005fWARN"><code>MSG_WARN</code></a></td><td valign="top"><a href="#Printing-Messages">6.4 Printing Messages</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-OBJEXT"><code>OBJEXT</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OBSOLETE"><code>OBSOLETE</code></a></td><td valign="top"><a href="#Obsolete-Macros">7.4.3 Obsolete Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OFF_005fT"><code>OFF_T</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OUTPUT"><code>OUTPUT</code></a></td><td valign="top"><a href="#Output">3.2 Creating Output Files</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-PATH_005fPROG"><code>PATH_PROG</code></a></td><td valign="top"><a href="#Generic-Programs">4.1.2 Generic Program and File Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PATH_005fPROGS"><code>PATH_PROGS</code></a></td><td valign="top"><a href="#Generic-Programs">4.1.2 Generic Program and File Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PATH_005fX"><code>PATH_X</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PATH_005fXTRA"><code>PATH_XTRA</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PID_005fT"><code>PID_T</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PREFIX"><code>PREFIX</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PREFIX_005fPROGRAM"><code>PREFIX_PROGRAM</code></a></td><td valign="top"><a href="#Default-Prefix">3.6 Default Prefix</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PREREQ"><code>PREREQ</code></a></td><td valign="top"><a href="#Versions">3.7 Version Numbers in <code>configure</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROGRAMS_005fCHECK"><code>PROGRAMS_CHECK</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROGRAMS_005fPATH"><code>PROGRAMS_PATH</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROGRAM_005fCHECK"><code>PROGRAM_CHECK</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROGRAM_005fEGREP"><code>PROGRAM_EGREP</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROGRAM_005fPATH"><code>PROGRAM_PATH</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fAWK"><code>PROG_AWK</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fCC"><code>PROG_CC</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fCC_005fC_005fO"><code>PROG_CC_C_O</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fCPP"><code>PROG_CPP</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fCXX"><code>PROG_CXX</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fCXXCPP"><code>PROG_CXXCPP</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fF77_005fC_005fO"><code>PROG_F77_C_O</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fFORTRAN"><code>PROG_FORTRAN</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fGCC_005fTRADITIONAL"><code>PROG_GCC_TRADITIONAL</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fINSTALL"><code>PROG_INSTALL</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fLEX"><code>PROG_LEX</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fLN_005fS"><code>PROG_LN_S</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fMAKE_005fSET"><code>PROG_MAKE_SET</code></a></td><td valign="top"><a href="#Output">3.2 Creating Output Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fRANLIB"><code>PROG_RANLIB</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROG_005fYACC"><code>PROG_YACC</code></a></td><td valign="top"><a href="#Particular-Programs">4.1.1 Particular Program Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROVIDE"><code>PROVIDE</code></a></td><td valign="top"><a href="#Prerequisite-Macros">7.4.1 Prerequisite Macros</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-REMOTE_005fTAPE"><code>REMOTE_TAPE</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-REPLACE_005fFUNCS"><code>REPLACE_FUNCS</code></a></td><td valign="top"><a href="#Generic-Functions">4.3.2 Generic Function Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-REQUIRE"><code>REQUIRE</code></a></td><td valign="top"><a href="#Prerequisite-Macros">7.4.1 Prerequisite Macros</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-REQUIRE_005fCPP"><code>REQUIRE_CPP</code></a></td><td valign="top"><a href="#Language-Choice">5.8 Language Choice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-RESTARTABLE_005fSYSCALLS"><code>RESTARTABLE_SYSCALLS</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-RETSIGTYPE-1"><code>RETSIGTYPE</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-REVISION"><code>REVISION</code></a></td><td valign="top"><a href="#Versions">3.7 Version Numbers in <code>configure</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-RSH"><code>RSH</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-SCO_005fINTL"><code>SCO_INTL</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SEARCH_005fLIBS"><code>SEARCH_LIBS</code></a></td><td valign="top"><a href="#Libraries">4.2 Library Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SEARCH_005fLIBS-1"><code>SEARCH_LIBS</code></a></td><td valign="top"><a href="#Libraries">4.2 Library Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SETVBUF_005fREVERSED-1"><code>SETVBUF_REVERSED</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SET_005fMAKE-1"><code>SET_MAKE</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SIZEOF_005fTYPE"><code>SIZEOF_TYPE</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SIZE_005fT"><code>SIZE_T</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STAT_005fMACROS_005fBROKEN"><code>STAT_MACROS_BROKEN</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STAT_005fMACROS_005fBROKEN-1"><code>STAT_MACROS_BROKEN</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STDC_005fHEADERS-1"><code>STDC_HEADERS</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STRCOLL"><code>STRCOLL</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STRUCT_005fST_005fBLKSIZE"><code>STRUCT_ST_BLKSIZE</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STRUCT_005fST_005fBLOCKS"><code>STRUCT_ST_BLOCKS</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STRUCT_005fST_005fRDEV"><code>STRUCT_ST_RDEV</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STRUCT_005fTIMEZONE"><code>STRUCT_TIMEZONE</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STRUCT_005fTM"><code>STRUCT_TM</code></a></td><td valign="top"><a href="#Structures">4.5 Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ST_005fBLKSIZE"><code>ST_BLKSIZE</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ST_005fBLOCKS"><code>ST_BLOCKS</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ST_005fRDEV"><code>ST_RDEV</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SUBST"><code>SUBST</code></a></td><td valign="top"><a href="#Setting-Output-Variables">6.2 Setting Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SUBST_005fFILE"><code>SUBST_FILE</code></a></td><td valign="top"><a href="#Setting-Output-Variables">6.2 Setting Output Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SYS_005fINTERPRETER"><code>SYS_INTERPRETER</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SYS_005fLONG_005fFILE_005fNAMES"><code>SYS_LONG_FILE_NAMES</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SYS_005fRESTARTABLE_005fSYSCALLS"><code>SYS_RESTARTABLE_SYSCALLS</code></a></td><td valign="top"><a href="#System-Services">4.9 System Services</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SYS_005fSIGLIST_005fDECLARED-1"><code>SYS_SIGLIST_DECLARED</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-TEST_005fCPP"><code>TEST_CPP</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TEST_005fPROGRAM"><code>TEST_PROGRAM</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TIMEZONE"><code>TIMEZONE</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TIME_005fWITH_005fSYS_005fTIME-1"><code>TIME_WITH_SYS_TIME</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TRY_005fCOMPILE"><code>TRY_COMPILE</code></a></td><td valign="top"><a href="#Examining-Syntax">5.2 Examining Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TRY_005fCPP"><code>TRY_CPP</code></a></td><td valign="top"><a href="#Examining-Declarations">5.1 Examining Declarations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TRY_005fLINK"><code>TRY_LINK</code></a></td><td valign="top"><a href="#Examining-Libraries">5.3 Examining Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TRY_005fLINK_005fFUNC"><code>TRY_LINK_FUNC</code></a></td><td valign="top"><a href="#Examining-Libraries">5.3 Examining Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TRY_005fLINK_005fFUNC-1"><code>TRY_LINK_FUNC</code></a></td><td valign="top"><a href="#Examining-Libraries">5.3 Examining Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TRY_005fRUN"><code>TRY_RUN</code></a></td><td valign="top"><a href="#Test-Programs">5.4.1 Running Test Programs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TYPE_005fGETGROUPS"><code>TYPE_GETGROUPS</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TYPE_005fMODE_005fT"><code>TYPE_MODE_T</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TYPE_005fOFF_005fT"><code>TYPE_OFF_T</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TYPE_005fPID_005fT"><code>TYPE_PID_T</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TYPE_005fSIGNAL"><code>TYPE_SIGNAL</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TYPE_005fSIZE_005fT"><code>TYPE_SIZE_T</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TYPE_005fUID_005fT"><code>TYPE_UID_T</code></a></td><td valign="top"><a href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-UID_005fT"><code>UID_T</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-UNISTD_005fH"><code>UNISTD_H</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-USG"><code>USG</code></a></td><td valign="top"><a href="#Particular-Headers">4.4.1 Particular Header Checks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-UTIME_005fNULL"><code>UTIME_NULL</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-VALIDATE_005fCACHED_005fSYSTEM_005fTUPLE"><code>VALIDATE_CACHED_SYSTEM_TUPLE</code></a></td><td valign="top"><a href="#Canonicalizing">8.2 Getting the Canonical System Type</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-VERBOSE"><code>VERBOSE</code></a></td><td valign="top"><a href="#Printing-Messages">6.4 Printing Messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-VFORK"><code>VFORK</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-VPRINTF"><code>VPRINTF</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-WAIT3"><code>WAIT3</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-WARN"><code>WARN</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-WITH"><code>WITH</code></a></td><td valign="top"><a href="#External-Software">9.1 Working With External Software</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-WORDS_005fBIGENDIAN-1"><code>WORDS_BIGENDIAN</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-X">X</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-XENIX_005fDIR"><code>XENIX_DIR</code></a></td><td valign="top"><a href="#UNIX-Variants">4.10 UNIX Variants</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Macro-Index-1_ma_letter-Y">Y</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-YYTEXT_005fPOINTER-1"><code>YYTEXT_POINTER</code></a></td><td valign="top"><a href="#Old-Macro-Names">15. Old Macro Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Macro-Index-1_ma_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-X" class="summary-letter"><b>X</b></a>
 &nbsp; 
<a href="#Macro-Index-1_ma_letter-Y" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="SEC_Contents"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Table of Contents</h1>
<div class="contents">

<ul class="toc">
  <li><a name="toc-Introduction-1" href="#Introduction">1. Introduction</a></li>
  <li><a name="toc-Making-configure-Scripts-1" href="#Making-configure-Scripts">2. Making <code>configure</code> Scripts</a>
  <ul class="toc">
    <li><a name="toc-Writing-configure_002ein-1" href="#Writing-configure_002ein">2.1 Writing &lsquo;<tt>configure.in</tt>&rsquo;</a></li>
    <li><a name="toc-Using-autoscan-to-Create-configure_002ein" href="#Invoking-autoscan">2.2 Using <code>autoscan</code> to Create &lsquo;<tt>configure.in</tt>&rsquo;</a></li>
    <li><a name="toc-Using-ifnames-to-List-Conditionals" href="#Invoking-ifnames">2.3 Using <code>ifnames</code> to List Conditionals</a></li>
    <li><a name="toc-Using-autoconf-to-Create-configure" href="#Invoking-autoconf">2.4 Using <code>autoconf</code> to Create <code>configure</code></a></li>
    <li><a name="toc-Using-autoreconf-to-Update-configure-Scripts" href="#Invoking-autoreconf">2.5 Using <code>autoreconf</code> to Update <code>configure</code> Scripts</a></li>
  </ul></li>
  <li><a name="toc-Initialization-and-Output-Files" href="#Setup">3. Initialization and Output Files</a>
  <ul class="toc">
    <li><a name="toc-Finding-configure-Input" href="#Input">3.1 Finding <code>configure</code> Input</a></li>
    <li><a name="toc-Creating-Output-Files" href="#Output">3.2 Creating Output Files</a></li>
    <li><a name="toc-Substitutions-in-Makefiles" href="#Makefile-Substitutions">3.3 Substitutions in Makefiles</a>
    <ul class="toc">
      <li><a name="toc-Preset-Output-Variables-1" href="#Preset-Output-Variables">3.3.1 Preset Output Variables</a></li>
      <li><a name="toc-Build-Directories-1" href="#Build-Directories">3.3.2 Build Directories</a></li>
      <li><a name="toc-Automatic-Remaking-1" href="#Automatic-Remaking">3.3.3 Automatic Remaking</a></li>
    </ul></li>
    <li><a name="toc-Configuration-Header-Files" href="#Configuration-Headers">3.4 Configuration Header Files</a>
    <ul class="toc">
      <li><a name="toc-Configuration-Header-Templates" href="#Header-Templates">3.4.1 Configuration Header Templates</a></li>
      <li><a name="toc-Using-autoheader-to-Create-config_002eh_002ein" href="#Invoking-autoheader">3.4.2 Using <code>autoheader</code> to Create &lsquo;<tt>config.h.in</tt>&rsquo;</a></li>
    </ul></li>
    <li><a name="toc-Configuring-Other-Packages-in-Subdirectories" href="#Subdirectories">3.5 Configuring Other Packages in Subdirectories</a></li>
    <li><a name="toc-Default-Prefix-1" href="#Default-Prefix">3.6 Default Prefix</a></li>
    <li><a name="toc-Version-Numbers-in-configure" href="#Versions">3.7 Version Numbers in <code>configure</code></a></li>
  </ul></li>
  <li><a name="toc-Existing-Tests-1" href="#Existing-Tests">4. Existing Tests</a>
  <ul class="toc">
    <li><a name="toc-Alternative-Programs-1" href="#Alternative-Programs">4.1 Alternative Programs</a>
    <ul class="toc">
      <li><a name="toc-Particular-Program-Checks" href="#Particular-Programs">4.1.1 Particular Program Checks</a></li>
      <li><a name="toc-Generic-Program-and-File-Checks" href="#Generic-Programs">4.1.2 Generic Program and File Checks</a></li>
    </ul></li>
    <li><a name="toc-Library-Files" href="#Libraries">4.2 Library Files</a></li>
    <li><a name="toc-Library-Functions-1" href="#Library-Functions">4.3 Library Functions</a>
    <ul class="toc">
      <li><a name="toc-Particular-Function-Checks" href="#Particular-Functions">4.3.1 Particular Function Checks</a></li>
      <li><a name="toc-Generic-Function-Checks" href="#Generic-Functions">4.3.2 Generic Function Checks</a></li>
    </ul></li>
    <li><a name="toc-Header-Files-1" href="#Header-Files">4.4 Header Files</a>
    <ul class="toc">
      <li><a name="toc-Particular-Header-Checks" href="#Particular-Headers">4.4.1 Particular Header Checks</a></li>
      <li><a name="toc-Generic-Header-Checks" href="#Generic-Headers">4.4.2 Generic Header Checks</a></li>
    </ul></li>
    <li><a name="toc-Structures-1" href="#Structures">4.5 Structures</a></li>
    <li><a name="toc-Typedefs-1" href="#Typedefs">4.6 Typedefs</a>
    <ul class="toc">
      <li><a name="toc-Particular-Typedef-Checks" href="#Particular-Typedefs">4.6.1 Particular Typedef Checks</a></li>
      <li><a name="toc-Generic-Typedef-Checks" href="#Generic-Typedefs">4.6.2 Generic Typedef Checks</a></li>
    </ul></li>
    <li><a name="toc-C-Compiler-Characteristics-1" href="#C-Compiler-Characteristics">4.7 C Compiler Characteristics</a></li>
    <li><a name="toc-Fortran-77-Compiler-Characteristics-1" href="#Fortran-77-Compiler-Characteristics">4.8 Fortran 77 Compiler Characteristics</a></li>
    <li><a name="toc-System-Services-1" href="#System-Services">4.9 System Services</a></li>
    <li><a name="toc-UNIX-Variants-1" href="#UNIX-Variants">4.10 UNIX Variants</a></li>
  </ul></li>
  <li><a name="toc-Writing-Tests-1" href="#Writing-Tests">5. Writing Tests</a>
  <ul class="toc">
    <li><a name="toc-Examining-Declarations-1" href="#Examining-Declarations">5.1 Examining Declarations</a></li>
    <li><a name="toc-Examining-Syntax-1" href="#Examining-Syntax">5.2 Examining Syntax</a></li>
    <li><a name="toc-Examining-Libraries-1" href="#Examining-Libraries">5.3 Examining Libraries</a></li>
    <li><a name="toc-Checking-Run-Time-Behavior" href="#Run-Time">5.4 Checking Run Time Behavior</a>
    <ul class="toc">
      <li><a name="toc-Running-Test-Programs" href="#Test-Programs">5.4.1 Running Test Programs</a></li>
      <li><a name="toc-Guidelines-for-Test-Programs" href="#Guidelines">5.4.2 Guidelines for Test Programs</a></li>
      <li><a name="toc-Test-Functions-1" href="#Test-Functions">5.4.3 Test Functions</a></li>
    </ul></li>
    <li><a name="toc-Portable-Shell-Programming" href="#Portable-Shell">5.5 Portable Shell Programming</a></li>
    <li><a name="toc-Testing-Values-and-Files-1" href="#Testing-Values-and-Files">5.6 Testing Values and Files</a></li>
    <li><a name="toc-Multiple-Cases-1" href="#Multiple-Cases">5.7 Multiple Cases</a></li>
    <li><a name="toc-Language-Choice-1" href="#Language-Choice">5.8 Language Choice</a></li>
  </ul></li>
  <li><a name="toc-Results-of-Tests" href="#Results">6. Results of Tests</a>
  <ul class="toc">
    <li><a name="toc-Defining-C-Preprocessor-Symbols" href="#Defining-Symbols">6.1 Defining C Preprocessor Symbols</a></li>
    <li><a name="toc-Setting-Output-Variables-1" href="#Setting-Output-Variables">6.2 Setting Output Variables</a></li>
    <li><a name="toc-Caching-Results-1" href="#Caching-Results">6.3 Caching Results</a>
    <ul class="toc">
      <li><a name="toc-Cache-Variable-Names-1" href="#Cache-Variable-Names">6.3.1 Cache Variable Names</a></li>
      <li><a name="toc-Cache-Files-1" href="#Cache-Files">6.3.2 Cache Files</a></li>
    </ul></li>
    <li><a name="toc-Printing-Messages-1" href="#Printing-Messages">6.4 Printing Messages</a></li>
  </ul></li>
  <li><a name="toc-Writing-Macros-1" href="#Writing-Macros">7. Writing Macros</a>
  <ul class="toc">
    <li><a name="toc-Macro-Definitions-1" href="#Macro-Definitions">7.1 Macro Definitions</a></li>
    <li><a name="toc-Macro-Names-1" href="#Macro-Names">7.2 Macro Names</a></li>
    <li><a name="toc-Quoting-1" href="#Quoting">7.3 Quoting</a></li>
    <li><a name="toc-Dependencies-Between-Macros-1" href="#Dependencies-Between-Macros">7.4 Dependencies Between Macros</a>
    <ul class="toc">
      <li><a name="toc-Prerequisite-Macros-1" href="#Prerequisite-Macros">7.4.1 Prerequisite Macros</a></li>
      <li><a name="toc-Suggested-Ordering-1" href="#Suggested-Ordering">7.4.2 Suggested Ordering</a></li>
      <li><a name="toc-Obsolete-Macros-1" href="#Obsolete-Macros">7.4.3 Obsolete Macros</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Manual-Configuration-1" href="#Manual-Configuration">8. Manual Configuration</a>
  <ul class="toc">
    <li><a name="toc-Specifying-the-System-Type-1" href="#Specifying-Names">8.1 Specifying the System Type</a></li>
    <li><a name="toc-Getting-the-Canonical-System-Type" href="#Canonicalizing">8.2 Getting the Canonical System Type</a></li>
    <li><a name="toc-System-Type-Variables-1" href="#System-Type-Variables">8.3 System Type Variables</a></li>
    <li><a name="toc-Using-the-System-Type" href="#Using-System-Type">8.4 Using the System Type</a></li>
  </ul></li>
  <li><a name="toc-Site-Configuration-1" href="#Site-Configuration">9. Site Configuration</a>
  <ul class="toc">
    <li><a name="toc-Working-With-External-Software" href="#External-Software">9.1 Working With External Software</a></li>
    <li><a name="toc-Choosing-Package-Options" href="#Package-Options">9.2 Choosing Package Options</a></li>
    <li><a name="toc-Configuring-Site-Details" href="#Site-Details">9.3 Configuring Site Details</a></li>
    <li><a name="toc-Transforming-Program-Names-When-Installing" href="#Transforming-Names">9.4 Transforming Program Names When Installing</a>
    <ul class="toc">
      <li><a name="toc-Transformation-Options-1" href="#Transformation-Options">9.4.1 Transformation Options</a></li>
      <li><a name="toc-Transformation-Examples-1" href="#Transformation-Examples">9.4.2 Transformation Examples</a></li>
      <li><a name="toc-Transformation-Rules-1" href="#Transformation-Rules">9.4.3 Transformation Rules</a></li>
    </ul></li>
    <li><a name="toc-Setting-Site-Defaults" href="#Site-Defaults">9.5 Setting Site Defaults</a></li>
  </ul></li>
  <li><a name="toc-Running-configure-Scripts" href="#Invoking-configure">10. Running <code>configure</code> Scripts</a>
  <ul class="toc">
    <li><a name="toc-Basic-Installation-1" href="#Basic-Installation">10.1 Basic Installation</a></li>
    <li><a name="toc-Compilers-and-Options-1" href="#Compilers-and-Options">10.2 Compilers and Options</a></li>
    <li><a name="toc-Compiling-For-Multiple-Architectures" href="#Multiple-Architectures">10.3 Compiling For Multiple Architectures</a></li>
    <li><a name="toc-Installation-Names-1" href="#Installation-Names">10.4 Installation Names</a></li>
    <li><a name="toc-Optional-Features-1" href="#Optional-Features">10.5 Optional Features</a></li>
    <li><a name="toc-Specifying-the-System-Type" href="#System-Type">10.6 Specifying the System Type</a></li>
    <li><a name="toc-Sharing-Defaults-1" href="#Sharing-Defaults">10.7 Sharing Defaults</a></li>
    <li><a name="toc-Operation-Controls-1" href="#Operation-Controls">10.8 Operation Controls</a></li>
  </ul></li>
  <li><a name="toc-Recreating-a-Configuration" href="#Invoking-config_002estatus">11. Recreating a Configuration</a></li>
  <li><a name="toc-Questions-About-Autoconf" href="#Questions">12. Questions About Autoconf</a>
  <ul class="toc">
    <li><a name="toc-Distributing-configure-Scripts" href="#Distributing">12.1 Distributing <code>configure</code> Scripts</a></li>
    <li><a name="toc-Why-Require-GNU-m4_003f" href="#Why-GNU-m4">12.2 Why Require GNU <code>m4</code>?</a></li>
    <li><a name="toc-How-Can-I-Bootstrap_003f" href="#Bootstrapping">12.3 How Can I Bootstrap?</a></li>
    <li><a name="toc-Why-Not-Imake_003f" href="#Why-Not-Imake">12.4 Why Not Imake?</a></li>
  </ul></li>
  <li><a name="toc-Upgrading-From-Version-1" href="#Upgrading">13. Upgrading From Version 1</a>
  <ul class="toc">
    <li><a name="toc-Changed-File-Names-1" href="#Changed-File-Names">13.1 Changed File Names</a></li>
    <li><a name="toc-Changed-Makefiles-1" href="#Changed-Makefiles">13.2 Changed Makefiles</a></li>
    <li><a name="toc-Changed-Macros-1" href="#Changed-Macros">13.3 Changed Macros</a></li>
    <li><a name="toc-Using-autoupdate-to-Modernize-configure" href="#Invoking-autoupdate">13.4 Using <code>autoupdate</code> to Modernize <code>configure</code></a></li>
    <li><a name="toc-Changed-Results-1" href="#Changed-Results">13.5 Changed Results</a></li>
    <li><a name="toc-Changed-Macro-Writing-1" href="#Changed-Macro-Writing">13.6 Changed Macro Writing</a></li>
  </ul></li>
  <li><a name="toc-History-of-Autoconf" href="#History">14. History of Autoconf</a>
  <ul class="toc">
    <li><a name="toc-Genesis-1" href="#Genesis">14.1 Genesis</a></li>
    <li><a name="toc-Exodus-1" href="#Exodus">14.2 Exodus</a></li>
    <li><a name="toc-Leviticus-1" href="#Leviticus">14.3 Leviticus</a></li>
    <li><a name="toc-Numbers-1" href="#Numbers">14.4 Numbers</a></li>
    <li><a name="toc-Deuteronomy-1" href="#Deuteronomy">14.5 Deuteronomy</a></li>
  </ul></li>
  <li><a name="toc-Old-Macro-Names-1" href="#Old-Macro-Names">15. Old Macro Names</a></li>
  <li><a name="toc-Environment-Variable-Index-1" href="#Environment-Variable-Index">Environment Variable Index</a></li>
  <li><a name="toc-Output-Variable-Index-1" href="#Output-Variable-Index">Output Variable Index</a></li>
  <li><a name="toc-Preprocessor-Symbol-Index-1" href="#Preprocessor-Symbol-Index">Preprocessor Symbol Index</a></li>
  <li><a name="toc-Macro-Index-1" href="#Macro-Index">Macro Index</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Variable-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>About This Document</h1>
<p>
  This document was generated by <em>Build Daemon user</em> on <em>March 5, 2012</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
</p>
<p>
  The buttons in the navigation panels have the following meaning:
</p>
<table border="1">
  <tr>
    <th> Button </th>
    <th> Name </th>
    <th> Go to </th>
    <th> From 1.2.3 go to</th>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Back</td>
    <td>Previous section in reading order</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Forward</td>
    <td>Next section in reading order</td>
    <td>1.2.4</td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">FastBack</td>
    <td>Beginning of this chapter or previous chapter</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [ Up ] </td>
    <td align="center">Up</td>
    <td>Up section</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">FastForward</td>
    <td>Next chapter</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [Top] </td>
    <td align="center">Top</td>
    <td>Cover (top) of document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Contents] </td>
    <td align="center">Contents</td>
    <td>Table of contents</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>Index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">About</td>
    <td>About (help)</td>
    <td> &nbsp; </td>
  </tr>
</table>

<p>
  where the <strong> Example </strong> assumes that the current position is at <strong> Subsubsection One-Two-Three </strong> of a document of the following structure:
</p>

<ul>
  <li> 1. Section One
    <ul>
      <li>1.1 Subsection One-One
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsection One-Two
        <ul>
          <li>1.2.1 Subsubsection One-Two-One</li>
          <li>1.2.2 Subsubsection One-Two-Two</li>
          <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position </strong></li>
          <li>1.2.4 Subsubsection One-Two-Four</li>
        </ul>
      </li>
      <li>1.3 Subsection One-Three
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsection One-Four</li>
    </ul>
  </li>
</ul>

<hr size="1">
<p>
 <font size="-1">
  This document was generated by <em>Build Daemon user</em> on <em>March 5, 2012</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
