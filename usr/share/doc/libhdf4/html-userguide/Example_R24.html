<!?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.0.8.2296" />
    <meta name="TEMPLATEBASE" content="HDF4 Version 1.0" />
    <meta name="LASTUPDATED" content="07/16/09 01:40:44" />
    <title>r24_ex1.c</title>
    <link rel="StyleSheet" href="document.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" media="all" />
<link rel="first" title="First" href="UGTop.html" />
<link rel="last" title="Last" href="UG_BookIX.html" />
<link rel="previous" title="Previous" href="Example_Vd.html" />
<link rel="next" title="Next" href="Example_R8.html" />

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/seealso.js"></script>

    <script type="text/javascript" language="JavaScript1.2">
     <!--
      var  WebWorksSeeAlso = new WebWorksSeeAlso_Object();
     // -->
    </script>
  </head>

  <body>

    <p>
    <table id="SummaryNotReq1" border="0" width="850"cellspacing="0" cellpadding="0">
      <tr>
        <td align="left">
          <a href="http://www.hdfgroup.org"><img id="LongDescNotReq1" border="0" src="images/hdf_logo.jpg" width="90" height="70" alt="The HDF Group" valign="top" /></a>
        </td>
        <td valign="middle" align="center">
          <b><H1>HDF User’s Guide</H1>
           Version 4.2r4</b><br />
        </td>
        <td valign="middle" align="right">
        <br/>
<b><a HREF="UGTOP.html">[Top]</a>
<a accesskey="3" href="Example_Vd.html"><b>[Prev]</b><a accesskey="4" href="Example_R8.html"><b>[Next]</b></b>
        </td>
      </tr>
    </table>
    </p>
    <hr />

    <blockquote>
<a name="wp473591"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: underline; text-indent: 0pt; text-transform: none">
r24_ex1.c
</div>
<div class="pPreformatted" style="font-family: Arial; font-size: 10pt"><pre class="pPreformatted" style="font-family: Arial; font-size: 10pt">
#include &quot;hdf.h&quot;<a name="wp930692"> </a>
#define WIDTH 5<a name="wp931453"> </a>
#define HEIGHT 6<a name="wp931454"> </a>
#define PIXEL_DEPTH 3<a name="wp931455"> </a>
main( )<a name="wp931457"> </a>
{<a name="wp931458"> </a>
	/* Initialize the image array. */<a name="wp931460"> </a>
	static uint8 raster_data[HEIGHT][WIDTH][PIXEL_DEPTH] =<a name="wp931461"> </a>
	{  1, 2, 3,  4, 5, 6,  7, 8, 9,  10,11,12,  13,14,15,  <a name="wp931462"> </a>
	  16,17,18, 19,20,21, 22,23,24,  25,26,27,  28,29,30,  <a name="wp931463"> </a>
	  31,32,33, 34,35,36, 37,38,39,  40,41,42,  43,44,45,  <a name="wp931464"> </a>
	  46,47,48, 49,50,51, 52,53,54,  55,56,57,  58,59,60,  <a name="wp931465"> </a>
	  61,62,63, 64,65,66, 67,68,69,  70,71,72,  73,74,75,  <a name="wp931466"> </a>
	  76,77,78, 79,80,81, 82,83,84,  85,86,87,  88,89,90 };<a name="wp931467"> </a>
    intn status;<a name="wp931468"> </a>
	/* Write the 24-bit raster image to the HDF file. */<a name="wp931470"> </a>
	status = DF24addimage(&quot;Example1.hdf&quot;, (VOIDP)raster_data, WIDTH, \<a name="wp931471"> </a>
			   			  HEIGHT);<a name="wp931472"> </a>
}<a name="wp931474"> </a>
</pre></div>
<a name="wp928476"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: underline; text-indent: 0pt; text-transform: none">
r24_ex1.f
</div>
<div class="pPreformatted" style="font-family: Arial; font-size: 10pt"><pre class="pPreformatted" style="font-family: Arial; font-size: 10pt">
      PROGRAM WRITE RIS24<a name="wp930723"> </a>
      integer status, d2aimg <a name="wp931484"> </a>
      integer*4 WIDTH, HEIGHT, PIXEL_DEPTH<a name="wp931485"> </a>
      parameter (WIDTH = 5,<a name="wp931486"> </a>
     +         HEIGHT = 6, <a name="wp931487"> </a>
     +         PIXEL_DEPTH = 3) <a name="wp931488"> </a>
      character raster_data(PIXEL_DEPTH, WIDTH, HEIGHT)<a name="wp931490"> </a>
C     Initialize the image array.<a name="wp931492"> </a>
      data raster_data <a name="wp931493"> </a>
     +     /  1, 2, 3,  4, 5, 6,  7, 8, 9,  10,11,12,  13,14,15,  <a name="wp931494"> </a>
     +     16,17,18, 19,20,21, 22,23,24,  25,26,27,  28,29,30, <a name="wp931495"> </a>
     +     31,32,33, 34,35,36, 37,38,39,  40,41,42,  43,44,45, <a name="wp931496"> </a>
     +     46,47,48, 49,50,51, 52,53,54,  55,56,57,  58,59,60, <a name="wp931497"> </a>
     +     61,62,63, 64,65,66, 67,68,69,  70,71,72,  73,74,75, <a name="wp931498"> </a>
     +     76,77,78, 79,80,81, 82,83,84,  85,86,87,  88,89,90 /<a name="wp931499"> </a>
C     Write the 24-bit raster image to the file.<a name="wp931501"> </a>
      status = d2aimg(`Example1.hdf&#39;, raster_data, WIDTH, <a name="wp931502"> </a>
     +                HEIGHT)<a name="wp931503"> </a>
      end<a name="wp931505"> </a>
</pre></div>
<a name="wp928479"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: underline; text-indent: 0pt; text-transform: none">
r24_ex2.c
</div>
<div class="pPreformatted" style="font-family: Arial; font-size: 10pt"><pre class="pPreformatted" style="font-family: Arial; font-size: 10pt">
#include &quot;hdf.h&quot;<a name="wp930775"> </a>
#include &quot;hcomp.h&quot;<a name="wp931514"> </a>
#define WIDTH 5<a name="wp931516"> </a>
#define HEIGHT 6<a name="wp931517"> </a>
#define PIXEL_DEPTH 3<a name="wp931518"> </a>
main( )<a name="wp931520"> </a>
{<a name="wp931521"> </a>
	/* Initialize the image array. */<a name="wp931523"> </a>
	static uint8 raster_data[HEIGHT][WIDTH][PIXEL_DEPTH] = <a name="wp931524"> </a>
	{  1, 2, 3,  4, 5, 6,  7, 8, 9,  10,11,12,  13,14,15,  <a name="wp931525"> </a>
	16,17,18, 19,20,21, 22,23,24,  25,26,27,  28,29,30,  <a name="wp931526"> </a>
	31,32,33, 34,35,36, 37,38,39,  40,41,42,  43,44,45,  <a name="wp931527"> </a>
	46,47,48, 49,50,51, 52,53,54,  55,56,57,  58,59,60,  <a name="wp931528"> </a>
	61,62,63, 64,65,66, 67,68,69,  70,71,72,  73,74,75,  <a name="wp931529"> </a>
	76,77,78, 79,80,81, 82,83,84,  85,86,87,  88,89,90 };<a name="wp931530"> </a>
	intn status;<a name="wp931531"> </a>
	/* Change interlace from pixel to scan-plane. */<a name="wp931533"> </a>
	status = DF24setil(DFIL_PLANE); <a name="wp931534"> </a>
	/* Write the 24-bit image data to file. */<a name="wp931536"> </a>
	status = DF24addimage(&quot;Example2.hdf&quot;, (VOIDP)raster_data, <a name="wp931537"> </a>
					WIDTH, HEIGHT);<a name="wp931538"> </a>
}<a name="wp931540"> </a>
</pre></div>
<a name="wp928481"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: underline; text-indent: 0pt; text-transform: none">
r24_ex2.f
</div>
<div class="pPreformatted" style="font-family: Arial; font-size: 10pt"><pre class="pPreformatted" style="font-family: Arial; font-size: 10pt">
      PROGRAM CHANGE INTERLACE<a name="wp930820"> </a>
      integer status, d2aimg, d2setil <a name="wp931550"> </a>
      integer*4 WIDTH, HEIGHT, PIXEL_DEPTH, DFIL_PLANE<a name="wp931551"> </a>
      parameter (WIDTH = 5,<a name="wp931552"> </a>
     +    HEIGHT = 6, <a name="wp931553"> </a>
     +    PIXEL_DEPTH = 3, <a name="wp931554"> </a>
     +    DFIL_PLANE = 2) <a name="wp931555"> </a>
      integer raster_data(PIXEL_DEPTH, WIDTH, HEIGHT)<a name="wp931557"> </a>
C     Initialize the image array.<a name="wp931559"> </a>
      data raster_data <a name="wp931560"> </a>
     + /  1, 2, 3,  4, 5, 6,  7, 8, 9,  10,11,12,  13,14,15,  <a name="wp931561"> </a>
     +  16,17,18, 19,20,21, 22,23,24,  25,26,27,  28,29,30, <a name="wp931562"> </a>
     +  31,32,33, 34,35,36, 37,38,39,  40,41,42,  43,44,45, <a name="wp931563"> </a>
     +  46,47,48, 49,50,51, 52,53,54,  55,56,57,  58,59,60, <a name="wp931564"> </a>
     +  61,62,63, 64,65,66, 67,68,69,  70,71,72,  73,74,75, <a name="wp931565"> </a>
     +  76,77,78, 79,80,81, 82,83,84,  85,86,87,  88,89,90  /<a name="wp931566"> </a>
C     Change interlace from pixel to scan plane.<a name="wp931568"> </a>
      status = d2setil(DFIL_PLANE)<a name="wp931569"> </a>
C     Write the 24-bit raster image to the file.<a name="wp931571"> </a>
      status = d2aimg(`Example2.hdf&#39;, raster_data, WIDTH, <a name="wp931572"> </a>
     +                 HEIGHT)<a name="wp931573"> </a>
      end<a name="wp931575"> </a>
</pre></div>
<a name="wp928487"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: underline; text-indent: 0pt; text-transform: none">
r24_ex3.c
</div>
<div class="pPreformatted" style="font-family: Arial; font-size: 10pt"><pre class="pPreformatted" style="font-family: Arial; font-size: 10pt">
#include &quot;hdf.h&quot;<a name="wp930852"> </a>
#include &quot;hcomp.h&quot;<a name="wp931585"> </a>
#define WIDTH 3<a name="wp931587"> </a>
#define HEIGHT 5<a name="wp931588"> </a>
#define PIXEL_DEPTH 3<a name="wp931589"> </a>
main( )<a name="wp931591"> </a>
{<a name="wp931592"> </a>
	/* Initialize the image array. */<a name="wp931593"> </a>
	static uint8 raster_data[HEIGHT][WIDTH][PIXEL_DEPTH] = <a name="wp931594"> </a>
		{  1, 2, 3,  4, 5, 6,  7, 8, 9,  <a name="wp931595"> </a>
		  10,11,12, 13,14,15, 16,17,18, <a name="wp931596"> </a>
		  19,20,21, 22,23,24, 25,26,27,  <a name="wp931597"> </a>
		  28,29,30, 31,32,33, 34,35,36,  <a name="wp931598"> </a>
		  37,38,39, 40,41,42, 43,44,45 }; <a name="wp931599"> </a>
	static comp_info compress_info;<a name="wp931600"> </a>
	intn status;<a name="wp931601"> </a>
	/* Initialize JPEG compression structure. */<a name="wp931603"> </a>
	compress_info.jpeg.quality = 60;<a name="wp931604"> </a>
	compress_info.jpeg.force_baseline = 1;<a name="wp931605"> </a>
	/* Set JPEG compression for storing the image. */<a name="wp931607"> </a>
	status = DF24setcompress(COMP_JPEG, &amp;compress_info);<a name="wp931608"> </a>
	/* Write the 24-bit image data to file. */<a name="wp931610"> </a>
	status = DF24addimage(&quot;Example2.hdf&quot;, (VOIDP)raster_data, <a name="wp931611"> </a>
					WIDTH, HEIGHT);<a name="wp931612"> </a>
}<a name="wp931614"> </a>
</pre></div>
<a name="wp928489"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: underline; text-indent: 0pt; text-transform: none">
r24_ex3.f
</div>
<div class="pPreformatted" style="font-family: Arial; font-size: 10pt"><pre class="pPreformatted" style="font-family: Arial; font-size: 10pt">
      PROGRAM COMPRESS RIS24<a name="wp930882"> </a>
      integer d2aimg, d2scomp, d2sjpeg, status<a name="wp931624"> </a>
      integer*4 WIDTH, HEIGHT, PIXEL_DEPTH<a name="wp931625"> </a>
      parameter(WIDTH = 3,<a name="wp931626"> </a>
     +          HEIGHT = 5,<a name="wp931627"> </a>
     +          PIXEL_DEPTH = 3)<a name="wp931628"> </a>
      character raster_data(PIXEL_DEPTH, WIDTH, HEIGHT) <a name="wp931629"> </a>
C     Initialize the image array.<a name="wp931631"> </a>
      data raster_data <a name="wp931632"> </a>
     + /  1, 2, 3,  4, 5, 6,  7, 8, 9,  <a name="wp931633"> </a>
     +   10,11,12, 13,14,15, 16,17,18, <a name="wp931634"> </a>
     +   19,20,21, 22,23,24, 25,26,27,  <a name="wp931635"> </a>
     +   28,29,30, 31,32,33, 34,35,36,  <a name="wp931636"> </a>
     +   37,38,39, 40,41,42, 43,44,45  /<a name="wp931637"> </a>
C     Set compression.<a name="wp931639"> </a>
      status = d2scomp(COMP_JPEG)<a name="wp931640"> </a>
C     Set JPEG parameters to quality = 60, and turn compatibility on.<a name="wp931642"> </a>
      status = d2sjpeg(60, 1)<a name="wp931643"> </a>
C     Write the 24-bit image data to the HDF file.<a name="wp931645"> </a>
      status = d2aimg(`Example2.hdf&#39;, raster_data, WIDTH, HEIGHT)<a name="wp931646"> </a>
      end<a name="wp931647"> </a>
</pre></div>
<a name="wp928491"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: underline; text-indent: 0pt; text-transform: none">
r24_ex4.c
</div>
<div class="pPreformatted" style="font-family: Arial; font-size: 10pt"><pre class="pPreformatted" style="font-family: Arial; font-size: 10pt">
#include &quot;hdf.h&quot;<a name="wp931390"> </a>
#define WIDTH 5<a name="wp931661"> </a>
#define HEIGHT 6<a name="wp931662"> </a>
#define PIXEL_DEPTH 3<a name="wp931663"> </a>
main( )<a name="wp931665"> </a>
{<a name="wp931666"> </a>
	uint8 raster_data[PIXEL_DEPTH][HEIGHT][WIDTH];<a name="wp931667"> </a>
	int32 width, height;<a name="wp931668"> </a>
	intn interlace, status;<a name="wp931669"> </a>
	/* Get the image dimensions from the HDF file. */<a name="wp931671"> </a>
	status = DF24getdims(&quot;Example2.hdf&quot;, &amp;width, &amp;height, <a name="wp931672"> </a>
					&amp;interlace);<a name="wp931673"> </a>
	/* <a name="wp931675"> </a>
	* Read raster data if the dimensions are<a name="wp931676"> </a>
	* correct.<a name="wp931677"> </a>
	*/<a name="wp931678"> </a>
	if (width &lt;= WIDTH &amp;&amp; height &lt;= HEIGHT)<a name="wp931679"> </a>
	  status = DF24getimage(&quot;Example2.hdf&quot;, (VOIDP)raster_data, <a name="wp931680"> </a>
					width, height);<a name="wp931681"> </a>
}<a name="wp931682"> </a>
</pre></div>
<a name="wp931710"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: underline; text-indent: 0pt; text-transform: none">
r24_ex4.f
</div>
<div class="pPreformatted" style="font-family: Arial; font-size: 10pt"><pre class="pPreformatted" style="font-family: Arial; font-size: 10pt">
      PROGRAM READ RIS24 <a name="wp931709"> </a>
      integer d2gimg, d2gdims, status, width, height, interlace<a name="wp931768"> </a>
      integer*4 X_LENGTH, Y_LENGTH, PIXEL_DEPTH<a name="wp931769"> </a>
      parameter(X_LENGTH = 5, Y_LENGTH = 6, PIXEL_DEPTH = 3)<a name="wp931770"> </a>
      integer raster_data(PIXEL_DEPTH, X_LENGTH, Y_LENGTH)<a name="wp931771"> </a>
C     Read the dimensions raster image.<a name="wp931773"> </a>
      status = d2gdims(`Example2.hdf&#39;, width, height, interlace)<a name="wp931774"> </a>
C     Read image data from the HDF file if the dimensions are <a name="wp931776"> </a>
C     correct.<a name="wp931777"> </a>
      if (width .eq. X_LENGTH .and. height .eq. Y_LENGTH) then<a name="wp931778"> </a>
       status = d2gimg(`Example2.hdf&#39;, raster_data, width, height)<a name="wp931779"> </a>
      endif<a name="wp931780"> </a>
      end<a name="wp931782"> </a>
</pre></div>
    </blockquote>

    <hr />

    <table id="SummaryNotReq2" border="0" width="850" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left">
        HDF4.2r4 - February 2009<br/>
        <a href="UG_Copyright.html">Copyright</a>
        <td align="right">
          <span style="font-size: 12px; font-weight: bold">
            The HDF Group<br />
          </span>
          <span style="font-size: 12px">
            <a href="http://www.hdfgroup.org">www.hdfgroup.org</a><br />
            <img valign="bottom" border="0" src="images/help.jpg" height="12" alt="The HDF Group" valign="top" />
          </span>
        </td>
      </tr>
    </table>

    <table id="SummaryNotReq3" width="220" border="0" cellpadding="0" cellspacing="0">
    </table>
  </body>
</html>
