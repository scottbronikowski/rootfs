<!?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks Publisher 2003 for FrameMaker 8.0.8.2296" />
    <meta name="TEMPLATEBASE" content="HDF4 Version 1.0" />
    <meta name="LASTUPDATED" content="07/16/09 01:40:32" />
    <title>create_sds.c</title>
    <link rel="StyleSheet" href="document.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" media="all" />
<link rel="first" title="First" href="UGTop.html" />
<link rel="last" title="Last" href="UG_BookIX.html" />
<link rel="previous" title="Previous" href="UG_Utils.html" />
<link rel="next" title="Next" href="Examples_MAN.html" />

    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/seealso.js"></script>

    <script type="text/javascript" language="JavaScript1.2">
     <!--
      var  WebWorksSeeAlso = new WebWorksSeeAlso_Object();
     // -->
    </script>
  </head>

  <body>

    <p>
    <table id="SummaryNotReq1" border="0" width="850"cellspacing="0" cellpadding="0">
      <tr>
        <td align="left">
          <a href="http://www.hdfgroup.org"><img id="LongDescNotReq1" border="0" src="images/hdf_logo.jpg" width="90" height="70" alt="The HDF Group" valign="top" /></a>
        </td>
        <td valign="middle" align="center">
          <b><H1>HDF User’s Guide</H1>
           Version 4.2r4</b><br />
        </td>
        <td valign="middle" align="right">
        <br/>
<b><a HREF="UGTOP.html">[Top]</a>
<a accesskey="3" href="UG_Utils.html"><b>[Prev]</b><a accesskey="4" href="Examples_MAN.html"><b>[Next]</b></b>
        </td>
      </tr>
    </table>
    </p>
    <hr />

    <blockquote>
<a name="wp929000"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
create_sds.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp929721"> </a>
#define FILE_NAME     &quot;SDS.hdf&quot; <a name="wp933507"> </a>
#define SDS_NAME      &quot;SDStemplate&quot; <a name="wp933508"> </a>
#define X_LENGTH      5<a name="wp933509"> </a>
#define Y_LENGTH      16<a name="wp933510"> </a>
#define RANK          2  /* Number of dimensions of the SDS */<a name="wp933511"> </a>
main( ) <a name="wp933513"> </a>
{<a name="wp933514"> </a>
   /************************* Variable declaration **************************/<a name="wp933515"> </a>
   int32 sd_id, sds_id;     /* SD interface and data set identifiers */<a name="wp933517"> </a>
   int32 dim_sizes[2];      /* sizes of the SDS dimensions */<a name="wp933518"> </a>
   intn  status;            /* status returned by some routines; has value<a name="wp933519"> </a>
                               SUCCEED or FAIL */<a name="wp933520"> </a>
   /********************* End of variable declaration ***********************/<a name="wp933522"> </a>
   /*<a name="wp933524"> </a>
   * Create the file and initialize the SD interface.<a name="wp933525"> </a>
   */<a name="wp933526"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_CREATE);<a name="wp933527"> </a>
   /*<a name="wp933529"> </a>
   * Define the dimensions of the array to be created.<a name="wp933530"> </a>
   */<a name="wp933531"> </a>
   dim_sizes[0] = Y_LENGTH;<a name="wp933532"> </a>
   dim_sizes[1] = X_LENGTH;<a name="wp933533"> </a>
   /*<a name="wp933535"> </a>
   * Create the data set with the name defined in SDS_NAME. Note that <a name="wp933536"> </a>
   * DFNT_INT32 indicates that the SDS data is of type int32. Refer to<a name="wp933537"> </a>
   * Table 2E for definitions of other types. <a name="wp933538"> </a>
   */<a name="wp933539"> </a>
   sds_id = SDcreate (sd_id, SDS_NAME, DFNT_INT32, RANK, dim_sizes);<a name="wp933540"> </a>
   /*<a name="wp933542"> </a>
   * Terminate access to the data set.<a name="wp933543"> </a>
   */<a name="wp933544"> </a>
   status = SDendaccess (sds_id);<a name="wp933545"> </a>
   /*<a name="wp933547"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp933548"> </a>
   */<a name="wp933549"> </a>
   status = SDend (sd_id);<a name="wp933550"> </a>
}<a name="wp933551"> </a>
</pre></div>
<a name="wp929641"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
create_sds.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  create_SDS <a name="wp929791"> </a>
      implicit none<a name="wp933560"> </a>
C<a name="wp933561"> </a>
C     Parameter declaration.<a name="wp933562"> </a>
C<a name="wp933563"> </a>
      character*7  FILE_NAME<a name="wp933564"> </a>
      character*11 SDS_NAME<a name="wp933565"> </a>
      integer      X_LENGTH, Y_LENGTH, RANK<a name="wp933566"> </a>
      parameter   (FILE_NAME = &#39;SDS.hdf&#39;,<a name="wp933567"> </a>
     +             SDS_NAME = &#39;SDStemplate&#39;,<a name="wp933568"> </a>
     +             X_LENGTH = 5,<a name="wp933569"> </a>
     +             Y_LENGTH = 16,<a name="wp933570"> </a>
     +             RANK     = 2)<a name="wp933571"> </a>
      integer      DFACC_CREATE, DFNT_INT32<a name="wp933572"> </a>
      parameter   (DFACC_CREATE = 4,<a name="wp933573"> </a>
     +             DFNT_INT32 = 24)<a name="wp933574"> </a>
C<a name="wp933575"> </a>
C     Function declaration.<a name="wp933576"> </a>
C<a name="wp933577"> </a>
      integer sfstart, sfcreate, sfendacc, sfend<a name="wp933578"> </a>
C<a name="wp933579"> </a>
C**** Variable declaration *******************************************<a name="wp933580"> </a>
C<a name="wp933581"> </a>
      integer sd_id, sds_id, dim_sizes(2)<a name="wp933582"> </a>
      integer status<a name="wp933583"> </a>
C<a name="wp933584"> </a>
C**** End of variable declaration ************************************<a name="wp933585"> </a>
C<a name="wp933586"> </a>
C<a name="wp933587"> </a>
C     Create the file and initialize the SD interface.<a name="wp933588"> </a>
C<a name="wp933589"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_CREATE)<a name="wp933590"> </a>
C<a name="wp933591"> </a>
C     Define dimensions of the array to be created.<a name="wp933592"> </a>
C<a name="wp933593"> </a>
      dim_sizes(1) = X_LENGTH<a name="wp933594"> </a>
      dim_sizes(2) = Y_LENGTH<a name="wp933595"> </a>
C<a name="wp933596"> </a>
C     Create the array with the name defined in SDS_NAME.<a name="wp933597"> </a>
C     Note that DFNT_INT32 indicates that the SDS data is of type<a name="wp933598"> </a>
C     integer. Refer to Tables 2E and 2I for the definition of other types.  <a name="wp933599"> </a>
C<a name="wp933600"> </a>
      sds_id = sfcreate(sd_id, SDS_NAME, DFNT_INT32, RANK, <a name="wp933601"> </a>
     .                  dim_sizes)<a name="wp933602"> </a>
C<a name="wp933603"> </a>
C     Terminate access to the data set.<a name="wp933604"> </a>
C<a name="wp933605"> </a>
      status = sfendacc(sds_id)<a name="wp933606"> </a>
C<a name="wp933607"> </a>
C     Terminate access to the SD interface and close the file.<a name="wp933608"> </a>
C<a name="wp933609"> </a>
      status = sfend(sd_id)<a name="wp933610"> </a>
      end<a name="wp933612"> </a>
</pre></div>
<a name="wp929010"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
write_to_sds.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp929109"> </a>
#define FILE_NAME     &quot;SDS.hdf&quot;<a name="wp933622"> </a>
#define X_LENGTH      5<a name="wp933623"> </a>
#define Y_LENGTH      16<a name="wp933624"> </a>
main( ) <a name="wp933626"> </a>
{<a name="wp933627"> </a>
   /************************* Variable declaration **************************/<a name="wp933628"> </a>
   int32 sd_id, sds_id, sds_index;<a name="wp933630"> </a>
   intn  status;<a name="wp933631"> </a>
   int32 start[2], edges[2];<a name="wp933632"> </a>
   int32 data[Y_LENGTH][X_LENGTH];<a name="wp933633"> </a>
   int   i, j;<a name="wp933634"> </a>
   /********************* End of variable declaration ***********************/<a name="wp933636"> </a>
   /*<a name="wp933638"> </a>
   * Data set data initialization.<a name="wp933639"> </a>
   */<a name="wp933640"> </a>
   for (j = 0; j &lt; Y_LENGTH; j++) {<a name="wp933641"> </a>
       for (i = 0; i &lt; X_LENGTH; i++)<a name="wp933642"> </a>
            data[j][i] = (i + j) + 1;<a name="wp933643"> </a>
   }<a name="wp933644"> </a>
   /*<a name="wp933646"> </a>
   * Open the file and initialize the SD interface.<a name="wp933647"> </a>
   */<a name="wp933648"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_WRITE);<a name="wp933649"> </a>
   /*<a name="wp933651"> </a>
   * Attach to the first data set.<a name="wp933652"> </a>
   */ <a name="wp933653"> </a>
   sds_index = 0;<a name="wp933654"> </a>
   sds_id = SDselect (sd_id, sds_index);<a name="wp933655"> </a>
   /* <a name="wp933657"> </a>
   * Define the location and size of the data to be written to the data set.<a name="wp933658"> </a>
   */<a name="wp933659"> </a>
   start[0] = 0;<a name="wp933660"> </a>
   start[1] = 0;<a name="wp933661"> </a>
   edges[0] = Y_LENGTH;<a name="wp933662"> </a>
   edges[1] = X_LENGTH;<a name="wp933663"> </a>
   /*<a name="wp933665"> </a>
   * Write the stored data to the data set. The third argument is set to NULL<a name="wp933666"> </a>
   * to specify contiguous data elements. The last argument must<a name="wp933667"> </a>
   * be explicitly cast to a generic pointer since SDwritedata is designed<a name="wp933668"> </a>
   * to write generic data. <a name="wp933669"> </a>
   */<a name="wp933670"> </a>
   status = SDwritedata (sds_id, start, NULL, edges, (VOIDP)data);<a name="wp933671"> </a>
   /*<a name="wp933673"> </a>
   * Terminate access to the data set.<a name="wp933674"> </a>
   */<a name="wp933675"> </a>
   status = SDendaccess (sds_id);<a name="wp933676"> </a>
   /*<a name="wp933678"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp933679"> </a>
   */<a name="wp933680"> </a>
   status = SDend (sd_id);<a name="wp933681"> </a>
}<a name="wp933682"> </a>
</pre></div>
<a name="wp929118"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
write_to_sds.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  write_data<a name="wp929361"> </a>
      implicit none<a name="wp933692"> </a>
C<a name="wp933693"> </a>
C     Parameter declaration.<a name="wp933694"> </a>
C<a name="wp933695"> </a>
      character*7  FILE_NAME<a name="wp933696"> </a>
      character*11 SDS_NAME<a name="wp933697"> </a>
      integer      X_LENGTH, Y_LENGTH, RANK<a name="wp933698"> </a>
      parameter   (FILE_NAME = &#39;SDS.hdf&#39;,<a name="wp933699"> </a>
     +             SDS_NAME = &#39;SDStemplate&#39;,<a name="wp933700"> </a>
     +             X_LENGTH = 5,<a name="wp933701"> </a>
     +             Y_LENGTH = 16,<a name="wp933702"> </a>
     +             RANK     = 2)<a name="wp933703"> </a>
      integer      DFACC_WRITE, DFNT_INT32<a name="wp933704"> </a>
      parameter   (DFACC_WRITE = 2,<a name="wp933705"> </a>
     +             DFNT_INT32 = 24)<a name="wp933706"> </a>
C<a name="wp933707"> </a>
C     Function declaration.<a name="wp933708"> </a>
C<a name="wp933709"> </a>
      integer sfstart, sfselect, sfwdata, sfendacc, sfend<a name="wp933711"> </a>
C<a name="wp933712"> </a>
C**** Variable declaration *******************************************<a name="wp933713"> </a>
C<a name="wp933714"> </a>
      integer sd_id, sds_id, sds_index, status<a name="wp933715"> </a>
      integer start(2), edges(2), stride(2)<a name="wp933716"> </a>
      integer i, j<a name="wp933717"> </a>
      integer data(X_LENGTH, Y_LENGTH)<a name="wp933718"> </a>
C<a name="wp933719"> </a>
C**** End of variable declaration ************************************<a name="wp933720"> </a>
C<a name="wp933721"> </a>
C<a name="wp933723"> </a>
C     Data set data initialization. <a name="wp933724"> </a>
C<a name="wp933725"> </a>
      do 20 j = 1, Y_LENGTH<a name="wp933726"> </a>
         do 10 i = 1, X_LENGTH<a name="wp933727"> </a>
            data(i, j) = i + j - 1<a name="wp933728"> </a>
10         continue<a name="wp933729"> </a>
20    continue<a name="wp933730"> </a>
C<a name="wp933732"> </a>
C     Open the file and initialize the SD interface.<a name="wp933733"> </a>
C<a name="wp933734"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_WRITE)<a name="wp933735"> </a>
C<a name="wp933737"> </a>
C     Attach to the first data set.<a name="wp933738"> </a>
C<a name="wp933739"> </a>
      sds_index = 0<a name="wp933740"> </a>
      sds_id = sfselect(sd_id, sds_index)<a name="wp933741"> </a>
C<a name="wp933743"> </a>
C     Define the location and size of the data to be written<a name="wp933744"> </a>
C     to the data set. Note that setting values of the array stride to 1<a name="wp933745"> </a>
C     specifies the contiguous writing of data.<a name="wp933746"> </a>
C<a name="wp933747"> </a>
      start(1) = 0<a name="wp933748"> </a>
      start(2) = 0<a name="wp933749"> </a>
      edges(1) = X_LENGTH<a name="wp933750"> </a>
      edges(2) = Y_LENGTH<a name="wp933751"> </a>
      stride(1) = 1<a name="wp933752"> </a>
      stride(2) = 1<a name="wp933753"> </a>
C<a name="wp933754"> </a>
C     Write the stored data to the data set named in SDS_NAME.<a name="wp933755"> </a>
C     Note that the routine sfwdata is used instead of sfwcdata <a name="wp933756"> </a>
C     to write the numeric data.<a name="wp933757"> </a>
C<a name="wp933758"> </a>
      status = sfwdata(sds_id, start, stride, edges, data)<a name="wp933759"> </a>
C<a name="wp933760"> </a>
C     Terminate access to the data set.<a name="wp933761"> </a>
C<a name="wp933762"> </a>
      status = sfendacc(sds_id)<a name="wp933763"> </a>
C<a name="wp933764"> </a>
C     Terminate access to the SD interface and close the file.<a name="wp933765"> </a>
C<a name="wp933766"> </a>
      status = sfend(sd_id)<a name="wp933767"> </a>
      end<a name="wp933769"> </a>
</pre></div>
<a name="wp929634"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
write_slab.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp930835"> </a>
#define FILE_NAME     &quot;SLABS.hdf&quot;<a name="wp933779"> </a>
#define SDS_NAME      &quot;FilledBySlabs&quot;<a name="wp933780"> </a>
#define X_LENGTH      4<a name="wp933781"> </a>
#define Y_LENGTH      5<a name="wp933782"> </a>
#define Z_LENGTH      6<a name="wp933783"> </a>
#define RANK          3  <a name="wp933784"> </a>
main( ) <a name="wp933786"> </a>
{<a name="wp933787"> </a>
   /************************* Variable declaration **************************/<a name="wp933788"> </a>
   int32 sd_id, sds_id;<a name="wp933790"> </a>
   intn  status;<a name="wp933791"> </a>
   int32 dim_sizes[3], start[3], edges[3];<a name="wp933792"> </a>
   int32 data[Z_LENGTH][Y_LENGTH][X_LENGTH];<a name="wp933793"> </a>
   int32 zx_data[Z_LENGTH][X_LENGTH];<a name="wp933794"> </a>
   int   i, j, k;<a name="wp933795"> </a>
 <a name="wp933796"> </a>
   /********************* End of variable declaration ***********************/<a name="wp933797"> </a>
   /*<a name="wp933799"> </a>
   * Data initialization. <a name="wp933800"> </a>
   */<a name="wp933801"> </a>
   for (k = 0; k &lt; Z_LENGTH; k++)<a name="wp933802"> </a>
       for (j = 0; j &lt; Y_LENGTH; j++)<a name="wp933803"> </a>
           for (i = 0; i &lt; X_LENGTH; i++)<a name="wp933804"> </a>
               data[k][j][i] = (i + 1) + (j + 1) + (k + 1);<a name="wp933805"> </a>
   /*<a name="wp933807"> </a>
   * Create the file and initialize the SD interface.<a name="wp933808"> </a>
   */<a name="wp933809"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_CREATE);<a name="wp933810"> </a>
   /*<a name="wp933812"> </a>
   * Define dimensions of the array to be created.<a name="wp933813"> </a>
   */<a name="wp933814"> </a>
   dim_sizes[0] = Z_LENGTH;<a name="wp933815"> </a>
   dim_sizes[1] = Y_LENGTH;<a name="wp933816"> </a>
   dim_sizes[2] = X_LENGTH;<a name="wp933817"> </a>
   /*<a name="wp933819"> </a>
   * Create the array with the name defined in SDS_NAME.<a name="wp933820"> </a>
   */<a name="wp933821"> </a>
   sds_id = SDcreate (sd_id, SDS_NAME, DFNT_INT32, RANK, dim_sizes);<a name="wp933822"> </a>
   /*<a name="wp933824"> </a>
   * Set the parameters start and edges to write  <a name="wp933825"> </a>
   * a 6x4 element slab of data to the data set; note<a name="wp933826"> </a>
   * that edges[1] is set to 1 to define a 2-dimensional slab<a name="wp933827"> </a>
   * parallel to the ZX plane.  <a name="wp933828"> </a>
   * start[1] (slab position in the array) is initialized inside<a name="wp933829"> </a>
   * the for loop.<a name="wp933830"> </a>
   */<a name="wp933831"> </a>
   edges[0] = Z_LENGTH;<a name="wp933832"> </a>
   edges[1] = 1;<a name="wp933833"> </a>
   edges[2] = X_LENGTH;<a name="wp933834"> </a>
   start[0] = start[2] = 0;<a name="wp933835"> </a>
   for (j = 0; j &lt; Y_LENGTH; j++)<a name="wp933836"> </a>
   {<a name="wp933837"> </a>
       start[1] = j;<a name="wp933838"> </a>
    <a name="wp933839"> </a>
       /*<a name="wp933840"> </a>
       * Initialize zx_data buffer (data slab).<a name="wp933841"> </a>
       */ <a name="wp933842"> </a>
       for ( k = 0; k &lt; Z_LENGTH; k++)<a name="wp933843"> </a>
       {<a name="wp933844"> </a>
           for ( i = 0; i &lt; X_LENGTH; i++)<a name="wp933845"> </a>
           {<a name="wp933846"> </a>
                 zx_data[k][i] = data[k][j][i];<a name="wp933847"> </a>
           }<a name="wp933848"> </a>
   }<a name="wp933849"> </a>
   /*<a name="wp933851"> </a>
   * Write the data slab into the SDS array defined in SDS_NAME. <a name="wp933852"> </a>
   * Note that the 3rd parameter is NULL which indicates that consecutive<a name="wp933853"> </a>
   * slabs in the Y direction are written.<a name="wp933854"> </a>
   */<a name="wp933855"> </a>
   status = SDwritedata (sds_id, start, NULL, edges, (VOIDP)zx_data); <a name="wp933856"> </a>
   }<a name="wp933857"> </a>
   /*<a name="wp933859"> </a>
   * Terminate access to the data set.<a name="wp933860"> </a>
   */ <a name="wp933861"> </a>
   status = SDendaccess (sds_id);<a name="wp933862"> </a>
    <a name="wp933863"> </a>
   /*<a name="wp933864"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp933865"> </a>
   */<a name="wp933866"> </a>
   status = SDend (sd_id);<a name="wp933867"> </a>
}<a name="wp933868"> </a>
</pre></div>
<a name="wp930836"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
write_slab.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  write_slab<a name="wp929603"> </a>
      implicit none<a name="wp933877"> </a>
C<a name="wp933878"> </a>
C     Parameter declaration.<a name="wp933879"> </a>
C<a name="wp933880"> </a>
      character*9  FILE_NAME<a name="wp933881"> </a>
      character*13 SDS_NAME<a name="wp933882"> </a>
      integer      X_LENGTH, Y_LENGTH, Z_LENGTH, RANK<a name="wp933883"> </a>
      parameter   (FILE_NAME = &#39;SLABS.hdf&#39;,<a name="wp933884"> </a>
     +             SDS_NAME = &#39;FilledBySlabs&#39;,<a name="wp933885"> </a>
     +             X_LENGTH = 4,<a name="wp933886"> </a>
     +             Y_LENGTH = 5,<a name="wp933887"> </a>
     +             Z_LENGTH = 6,<a name="wp933888"> </a>
     +             RANK     = 3)<a name="wp933889"> </a>
      integer      DFACC_CREATE, DFNT_INT32<a name="wp933890"> </a>
      parameter   (DFACC_CREATE = 4,<a name="wp933891"> </a>
     +             DFNT_INT32 = 24)<a name="wp933892"> </a>
C<a name="wp933893"> </a>
C     Function declaration.<a name="wp933894"> </a>
C<a name="wp933895"> </a>
      integer sfstart, sfcreate, sfwdata, sfendacc, sfend<a name="wp933896"> </a>
C<a name="wp933897"> </a>
C**** Variable declaration *******************************************<a name="wp933898"> </a>
C<a name="wp933899"> </a>
      integer sd_id, sds_id<a name="wp933900"> </a>
      integer dim_sizes(3), start(3), edges(3), stride(3)<a name="wp933901"> </a>
      integer i, j, k, status<a name="wp933902"> </a>
      integer data(X_LENGTH, Y_LENGTH, Z_LENGTH)<a name="wp933903"> </a>
      integer xz_data(X_LENGTH, Z_LENGTH)<a name="wp933904"> </a>
C<a name="wp933905"> </a>
C**** End of variable declaration ************************************<a name="wp933906"> </a>
C<a name="wp933907"> </a>
C<a name="wp933908"> </a>
C     Data initialization.<a name="wp933909"> </a>
C<a name="wp933910"> </a>
      do 30 k = 1, Z_LENGTH<a name="wp933911"> </a>
         do 20 j = 1, Y_LENGTH<a name="wp933912"> </a>
            do 10 i = 1, X_LENGTH<a name="wp933913"> </a>
               data(i, j, k) = i + j + k <a name="wp933914"> </a>
10            continue<a name="wp933915"> </a>
20         continue<a name="wp933916"> </a>
30    continue<a name="wp933917"> </a>
C<a name="wp933918"> </a>
C     Create the file and initialize the SD interface.<a name="wp933919"> </a>
C<a name="wp933920"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_CREATE)<a name="wp933921"> </a>
C<a name="wp933922"> </a>
C     Define dimensions of the array to be created. <a name="wp933923"> </a>
C<a name="wp933924"> </a>
      dim_sizes(1) = X_LENGTH   <a name="wp933925"> </a>
      dim_sizes(2) = Y_LENGTH   <a name="wp933926"> </a>
      dim_sizes(3) = Z_LENGTH   <a name="wp933927"> </a>
C<a name="wp933928"> </a>
C     Create the data set with the name defined in SDS_NAME. <a name="wp933929"> </a>
C<a name="wp933930"> </a>
      sds_id = sfcreate(sd_id, SDS_NAME, DFNT_INT32, RANK, <a name="wp933931"> </a>
     .                  dim_sizes)<a name="wp933932"> </a>
C<a name="wp933933"> </a>
C     Set the parameters start and edges to write <a name="wp933934"> </a>
C     a 4x6 element slab of data to the data set;<a name="wp933935"> </a>
C     note that edges(2) is set to 1 to define a 2 dimensional slab<a name="wp933936"> </a>
C     parallel to the XZ plane;<a name="wp933937"> </a>
C     start(2) (slab position in the array) is initialized inside the<a name="wp933938"> </a>
C     for loop.<a name="wp933939"> </a>
C <a name="wp933940"> </a>
      edges(1) = X_LENGTH<a name="wp933941"> </a>
      edges(2) = 1<a name="wp933942"> </a>
      edges(3) = Z_LENGTH<a name="wp933943"> </a>
      start(1) = 0 <a name="wp933944"> </a>
      start(3) = 0<a name="wp933945"> </a>
      stride(1) = 1<a name="wp933946"> </a>
      stride(2) = 1<a name="wp933947"> </a>
      stride(3) = 1<a name="wp933948"> </a>
      do 60 j = 1, Y_LENGTH<a name="wp933950"> </a>
       start(2) = j - 1 <a name="wp933951"> </a>
C<a name="wp933952"> </a>
C     Initialize the buffer xz_data (data slab).<a name="wp933953"> </a>
C<a name="wp933954"> </a>
       do 50 k = 1, Z_LENGTH<a name="wp933955"> </a>
        do 40 i = 1, X_LENGTH<a name="wp933956"> </a>
         xz_data(i, k) = data(i, j, k)<a name="wp933957"> </a>
40      continue<a name="wp933958"> </a>
50     continue<a name="wp933959"> </a>
C<a name="wp933960"> </a>
C     Write the data slab into SDS array defined in SDS_NAME. <a name="wp933961"> </a>
C     Note that the elements of array stride are set to 1 to<a name="wp933962"> </a>
C     specify that the consecutive slabs in the Y direction are written.<a name="wp933963"> </a>
C<a name="wp933964"> </a>
         status = sfwdata(sds_id, start, stride, edges, xz_data)<a name="wp933965"> </a>
60    continue<a name="wp933966"> </a>
C<a name="wp933967"> </a>
C     Terminate access to the data set. <a name="wp933968"> </a>
C<a name="wp933969"> </a>
      status = sfendacc(sds_id)<a name="wp933970"> </a>
C<a name="wp933971"> </a>
C     Terminate access to the SD interface and close the file. <a name="wp933972"> </a>
C<a name="wp933973"> </a>
      status = sfend(sd_id)<a name="wp933974"> </a>
      end<a name="wp933976"> </a>
</pre></div>
<a name="wp929804"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
alter_sds_values.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp929914"> </a>
#define FILE_NAME     &quot;SDS.hdf&quot;<a name="wp933986"> </a>
main( ) <a name="wp933988"> </a>
{<a name="wp933989"> </a>
   /************************* Variable declaration **************************/<a name="wp933990"> </a>
   int32 sd_id, sds_id, sds_index;<a name="wp933992"> </a>
   intn  status;<a name="wp933993"> </a>
   int32 start[2], edges[2];<a name="wp933994"> </a>
   int32 new_data[2];<a name="wp933995"> </a>
   int   i, j;<a name="wp933996"> </a>
   /********************* End of variable declaration ***********************/<a name="wp933998"> </a>
   /* <a name="wp933999"> </a>
   * Open the file and initialize the SD interface with write access.<a name="wp934000"> </a>
   */<a name="wp934001"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_WRITE);<a name="wp934002"> </a>
   /*<a name="wp934004"> </a>
   * Select the first data set.<a name="wp934005"> </a>
   */<a name="wp934006"> </a>
   sds_index = 0;<a name="wp934007"> </a>
   sds_id = SDselect (sd_id, sds_index);<a name="wp934008"> </a>
   /*<a name="wp934010"> </a>
   * Set up the start and edge parameters to write new element values<a name="wp934011"> </a>
   * into 10th row, 2nd column place, and 11th row, 2nd column place. <a name="wp934012"> </a>
   */<a name="wp934013"> </a>
   start[0] = 9;     /* starting at 10th row   */<a name="wp934014"> </a>
   start[1] = 1;     /* starting at 2nd column */<a name="wp934015"> </a>
   edges[0] = 2;     /* rows 10th and 11th     */<a name="wp934016"> </a>
   edges[1] = 1;     /* column 2nd only        */<a name="wp934017"> </a>
       <a name="wp934018"> </a>
   /*<a name="wp934019"> </a>
   * Initialize buffer with the new values to be written.<a name="wp934020"> </a>
   */<a name="wp934021"> </a>
   new_data[0] = new_data[1] = 1000; <a name="wp934022"> </a>
        <a name="wp934023"> </a>
   /*<a name="wp934024"> </a>
   * Write the new values. <a name="wp934025"> </a>
   */<a name="wp934026"> </a>
   status = SDwritedata (sds_id, start, NULL, edges, (VOIDP)new_data);<a name="wp934027"> </a>
   /*<a name="wp934029"> </a>
   * Terminate access to the data set.<a name="wp934030"> </a>
   */ <a name="wp934031"> </a>
   status = SDendaccess (sds_id);<a name="wp934032"> </a>
   /*<a name="wp934034"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp934035"> </a>
   */<a name="wp934036"> </a>
   status = SDend (sd_id);<a name="wp934037"> </a>
}<a name="wp934038"> </a>
</pre></div>
<a name="wp929915"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
alter_sds_values.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  alter_data<a name="wp930040"> </a>
      implicit none<a name="wp934048"> </a>
C<a name="wp934049"> </a>
C     Parameter declaration.<a name="wp934050"> </a>
C<a name="wp934051"> </a>
      character*7  FILE_NAME<a name="wp934052"> </a>
      integer      DFACC_WRITE<a name="wp934053"> </a>
      parameter   (FILE_NAME = &#39;SDS.hdf&#39;,<a name="wp934054"> </a>
     +             DFACC_WRITE = 2)<a name="wp934055"> </a>
C<a name="wp934056"> </a>
C     Function declaration.<a name="wp934057"> </a>
C<a name="wp934058"> </a>
      integer sfstart, sfselect, sfwdata, sfendacc, sfend<a name="wp934059"> </a>
C<a name="wp934060"> </a>
C**** Variable declaration *******************************************<a name="wp934061"> </a>
C<a name="wp934062"> </a>
      integer sd_id, sds_id, sds_index<a name="wp934063"> </a>
      integer start(2), edges(2), stride(2)<a name="wp934064"> </a>
      integer status<a name="wp934065"> </a>
      integer new_data(2) <a name="wp934066"> </a>
C<a name="wp934067"> </a>
C**** End of variable declaration ************************************<a name="wp934068"> </a>
C<a name="wp934069"> </a>
C<a name="wp934071"> </a>
C     Open the file and initialize the SD interface.<a name="wp934072"> </a>
C<a name="wp934073"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_WRITE)<a name="wp934074"> </a>
C<a name="wp934075"> </a>
C     Select the first data set.<a name="wp934076"> </a>
C     <a name="wp934077"> </a>
      sds_index = 0<a name="wp934078"> </a>
      sds_id = sfselect(sd_id, sds_index)<a name="wp934079"> </a>
C<a name="wp934081"> </a>
C     Initialize the start, edge, and stride parameters to write <a name="wp934082"> </a>
C     two elements into 2nd row, 10th column and 11th column places.<a name="wp934083"> </a>
C     <a name="wp934084"> </a>
C     Specify 2nd row.<a name="wp934085"> </a>
C<a name="wp934086"> </a>
      start(1) = 1 <a name="wp934087"> </a>
C<a name="wp934088"> </a>
C     Specify 10th column.<a name="wp934089"> </a>
C<a name="wp934090"> </a>
      start(2) = 9 <a name="wp934091"> </a>
      edges(1) = 1 <a name="wp934092"> </a>
C<a name="wp934093"> </a>
C     Two elements are written along 2nd row.<a name="wp934094"> </a>
C<a name="wp934095"> </a>
      edges(2) = 2 <a name="wp934096"> </a>
      stride(1) = 1<a name="wp934097"> </a>
      stride(2) = 1<a name="wp934098"> </a>
C<a name="wp934099"> </a>
C     Initialize the new values to be written.<a name="wp934100"> </a>
C<a name="wp934101"> </a>
      new_data(1) = 1000<a name="wp934102"> </a>
      new_data(2) = 1000<a name="wp934103"> </a>
C<a name="wp934104"> </a>
C     Write the new values. <a name="wp934105"> </a>
C<a name="wp934106"> </a>
      status = sfwdata(sds_id, start, stride, edges, new_data)<a name="wp934107"> </a>
C<a name="wp934108"> </a>
C     Terminate access to the data set.<a name="wp934109"> </a>
C<a name="wp934110"> </a>
      status = sfendacc(sds_id)<a name="wp934111"> </a>
C<a name="wp934112"> </a>
C     Terminate access to the SD interface and close the file.<a name="wp934113"> </a>
C<a name="wp934114"> </a>
      status = sfend(sd_id)<a name="wp934115"> </a>
      end<a name="wp934117"> </a>
</pre></div>
<a name="wp930058"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
unlimited_sds.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp930168"> </a>
#define FILE_NAME     &quot;SDSUNLIMITED.hdf&quot;<a name="wp934128"> </a>
#define SDS_NAME      &quot;AppendableData&quot;<a name="wp934129"> </a>
#define X_LENGTH      10<a name="wp934130"> </a>
#define Y_LENGTH      10<a name="wp934131"> </a>
#define RANK          2<a name="wp934132"> </a>
main( ) <a name="wp934134"> </a>
{<a name="wp934135"> </a>
   /************************* Variable declaration **************************/<a name="wp934136"> </a>
   int32 sd_id, sds_id, sds_index;<a name="wp934138"> </a>
   intn  status;<a name="wp934139"> </a>
   int32 dim_sizes[2];<a name="wp934140"> </a>
   int32 data[Y_LENGTH][X_LENGTH], append_data[X_LENGTH];<a name="wp934141"> </a>
   int32 start[2], edges[2];<a name="wp934142"> </a>
   int   i, j;<a name="wp934143"> </a>
   /********************* End of variable declaration ***********************/<a name="wp934145"> </a>
   /*<a name="wp934147"> </a>
   * Data initialization.<a name="wp934148"> </a>
   */<a name="wp934149"> </a>
   for (j = 0; j &lt; Y_LENGTH; j++) <a name="wp934150"> </a>
   {<a name="wp934151"> </a>
       for (i = 0; i &lt; X_LENGTH; i++)<a name="wp934152"> </a>
           data[j][i] = (i + 1) + (j + 1);<a name="wp934153"> </a>
   }<a name="wp934154"> </a>
   /*<a name="wp934156"> </a>
   * Create the file and initialize the SD interface.<a name="wp934157"> </a>
   */<a name="wp934158"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_CREATE);<a name="wp934159"> </a>
   /*<a name="wp934161"> </a>
   * Define dimensions of the array. Make the first dimension <a name="wp934162"> </a>
   * appendable by defining its length to be unlimited.<a name="wp934163"> </a>
   */<a name="wp934164"> </a>
   dim_sizes[0] = SD_UNLIMITED;<a name="wp934165"> </a>
   dim_sizes[1] = X_LENGTH;<a name="wp934166"> </a>
   /*<a name="wp934168"> </a>
   * Create the array data set.<a name="wp934169"> </a>
   */<a name="wp934170"> </a>
   sds_id = SDcreate (sd_id, SDS_NAME, DFNT_INT32, RANK, dim_sizes);<a name="wp934171"> </a>
   /*<a name="wp934173"> </a>
   * Define the location and the size of the data to be written <a name="wp934174"> </a>
   * to the data set. <a name="wp934175"> </a>
   */<a name="wp934176"> </a>
   start[0] = start[1] = 0;<a name="wp934177"> </a>
   edges[0] = Y_LENGTH;<a name="wp934178"> </a>
   edges[1] = X_LENGTH;<a name="wp934179"> </a>
   /*<a name="wp934181"> </a>
   * Write the data. <a name="wp934182"> </a>
   */<a name="wp934183"> </a>
   status = SDwritedata (sds_id, start, NULL, edges, (VOIDP)data);<a name="wp934184"> </a>
   /*<a name="wp934186"> </a>
   * Terminate access to the array data set, terminate access <a name="wp934187"> </a>
   * to the SD interface, and close the file.<a name="wp934188"> </a>
   */<a name="wp934189"> </a>
   status = SDendaccess (sds_id);<a name="wp934190"> </a>
   status = SDend (sd_id);<a name="wp934191"> </a>
   /*<a name="wp934193"> </a>
   * Store the array values to be appended to the data set.<a name="wp934194"> </a>
   */<a name="wp934195"> </a>
   for (i = 0; i &lt; X_LENGTH; i++)<a name="wp934196"> </a>
       append_data[i] = 1000 + i;<a name="wp934197"> </a>
   /*<a name="wp934199"> </a>
   * Reopen the file and initialize the SD interface.<a name="wp934200"> </a>
   */<a name="wp934201"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_WRITE);<a name="wp934202"> </a>
   /*<a name="wp934204"> </a>
   * Select the first data set. <a name="wp934205"> </a>
   */ <a name="wp934206"> </a>
   sds_index = 0; <a name="wp934207"> </a>
   sds_id = SDselect (sd_id, sds_index);<a name="wp934208"> </a>
 <a name="wp934209"> </a>
   /*  <a name="wp934210"> </a>
   * Check if selected SDS is unlimited. If it is not, then terminate access<a name="wp934211"> </a>
   * to the SD interface and close the file. <a name="wp934212"> </a>
   */<a name="wp934213"> </a>
   if ( SDisrecord (sds_id) ) <a name="wp934214"> </a>
   {<a name="wp934215"> </a>
   /*<a name="wp934217"> </a>
   * Define the location of the append to start at the first column <a name="wp934218"> </a>
   * of the 11th row of the data set and to stop at the end of the<a name="wp934219"> </a>
   * eleventh row.<a name="wp934220"> </a>
   */<a name="wp934221"> </a>
   start[0] = Y_LENGTH;<a name="wp934222"> </a>
   start[1] = 0;<a name="wp934223"> </a>
   edges[0] = 1;<a name="wp934224"> </a>
   edges[1] = X_LENGTH;<a name="wp934225"> </a>
   /*<a name="wp934227"> </a>
   * Append data to the data set.<a name="wp934228"> </a>
   */<a name="wp934229"> </a>
   status = SDwritedata (sds_id, start, NULL, edges, (VOIDP)append_data);<a name="wp934230"> </a>
   }<a name="wp934231"> </a>
   /*<a name="wp934233"> </a>
   * Terminate access to the data set.<a name="wp934234"> </a>
   */<a name="wp934235"> </a>
   status = SDendaccess (sds_id);<a name="wp934236"> </a>
   /*<a name="wp934238"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp934239"> </a>
   */<a name="wp934240"> </a>
   status = SDend (sd_id);<a name="wp934241"> </a>
}<a name="wp934242"> </a>
</pre></div>
<a name="wp930169"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
unlimited_sds.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program append_sds<a name="wp930294"> </a>
      implicit none<a name="wp934255"> </a>
C<a name="wp934256"> </a>
C     Parameter declaration.<a name="wp934257"> </a>
C<a name="wp934258"> </a>
      character*16  FILE_NAME<a name="wp934259"> </a>
      character*14  SDS_NAME<a name="wp934260"> </a>
      integer       X_LENGTH, Y_LENGTH, RANK<a name="wp934261"> </a>
      parameter    (FILE_NAME = &#39;SDSUNLIMITED.hdf&#39;,<a name="wp934262"> </a>
     +              SDS_NAME = &#39;AppendableData&#39;,<a name="wp934263"> </a>
     +              X_LENGTH = 10, <a name="wp934264"> </a>
     +              Y_LENGTH = 10,<a name="wp934265"> </a>
     +              RANK     = 2)<a name="wp934266"> </a>
      integer       DFACC_CREATE, DFACC_WRITE, SD_UNLIMITED,<a name="wp934267"> </a>
     +              DFNT_INT32<a name="wp934268"> </a>
      parameter    (DFACC_CREATE = 4,<a name="wp934269"> </a>
     +              DFACC_WRITE  = 2,<a name="wp934270"> </a>
     +              SD_UNLIMITED = 0,<a name="wp934271"> </a>
     +              DFNT_INT32 =   24)<a name="wp934272"> </a>
C<a name="wp934273"> </a>
C     Function declaration.<a name="wp934274"> </a>
C<a name="wp934275"> </a>
      integer sfstart, sfcreate, sfwdata, sfselect <a name="wp934276"> </a>
      integer sfendacc, sfend<a name="wp934277"> </a>
C<a name="wp934278"> </a>
C**** Variable declaration *******************************************<a name="wp934279"> </a>
C<a name="wp934280"> </a>
      integer sd_id, sds_id, sds_index, status<a name="wp934281"> </a>
      integer dim_sizes(2)<a name="wp934282"> </a>
      integer start(2), edges(2), stride(2)<a name="wp934283"> </a>
      integer i, j<a name="wp934284"> </a>
      integer data (X_LENGTH, Y_LENGTH), append_data(X_LENGTH)<a name="wp934285"> </a>
C<a name="wp934286"> </a>
C**** End of variable declaration ************************************<a name="wp934287"> </a>
C<a name="wp934288"> </a>
C<a name="wp934289"> </a>
C     Data initialization.<a name="wp934290"> </a>
C <a name="wp934291"> </a>
      do 20 j = 1, Y_LENGTH<a name="wp934292"> </a>
         do 10 i = 1, X_LENGTH<a name="wp934293"> </a>
            data(i, j) = i + j<a name="wp934294"> </a>
10      continue<a name="wp934295"> </a>
20    continue<a name="wp934296"> </a>
C<a name="wp934297"> </a>
C     Create the file and initialize the SD interface. <a name="wp934298"> </a>
C<a name="wp934299"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_CREATE)<a name="wp934300"> </a>
C<a name="wp934301"> </a>
C     Define dimensions of the array. Make the<a name="wp934302"> </a>
C     last dimension appendable by defining its length as unlimited.<a name="wp934303"> </a>
C<a name="wp934304"> </a>
      dim_sizes(1) = X_LENGTH<a name="wp934305"> </a>
      dim_sizes(2) = SD_UNLIMITED<a name="wp934306"> </a>
C     Create the array data set. <a name="wp934308"> </a>
      sds_id = sfcreate(sd_id, SDS_NAME, DFNT_INT32, RANK, <a name="wp934309"> </a>
     .                  dim_sizes)<a name="wp934310"> </a>
C<a name="wp934311"> </a>
C     Define the location and the size of the data to be written<a name="wp934312"> </a>
C     to the data set. Note that the elements of array stride are<a name="wp934313"> </a>
C     set to 1 for contiguous writing.    <a name="wp934314"> </a>
C<a name="wp934315"> </a>
      start(1) = 0<a name="wp934316"> </a>
      start(2) = 0<a name="wp934317"> </a>
      edges(1) = X_LENGTH<a name="wp934318"> </a>
      edges(2) = Y_LENGTH<a name="wp934319"> </a>
      stride(1) = 1<a name="wp934320"> </a>
      stride(2) = 1<a name="wp934321"> </a>
C<a name="wp934322"> </a>
C     Write the data. <a name="wp934323"> </a>
C<a name="wp934324"> </a>
      status = sfwdata(sds_id, start, stride, edges, data)<a name="wp934325"> </a>
C<a name="wp934326"> </a>
C     Terminate access to the data set, terminate access<a name="wp934327"> </a>
C     to the SD interface, and close the file. <a name="wp934328"> </a>
C<a name="wp934329"> </a>
      status = sfendacc(sds_id)<a name="wp934330"> </a>
      status = sfend(sd_id)<a name="wp934331"> </a>
C<a name="wp934332"> </a>
C     Store the array values to be appended to the data set. <a name="wp934333"> </a>
C<a name="wp934334"> </a>
      do 30 i = 1, X_LENGTH<a name="wp934335"> </a>
         append_data(i) = 1000 + i - 1 <a name="wp934336"> </a>
30    continue<a name="wp934337"> </a>
C<a name="wp934338"> </a>
C     Reopen the file and initialize the SD. <a name="wp934339"> </a>
C<a name="wp934340"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_WRITE)<a name="wp934341"> </a>
C<a name="wp934342"> </a>
C     Select the first data set. <a name="wp934343"> </a>
C<a name="wp934344"> </a>
      sds_index = 0 <a name="wp934345"> </a>
      sds_id = sfselect(sd_id, sds_index)<a name="wp934346"> </a>
C<a name="wp934347"> </a>
C     Define the location of the append to start at the 11th <a name="wp934348"> </a>
C     column of the 1st row and to stop at the end of the 10th row.<a name="wp934349"> </a>
C<a name="wp934350"> </a>
      start(1) = 0<a name="wp934351"> </a>
      start(2) = Y_LENGTH<a name="wp934352"> </a>
      edges(1) = X_LENGTH<a name="wp934353"> </a>
      edges(2) = 1<a name="wp934354"> </a>
C<a name="wp934355"> </a>
C     Append the data to the data set. <a name="wp934356"> </a>
C<a name="wp934357"> </a>
      status = sfwdata(sds_id, start, stride, edges, append_data)<a name="wp934358"> </a>
C<a name="wp934359"> </a>
C     Terminate access to the data set. <a name="wp934360"> </a>
C<a name="wp934361"> </a>
      status = sfendacc(sds_id)<a name="wp934362"> </a>
C<a name="wp934363"> </a>
C     Terminate access to the SD interface and close the file. <a name="wp934364"> </a>
C<a name="wp934365"> </a>
      status = sfend(sd_id)<a name="wp934366"> </a>
      end<a name="wp934368"> </a>
</pre></div>
<a name="wp930316"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
compress_sds.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp930426"> </a>
#define FILE_NAME      &quot;SDScompressed.hdf&quot;<a name="wp933202"> </a>
#define SDS_NAME       &quot;SDSgzip&quot;<a name="wp933203"> </a>
#define X_LENGTH       5<a name="wp933204"> </a>
#define Y_LENGTH       16<a name="wp933205"> </a>
#define RANK           2<a name="wp933206"> </a>
main( ) <a name="wp933208"> </a>
{<a name="wp933209"> </a>
   /************************* Variable declaration **************************/<a name="wp933210"> </a>
   int32     sd_id, sds_id, sds_index;<a name="wp933212"> </a>
   intn      status;<a name="wp933213"> </a>
   int32     comp_type;    /* Compression flag */<a name="wp933214"> </a>
   comp_info c_info;   /* Compression structure */<a name="wp933215"> </a>
   int32     start[2], edges[2], dim_sizes[2];<a name="wp933216"> </a>
   int32     data[Y_LENGTH][X_LENGTH];<a name="wp933217"> </a>
   int       i, j;<a name="wp933218"> </a>
   /********************* End of variable declaration ***********************/<a name="wp933220"> </a>
   /*<a name="wp933222"> </a>
   * Buffer array data and define array dimensions.<a name="wp933223"> </a>
   */<a name="wp933224"> </a>
   for (j = 0; j &lt; Y_LENGTH; j++) <a name="wp933225"> </a>
   {<a name="wp933226"> </a>
	for (i = 0; i &lt; X_LENGTH; i++)<a name="wp933227"> </a>
		data[j][i] = (i + j) + 1;<a name="wp933228"> </a>
   }<a name="wp933229"> </a>
   dim_sizes[0] = Y_LENGTH;<a name="wp933230"> </a>
   dim_sizes[1] = X_LENGTH;<a name="wp933231"> </a>
   /*<a name="wp933233"> </a>
   * Create the file and initialize the SD interface.<a name="wp933234"> </a>
   */<a name="wp933235"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_CREATE);<a name="wp933236"> </a>
   /*<a name="wp933238"> </a>
   * Create the data set with the name defined in SDS_NAME. <a name="wp933239"> </a>
   */ <a name="wp933240"> </a>
   sds_id = SDcreate (sd_id, SDS_NAME, DFNT_INT32, RANK, dim_sizes);<a name="wp933241"> </a>
   /*<a name="wp933243"> </a>
   * Ininitialize compression structure element and compression<a name="wp933244"> </a>
   * flag for GZIP compression and call SDsetcompress.<a name="wp933245"> </a>
   *<a name="wp933246"> </a>
   *   To use the Skipping Huffman compression method, initialize<a name="wp933247"> </a>
   *          comp_type = COMP_CODE_SKPHUFF<a name="wp933248"> </a>
   *          c_info.skphuff.skp_size = value<a name="wp933249"> </a>
   *<a name="wp933250"> </a>
   *   To use the RLE compression method, initialize<a name="wp933251"> </a>
   *          comp_type = COMP_CODE_RLE<a name="wp933252"> </a>
   *   No structure element needs to be initialized.<a name="wp933253"> </a>
   */<a name="wp933254"> </a>
   comp_type = COMP_CODE_DEFLATE;<a name="wp933255"> </a>
   c_info.deflate.level = 6;<a name="wp933256"> </a>
   status = SDsetcompress (sds_id, comp_type, &amp;c_info); <a name="wp933257"> </a>
   /* <a name="wp933259"> </a>
   * Define the location and size of the data set<a name="wp933260"> </a>
   * to be written to the file.<a name="wp933261"> </a>
   */<a name="wp933262"> </a>
   start[0] = 0;<a name="wp933263"> </a>
   start[1] = 0;<a name="wp933264"> </a>
   edges[0] = Y_LENGTH;<a name="wp933265"> </a>
   edges[1] = X_LENGTH;<a name="wp933266"> </a>
   /*<a name="wp933268"> </a>
   * Write the stored data to the data set. The last argument <a name="wp933269"> </a>
   * must be explicitly cast to a generic pointer since SDwritedata<a name="wp933270"> </a>
   * is designed to write generic data. <a name="wp933271"> </a>
   */<a name="wp933272"> </a>
   status = SDwritedata (sds_id, start, NULL, edges, (VOIDP)data);<a name="wp933273"> </a>
   /*<a name="wp933275"> </a>
   * Terminate access to the data set.<a name="wp933276"> </a>
   */<a name="wp933277"> </a>
   status = SDendaccess (sds_id);<a name="wp933278"> </a>
   /*<a name="wp933280"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp933281"> </a>
   */<a name="wp933282"> </a>
   status = SDend (sd_id);<a name="wp933283"> </a>
}<a name="wp933285"> </a>
</pre></div>
<a name="wp930427"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
compress_sds.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  write_compressed_data<a name="wp930552"> </a>
      implicit none<a name="wp933294"> </a>
C<a name="wp933295"> </a>
C     Parameter declaration.<a name="wp933296"> </a>
C<a name="wp933297"> </a>
      character*17  FILE_NAME<a name="wp933298"> </a>
      character*7   SDS_NAME<a name="wp933299"> </a>
      integer       X_LENGTH, Y_LENGTH, RANK<a name="wp933300"> </a>
      parameter    (FILE_NAME = &#39;SDScompressed.hdf&#39;,<a name="wp933301"> </a>
     +              SDS_NAME = &#39;SDSgzip&#39;,<a name="wp933302"> </a>
     +              X_LENGTH = 5,<a name="wp933303"> </a>
     +              Y_LENGTH = 16,<a name="wp933304"> </a>
     +              RANK     = 2)<a name="wp933305"> </a>
      integer       DFACC_CREATE, DFNT_INT32<a name="wp933306"> </a>
      parameter    (DFACC_CREATE = 4,<a name="wp933307"> </a>
     +              DFNT_INT32 = 24)<a name="wp933308"> </a>
      integer       COMP_CODE_DEFLATE<a name="wp933309"> </a>
      parameter    (COMP_CODE_DEFLATE = 4)<a name="wp933310"> </a>
      integer       DEFLATE_LEVEL<a name="wp933311"> </a>
      parameter    (DEFLATE_LEVEL = 6)<a name="wp933312"> </a>
C     To use Skipping Huffman compression method, declare <a name="wp933313"> </a>
C            integer   COMP_CODE_SKPHUFF<a name="wp933314"> </a>
C            parameter(COMP_CODE_SKPHUFF = 3) <a name="wp933315"> </a>
C     To use RLE compression method, declare<a name="wp933316"> </a>
C            integer   COMP_CODE_RLE<a name="wp933317"> </a>
C            parameter(COMP_CODE_RLE = 1)<a name="wp933318"> </a>
C<a name="wp933319"> </a>
C<a name="wp933320"> </a>
C     Function declaration.<a name="wp933321"> </a>
C<a name="wp933322"> </a>
      integer sfstart, sfcreate, sfwdata, sfendacc, sfend,<a name="wp933323"> </a>
     +        sfscompress<a name="wp933324"> </a>
C<a name="wp933325"> </a>
C**** Variable declaration *******************************************<a name="wp933326"> </a>
C<a name="wp933327"> </a>
      integer  sd_id, sds_id, status<a name="wp933328"> </a>
      integer  start(2), edges(2), stride(2), dim_sizes(2)<a name="wp933329"> </a>
      integer  comp_type<a name="wp933330"> </a>
      integer  comp_prm(1)<a name="wp933331"> </a>
      integer  data(X_LENGTH, Y_LENGTH)<a name="wp933332"> </a>
      integer  i, j<a name="wp933333"> </a>
C<a name="wp933334"> </a>
C**** End of variable declaration ************************************<a name="wp933335"> </a>
C<a name="wp933336"> </a>
C<a name="wp933337"> </a>
C     Buffer array data and define array dimensions. <a name="wp933338"> </a>
C<a name="wp933339"> </a>
      do 20 j = 1, Y_LENGTH<a name="wp933340"> </a>
         do 10 i = 1, X_LENGTH<a name="wp933341"> </a>
            data(i, j) = i + j - 1<a name="wp933342"> </a>
10       continue<a name="wp933343"> </a>
20    continue<a name="wp933344"> </a>
      dim_sizes(1) = X_LENGTH<a name="wp933345"> </a>
      dim_sizes(2) = Y_LENGTH<a name="wp933346"> </a>
C<a name="wp933347"> </a>
C     Open the file and initialize the SD interface.<a name="wp933348"> </a>
C<a name="wp933349"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_CREATE)<a name="wp933350"> </a>
C<a name="wp933351"> </a>
C     Create the data set with the name SDS_NAME.  <a name="wp933352"> </a>
C<a name="wp933353"> </a>
      sds_id = sfcreate(sd_id, SDS_NAME, DFNT_INT32, RANK, dim_sizes) <a name="wp933354"> </a>
C<a name="wp933355"> </a>
C     Initialize compression parameter (deflate level)<a name="wp933356"> </a>
C     and call sfscompress function<a name="wp933357"> </a>
C     For Skipping Huffman compression, comp_prm(1) should be set<a name="wp933358"> </a>
C     to skipping sizes value (skp_size).<a name="wp933359"> </a>
C <a name="wp933360"> </a>
      comp_type   = COMP_CODE_DEFLATE<a name="wp933361"> </a>
      comp_prm(1) = deflate_level<a name="wp933362"> </a>
      status      = sfscompress(sds_id, comp_type, comp_prm(1))<a name="wp933363"> </a>
C<a name="wp933364"> </a>
C     Define the location and size of the data that will be written to<a name="wp933365"> </a>
C     the data set.<a name="wp933366"> </a>
C<a name="wp933367"> </a>
      start(1) = 0<a name="wp933368"> </a>
      start(2) = 0<a name="wp933369"> </a>
      edges(1) = X_LENGTH<a name="wp933370"> </a>
      edges(2) = Y_LENGTH<a name="wp933371"> </a>
      stride(1) = 1<a name="wp933372"> </a>
      stride(2) = 1<a name="wp933373"> </a>
C<a name="wp933374"> </a>
C     Write the stored data to the data set.<a name="wp933375"> </a>
C<a name="wp933376"> </a>
      status = sfwdata(sds_id, start, stride, edges, data)<a name="wp933377"> </a>
C<a name="wp933378"> </a>
C     Terminate access to the  data set.<a name="wp933379"> </a>
C<a name="wp933380"> </a>
      status = sfendacc(sds_id)<a name="wp933381"> </a>
C<a name="wp933382"> </a>
C     Terminate access to the SD interface and close the file.<a name="wp933383"> </a>
C<a name="wp933384"> </a>
      status = sfend(sd_id)<a name="wp933385"> </a>
      end<a name="wp933387"> </a>
</pre></div>
<a name="wp930896"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
mv_sds_to_external.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp930680"> </a>
#define FILE_NAME     &quot;SDS.hdf&quot;<a name="wp934381"> </a>
#define EXT_FILE_NAME &quot;ExternalSDS&quot;<a name="wp934382"> </a>
#define OFFSET        24<a name="wp934383"> </a>
main( ) <a name="wp934385"> </a>
{<a name="wp934386"> </a>
   /************************* Variable declaration **************************/<a name="wp934388"> </a>
   int32 sd_id, sds_id, sds_index, offset;<a name="wp934390"> </a>
   intn  status;<a name="wp934391"> </a>
   /********************* End of variable declaration ***********************/<a name="wp934393"> </a>
   /*<a name="wp934395"> </a>
   * Open the file and initialize the SD interface.<a name="wp934396"> </a>
   */<a name="wp934397"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_WRITE);<a name="wp934398"> </a>
   /*<a name="wp934400"> </a>
   * Select the first data set.<a name="wp934401"> </a>
   */<a name="wp934402"> </a>
   sds_index = 0;   <a name="wp934403"> </a>
   sds_id = SDselect (sd_id, sds_index);<a name="wp934404"> </a>
   /*<a name="wp934406"> </a>
   * Create a file with the name EXT_FILE_NAME and move the data set<a name="wp934407"> </a>
   * values into it, starting at byte location OFFSET.<a name="wp934408"> </a>
   */<a name="wp934409"> </a>
   status = SDsetexternalfile (sds_id, EXT_FILE_NAME, OFFSET);<a name="wp934410"> </a>
   /*<a name="wp934412"> </a>
   * Terminate access to the data set, SD interface, and file.<a name="wp934413"> </a>
   */<a name="wp934414"> </a>
   status = SDendaccess (sds_id);<a name="wp934415"> </a>
   status = SDend (sd_id);<a name="wp934416"> </a>
}<a name="wp934417"> </a>
</pre></div>
<a name="wp930681"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
mv_sds_to_external.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  write_extfile<a name="wp930806"> </a>
      implicit none <a name="wp934427"> </a>
C<a name="wp934428"> </a>
C     Parameter declaration.<a name="wp934429"> </a>
C<a name="wp934430"> </a>
      character*7  FILE_NAME<a name="wp934431"> </a>
      character*11 EXT_FILE_NAME<a name="wp934432"> </a>
      integer      OFFSET<a name="wp934433"> </a>
      integer      DFACC_WRITE<a name="wp934434"> </a>
      parameter   (FILE_NAME      = &#39;SDS.hdf&#39;,<a name="wp934435"> </a>
     +             EXT_FILE_NAME  = &#39;ExternalSDS&#39;,<a name="wp934436"> </a>
     +             OFFSET         = 24,<a name="wp934437"> </a>
     +             DFACC_WRITE    = 2)<a name="wp934438"> </a>
C<a name="wp934440"> </a>
C     Function declaration.<a name="wp934441"> </a>
C<a name="wp934442"> </a>
      integer sfstart, sfselect, sfsextf, sfendacc, sfend<a name="wp934443"> </a>
C<a name="wp934444"> </a>
C**** Variable declaration *******************************************<a name="wp934445"> </a>
C<a name="wp934446"> </a>
      integer sd_id, sds_id, sds_index, offset<a name="wp934447"> </a>
      integer status<a name="wp934448"> </a>
C<a name="wp934449"> </a>
C**** End of variable declaration ************************************<a name="wp934450"> </a>
C<a name="wp934451"> </a>
C<a name="wp934452"> </a>
C     Open the HDF file and initialize the SD interface.<a name="wp934453"> </a>
C<a name="wp934454"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_WRITE)<a name="wp934455"> </a>
C<a name="wp934456"> </a>
C     Select the first data set.<a name="wp934457"> </a>
C<a name="wp934458"> </a>
      sds_index = 0<a name="wp934459"> </a>
      sds_id = sfselect(sd_id, sds_index)<a name="wp934460"> </a>
C<a name="wp934461"> </a>
C     Create a file with the name EXT_FILE_NAME and move the data set<a name="wp934462"> </a>
C     into it, starting at byte location OFFSET.<a name="wp934463"> </a>
C<a name="wp934464"> </a>
      status = sfsextf(sds_id, EXT_FILE_NAME, OFFSET)<a name="wp934465"> </a>
C<a name="wp934466"> </a>
C     Terminate access to the data set. <a name="wp934467"> </a>
C<a name="wp934468"> </a>
      status = sfendacc(sds_id)<a name="wp934469"> </a>
C<a name="wp934470"> </a>
C     Terminate access to the SD interface and close the file. <a name="wp934471"> </a>
C<a name="wp934472"> </a>
      status = sfend(sd_id)<a name="wp934473"> </a>
      end<a name="wp934475"> </a>
</pre></div>
<a name="wp930904"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
read_from_sds.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp931014"> </a>
#define FILE_NAME     &quot;SDS.hdf&quot;<a name="wp934486"> </a>
#define X_LENGTH      5<a name="wp934487"> </a>
#define Y_LENGTH      16<a name="wp934488"> </a>
main( ) <a name="wp934490"> </a>
{<a name="wp934491"> </a>
   /************************* Variable declaration **************************/<a name="wp934492"> </a>
   int32 sd_id, sds_id, sds_index;<a name="wp934494"> </a>
   intn  status;<a name="wp934495"> </a>
   int32 start[2], edges[2];<a name="wp934496"> </a>
   int32 data[Y_LENGTH][X_LENGTH];<a name="wp934497"> </a>
   int   i, j;<a name="wp934498"> </a>
   /********************* End of variable declaration ***********************/<a name="wp934500"> </a>
   /*<a name="wp934502"> </a>
   * Open the file for reading and initialize the SD interface.<a name="wp934503"> </a>
   */<a name="wp934504"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_READ);<a name="wp934505"> </a>
   /*<a name="wp934507"> </a>
   * Select the first data set.<a name="wp934508"> </a>
   */ <a name="wp934509"> </a>
   sds_index = 0;<a name="wp934510"> </a>
   sds_id = SDselect (sd_id, sds_index);<a name="wp934511"> </a>
   /* <a name="wp934513"> </a>
   * Set elements of array start to 0, elements of array edges <a name="wp934514"> </a>
   * to SDS dimensions,and use NULL for the argument stride in SDreaddata<a name="wp934515"> </a>
   * to read the entire data.<a name="wp934516"> </a>
   */<a name="wp934517"> </a>
   start[0] = 0;<a name="wp934518"> </a>
   start[1] = 0;<a name="wp934519"> </a>
   edges[0] = Y_LENGTH;<a name="wp934520"> </a>
   edges[1] = X_LENGTH;<a name="wp934521"> </a>
   /*<a name="wp934523"> </a>
   * Read entire data into data array.<a name="wp934524"> </a>
   */<a name="wp934525"> </a>
   status = SDreaddata (sds_id, start, NULL, edges, (VOIDP)data);<a name="wp934526"> </a>
   /* <a name="wp934528"> </a>
   * Print 10th row; the following numbers should be displayed.<a name="wp934529"> </a>
   *<a name="wp934530"> </a>
   *         10 1000 12 13 14<a name="wp934531"> </a>
   */<a name="wp934532"> </a>
   for (j = 0; j &lt; X_LENGTH; j++) printf (&quot;%d &quot;, data[9][j]);<a name="wp934533"> </a>
   printf (&quot;\n&quot;);<a name="wp934534"> </a>
   /*<a name="wp934536"> </a>
   * Terminate access to the data set.<a name="wp934537"> </a>
   */<a name="wp934538"> </a>
   status = SDendaccess (sds_id);<a name="wp934539"> </a>
   /*<a name="wp934541"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp934542"> </a>
   */<a name="wp934543"> </a>
   status = SDend (sd_id);<a name="wp934544"> </a>
}<a name="wp934545"> </a>
</pre></div>
<a name="wp931015"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
read_from_sds.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  read_data<a name="wp931140"> </a>
      implicit none<a name="wp934554"> </a>
C<a name="wp934555"> </a>
C     Parameter declaration.<a name="wp934556"> </a>
C<a name="wp934557"> </a>
      character*7  FILE_NAME<a name="wp934558"> </a>
      integer      X_LENGTH, Y_LENGTH<a name="wp934559"> </a>
      parameter   (FILE_NAME  = &#39;SDS.hdf&#39;,<a name="wp934560"> </a>
     +             X_LENGTH = 5, <a name="wp934561"> </a>
     +             Y_LENGTH = 16)<a name="wp934562"> </a>
      integer      DFACC_READ, DFNT_INT32<a name="wp934563"> </a>
      parameter   (DFACC_READ = 1,<a name="wp934564"> </a>
     +             DFNT_INT32 = 24)<a name="wp934565"> </a>
C<a name="wp934567"> </a>
C     Function declaration.<a name="wp934568"> </a>
C<a name="wp934569"> </a>
      integer sfstart, sfselect, sfrdata, sfendacc, sfend<a name="wp934570"> </a>
C<a name="wp934571"> </a>
C**** Variable declaration *******************************************<a name="wp934572"> </a>
C<a name="wp934573"> </a>
      integer sd_id, sds_id, sds_index, status<a name="wp934574"> </a>
      integer start(2), edges(2), stride(2)<a name="wp934575"> </a>
      integer data(X_LENGTH, Y_LENGTH)<a name="wp934576"> </a>
      integer j<a name="wp934577"> </a>
C<a name="wp934578"> </a>
C**** End of variable declaration ************************************<a name="wp934579"> </a>
C<a name="wp934580"> </a>
C<a name="wp934581"> </a>
C     Open the file and initialize the SD interface.<a name="wp934582"> </a>
C<a name="wp934583"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_READ)<a name="wp934584"> </a>
C<a name="wp934586"> </a>
C     Select the first data set.<a name="wp934587"> </a>
C<a name="wp934588"> </a>
      sds_index = 0<a name="wp934589"> </a>
      sds_id = sfselect(sd_id, sds_index)<a name="wp934590"> </a>
C<a name="wp934592"> </a>
C     Set elements of the array start to 0, elements of the array edges to <a name="wp934593"> </a>
C     SDS dimensions, and elements of the array stride to 1 to read the<a name="wp934594"> </a>
C     entire data. <a name="wp934595"> </a>
C<a name="wp934596"> </a>
      start(1) = 0<a name="wp934597"> </a>
      start(2) = 0<a name="wp934598"> </a>
      edges(1) = X_LENGTH<a name="wp934599"> </a>
      edges(2) = Y_LENGTH<a name="wp934600"> </a>
      stride(1) = 1<a name="wp934601"> </a>
      stride(2) = 1<a name="wp934602"> </a>
C<a name="wp934603"> </a>
C     Read entire data into data array. Note that sfrdata is used<a name="wp934604"> </a>
C     to read the numeric data. <a name="wp934605"> </a>
C<a name="wp934606"> </a>
      status = sfrdata(sds_id, start, stride, edges, data)<a name="wp934607"> </a>
      <a name="wp934608"> </a>
C<a name="wp934609"> </a>
C     Print 10th column; the following numbers are displayed:<a name="wp934610"> </a>
C<a name="wp934611"> </a>
C           10 1000 12 13 14<a name="wp934612"> </a>
C<a name="wp934613"> </a>
      write(*,*) (data(j,10), j = 1, X_LENGTH)<a name="wp934614"> </a>
C<a name="wp934615"> </a>
C     Terminate access to the data set.<a name="wp934616"> </a>
C<a name="wp934617"> </a>
      status = sfendacc(sds_id)<a name="wp934618"> </a>
C<a name="wp934619"> </a>
C     Terminate access to the SD interface and close the file.<a name="wp934620"> </a>
C<a name="wp934621"> </a>
      status = sfend(sd_id)<a name="wp934622"> </a>
      end<a name="wp934624"> </a>
</pre></div>
<a name="wp931160"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
read_subsets.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp931270"> </a>
#define FILE_NAME     &quot;SDS.hdf&quot;<a name="wp934635"> </a>
#define SUB1_LENGTH   5<a name="wp934636"> </a>
#define SUB2_LENGTH   4<a name="wp934637"> </a>
#define SUB3_LENGTH1  2 <a name="wp934638"> </a>
#define SUB3_LENGTH2  3 <a name="wp934639"> </a>
main( ) <a name="wp934641"> </a>
{<a name="wp934642"> </a>
   /************************* Variable declaration **************************/<a name="wp934643"> </a>
   int32 sd_id, sds_id, sds_index;<a name="wp934645"> </a>
   intn  status;<a name="wp934646"> </a>
   int32 start[2], edges[2], stride[2];<a name="wp934647"> </a>
   int32 sub1_data[SUB1_LENGTH];<a name="wp934648"> </a>
   int32 sub2_data[SUB2_LENGTH];<a name="wp934649"> </a>
   int32 sub3_data[SUB3_LENGTH2][SUB3_LENGTH1];<a name="wp934650"> </a>
   int   i, j;<a name="wp934651"> </a>
   /********************* End of variable declaration ***********************/<a name="wp934653"> </a>
        <a name="wp934654"> </a>
   /*<a name="wp934655"> </a>
   * Open the file for reading and initialize the SD interface.<a name="wp934656"> </a>
   */<a name="wp934657"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_READ);<a name="wp934658"> </a>
   /*<a name="wp934660"> </a>
   * Select the first data set.<a name="wp934661"> </a>
   */ <a name="wp934662"> </a>
   sds_index = 0;<a name="wp934663"> </a>
   sds_id = SDselect (sd_id, sds_index);<a name="wp934664"> </a>
   /*<a name="wp934665"> </a>
   *         Reading the first subset.<a name="wp934666"> </a>
   *<a name="wp934667"> </a>
   * Set elements of start, edges, and stride arrays to read<a name="wp934668"> </a>
   * every 3rd element in the 2nd column starting at 4th row.   <a name="wp934669"> </a>
   */<a name="wp934670"> </a>
   start[0] = 3;   /* 4th row */<a name="wp934671"> </a>
   start[1] = 1;   /* 2nd column */<a name="wp934672"> </a>
   edges[0] = SUB1_LENGTH; /* SUB1_LENGTH elements are read along 2nd column*/<a name="wp934673"> </a>
   edges[1] = 1;<a name="wp934674"> </a>
   stride[0] = 3;  /* every 3rd element is read along 2nd column */<a name="wp934675"> </a>
   stride[1] = 1;<a name="wp934676"> </a>
   /*<a name="wp934678"> </a>
   * Read the data from the file into sub1_data array.<a name="wp934679"> </a>
   */<a name="wp934680"> </a>
   status = SDreaddata (sds_id, start, stride, edges, (VOIDP)sub1_data);<a name="wp934681"> </a>
   /* <a name="wp934683"> </a>
   * Print what we have just read; the following numbers should be displayed:<a name="wp934684"> </a>
   *<a name="wp934685"> </a>
   *             5 8 1000 14 17   <a name="wp934686"> </a>
   */<a name="wp934687"> </a>
   for (j = 0; j &lt; SUB1_LENGTH; j++) printf (&quot;%d &quot;, sub1_data[j]);<a name="wp934688"> </a>
   printf (&quot;\n&quot;);<a name="wp934689"> </a>
   /* <a name="wp934691"> </a>
   *         Reading the second subset.<a name="wp934692"> </a>
   *<a name="wp934693"> </a>
   * Set elements of start and edges arrays to read<a name="wp934694"> </a>
   * first 4 elements of the 10th row. <a name="wp934695"> </a>
   */<a name="wp934696"> </a>
   start[0] = 9;  /* 10th row  */<a name="wp934697"> </a>
   start[1] = 0;  /* 1st column */<a name="wp934698"> </a>
   edges[0] = 1; <a name="wp934699"> </a>
   edges[1] = SUB2_LENGTH; /* SUB2_LENGTH elements are read along 10th row */<a name="wp934700"> </a>
   /*<a name="wp934702"> </a>
   * Read data from the file into sub2_data array. Note that the third<a name="wp934703"> </a>
   * parameter is set to NULL for contiguous reading.<a name="wp934704"> </a>
   */<a name="wp934705"> </a>
   status = SDreaddata (sds_id, start, NULL, edges, (VOIDP)sub2_data);<a name="wp934706"> </a>
   /* <a name="wp934708"> </a>
   * Print what we have just read; the following numbers should be displayed:<a name="wp934709"> </a>
   *<a name="wp934710"> </a>
   *            10 1000 12 13 <a name="wp934711"> </a>
   */<a name="wp934712"> </a>
   for (j = 0; j &lt; SUB2_LENGTH; j++) printf (&quot;%d &quot;, sub2_data[j]);<a name="wp934713"> </a>
   printf (&quot;\n&quot;);<a name="wp934714"> </a>
   /* <a name="wp934716"> </a>
   *         Reading the third subset.<a name="wp934717"> </a>
   *<a name="wp934718"> </a>
   * Set elements of the arrays start, edges, and stride to read<a name="wp934719"> </a>
   * every 6th element in the column and 4th element in the row<a name="wp934720"> </a>
   * starting at 1st column, 3d row.    <a name="wp934721"> </a>
   */<a name="wp934722"> </a>
   start[0] = 2;  /* 3d row */<a name="wp934723"> </a>
   start[1] = 0;  /* 1st column */<a name="wp934724"> </a>
   edges[0] = SUB3_LENGTH2; /* SUB3_LENGTH2 elements are read along<a name="wp934725"> </a>
                               each column */<a name="wp934726"> </a>
   edges[1] = SUB3_LENGTH1; /* SUB3_LENGTH1 elements are read along  <a name="wp934727"> </a>
                               each row */<a name="wp934728"> </a>
   stride[0] = 6; /* read every 6th element along each column */<a name="wp934729"> </a>
   stride[1] = 4; /* read every 4th element along each row */<a name="wp934730"> </a>
   /*<a name="wp934732"> </a>
   * Read the data from the file into sub3_data array.<a name="wp934733"> </a>
   */<a name="wp934734"> </a>
   status = SDreaddata (sds_id, start, stride, edges, (VOIDP)sub3_data);<a name="wp934735"> </a>
   /* <a name="wp934737"> </a>
   * Print what we have just read; the following numbers should be displayed:<a name="wp934738"> </a>
   *<a name="wp934739"> </a>
   *            3 7 <a name="wp934740"> </a>
   *            9 13  <a name="wp934741"> </a>
   *            15 19 <a name="wp934742"> </a>
   */<a name="wp934743"> </a>
   for ( j = 0; j &lt; SUB3_LENGTH2; j++ ) {<a name="wp934744"> </a>
       for (i = 0; i &lt; SUB3_LENGTH1; i++) printf (&quot;%d &quot;, sub3_data[j][i]);<a name="wp934745"> </a>
       printf (&quot;\n&quot;);<a name="wp934746"> </a>
   }<a name="wp934747"> </a>
   /*<a name="wp934748"> </a>
   * Terminate access to the data set.<a name="wp934749"> </a>
   */<a name="wp934750"> </a>
   status = SDendaccess (sds_id);<a name="wp934751"> </a>
   /*<a name="wp934753"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp934754"> </a>
   */<a name="wp934755"> </a>
   status = SDend (sd_id);<a name="wp934756"> </a>
}<a name="wp934757"> </a>
</pre></div>
<a name="wp931271"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
read_subsets.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  read_subsets<a name="wp931396"> </a>
      implicit none<a name="wp934766"> </a>
C<a name="wp934767"> </a>
C     Parameter declaration.<a name="wp934768"> </a>
C<a name="wp934769"> </a>
      character*7  FILE_NAME<a name="wp934770"> </a>
      parameter   (FILE_NAME  = &#39;SDS.hdf&#39;)<a name="wp934771"> </a>
      integer      DFACC_READ, DFNT_INT32<a name="wp934772"> </a>
      parameter   (DFACC_READ = 1,<a name="wp934773"> </a>
     +             DFNT_INT32 = 24)<a name="wp934774"> </a>
      integer      SUB1_LENGTH, SUB2_LENGTH, SUB3_LENGTH1,<a name="wp934775"> </a>
     +             SUB3_LENGTH2 <a name="wp934776"> </a>
      parameter   (SUB1_LENGTH  = 5,<a name="wp934777"> </a>
     +             SUB2_LENGTH  = 4, <a name="wp934778"> </a>
     +             SUB3_LENGTH1 = 2,<a name="wp934779"> </a>
     +             SUB3_LENGTH2 = 3)<a name="wp934780"> </a>
C<a name="wp934782"> </a>
C     Function declaration.<a name="wp934783"> </a>
C<a name="wp934784"> </a>
      integer sfstart, sfselect, sfrdata, sfendacc, sfend<a name="wp934785"> </a>
C<a name="wp934786"> </a>
C**** Variable declaration *******************************************<a name="wp934787"> </a>
C<a name="wp934788"> </a>
      integer sd_id, sds_id, sds_index, status<a name="wp934789"> </a>
      integer start(2), edges(2), stride(2)<a name="wp934790"> </a>
      integer sub1_data(SUB1_LENGTH)<a name="wp934791"> </a>
      integer sub2_data(SUB2_LENGTH)<a name="wp934792"> </a>
      integer sub3_data(SUB3_LENGTH1,SUB3_LENGTH2)<a name="wp934793"> </a>
      integer i, j<a name="wp934794"> </a>
C<a name="wp934795"> </a>
C**** End of variable declaration ************************************<a name="wp934796"> </a>
C<a name="wp934797"> </a>
C<a name="wp934798"> </a>
C     Open the file and initialize the SD interface.<a name="wp934799"> </a>
C<a name="wp934800"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_READ)<a name="wp934801"> </a>
C<a name="wp934802"> </a>
C     Select the first data set.<a name="wp934803"> </a>
C<a name="wp934804"> </a>
      sds_index = 0<a name="wp934805"> </a>
      sds_id =sfselect(sd_id, sds_index)<a name="wp934806"> </a>
C<a name="wp934807"> </a>
C            Reading the first subset.<a name="wp934808"> </a>
C<a name="wp934809"> </a>
C     Set elements of start, stride, and edges arrays to read <a name="wp934810"> </a>
C     every 3d element in in the 2nd row starting in the 4th column. <a name="wp934811"> </a>
C<a name="wp934812"> </a>
      start(1) = 1 <a name="wp934813"> </a>
      start(2) = 3 <a name="wp934814"> </a>
      edges(1) = 1 <a name="wp934815"> </a>
      edges(2) = SUB1_LENGTH<a name="wp934816"> </a>
      stride(1) = 1<a name="wp934817"> </a>
      stride(2) = 3 <a name="wp934818"> </a>
C<a name="wp934819"> </a>
C     Read the data from sub1_data array. <a name="wp934820"> </a>
C<a name="wp934821"> </a>
      status = sfrdata(sds_id, start, stride, edges, sub1_data)<a name="wp934822"> </a>
      <a name="wp934823"> </a>
C<a name="wp934824"> </a>
C     Print what we have just read, the following numbers should be displayed:<a name="wp934825"> </a>
C<a name="wp934826"> </a>
C           5 8 1000 14 17 <a name="wp934827"> </a>
C<a name="wp934828"> </a>
      write(*,*) (sub1_data(j), j = 1, SUB1_LENGTH)<a name="wp934829"> </a>
C<a name="wp934830"> </a>
C            Reading the second subset.<a name="wp934831"> </a>
C<a name="wp934832"> </a>
C     Set elements of start, stride, and edges arrays to read <a name="wp934833"> </a>
C     first 4 elements of 10th column. <a name="wp934834"> </a>
C<a name="wp934835"> </a>
      start(1) = 0 <a name="wp934836"> </a>
      start(2) = 9 <a name="wp934837"> </a>
      edges(1) = SUB2_LENGTH <a name="wp934838"> </a>
      edges(2) = 1 <a name="wp934839"> </a>
      stride(1) = 1<a name="wp934840"> </a>
      stride(2) = 1 <a name="wp934841"> </a>
C<a name="wp934842"> </a>
C     Read the data into sub2_data array. <a name="wp934843"> </a>
C<a name="wp934844"> </a>
      status = sfrdata(sds_id, start, stride, edges, sub2_data)<a name="wp934845"> </a>
      <a name="wp934846"> </a>
C<a name="wp934847"> </a>
C     Print what we have just read; the following numbers should be displayed:<a name="wp934848"> </a>
C<a name="wp934849"> </a>
C          10 1000 12 13 <a name="wp934850"> </a>
C<a name="wp934851"> </a>
      write(*,*) (sub2_data(j), j = 1, SUB2_LENGTH)<a name="wp934852"> </a>
C<a name="wp934853"> </a>
C            Reading the third subset.<a name="wp934854"> </a>
C<a name="wp934855"> </a>
C     Set elements of start, stride and edges arrays to read <a name="wp934856"> </a>
C     every 6th element in the row and every 4th element in the column<a name="wp934857"> </a>
C     starting at 1st row, 3rd column.  <a name="wp934858"> </a>
C<a name="wp934859"> </a>
      start(1) = 0 <a name="wp934860"> </a>
      start(2) = 2 <a name="wp934861"> </a>
      edges(1) = SUB3_LENGTH1 <a name="wp934862"> </a>
      edges(2) = SUB3_LENGTH2 <a name="wp934863"> </a>
      stride(1) = 4 <a name="wp934864"> </a>
      stride(2) = 6 <a name="wp934865"> </a>
C<a name="wp934866"> </a>
C     Read the data from the file into sub3_data array. <a name="wp934867"> </a>
C<a name="wp934868"> </a>
      status = sfrdata(sds_id, start, stride, edges, sub3_data)<a name="wp934869"> </a>
      <a name="wp934870"> </a>
C<a name="wp934871"> </a>
C     Print what we have just read; the following numbers should be displayed:<a name="wp934872"> </a>
C<a name="wp934873"> </a>
C         3 9 15<a name="wp934874"> </a>
C         7 13 19 <a name="wp934875"> </a>
C<a name="wp934876"> </a>
      do 50 i = 1, SUB3_LENGTH1<a name="wp934877"> </a>
         write(*,*) (sub3_data(i,j), j = 1, SUB3_LENGTH2)<a name="wp934878"> </a>
50    continue    <a name="wp934879"> </a>
C<a name="wp934880"> </a>
C     Terminate access to the data set.<a name="wp934881"> </a>
C<a name="wp934882"> </a>
      status = sfendacc(sds_id)<a name="wp934883"> </a>
C<a name="wp934884"> </a>
C     Terminate access to the SD interface and close the file.<a name="wp934885"> </a>
C<a name="wp934886"> </a>
      status = sfend(sd_id)<a name="wp934887"> </a>
      end<a name="wp934889"> </a>
</pre></div>
<a name="wp931412"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
get_info.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp931522"> </a>
#define FILE_NAME     &quot;SDS.hdf&quot;<a name="wp934899"> </a>
main( ) <a name="wp934901"> </a>
{<a name="wp934902"> </a>
   /************************* Variable declaration **************************/<a name="wp934903"> </a>
   int32 sd_id, sds_id;<a name="wp934905"> </a>
   intn  status;<a name="wp934906"> </a>
   int32 n_datasets, n_file_attrs, index;<a name="wp934907"> </a>
   int32 dim_sizes[MAX_VAR_DIMS];<a name="wp934908"> </a>
   int32 rank, data_type, n_attrs;<a name="wp934909"> </a>
   char  name[MAX_NC_NAME];<a name="wp934910"> </a>
   int   i;<a name="wp934911"> </a>
   /********************* End of variable declaration ***********************/<a name="wp934913"> </a>
   /*<a name="wp934915"> </a>
   * Open the file and initialize the SD interface.<a name="wp934916"> </a>
   */<a name="wp934917"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_READ);<a name="wp934918"> </a>
   /*<a name="wp934920"> </a>
   * Determine the number of data sets in the file and the number<a name="wp934921"> </a>
   * of file attributes. <a name="wp934922"> </a>
   */<a name="wp934923"> </a>
   status = SDfileinfo (sd_id, &amp;n_datasets, &amp;n_file_attrs);<a name="wp934924"> </a>
   /*  <a name="wp934926"> </a>
   * Access every data set and print its name, rank, dimension sizes,<a name="wp934927"> </a>
   * data type, and number of attributes. <a name="wp934928"> </a>
   * The following information should be displayed:<a name="wp934929"> </a>
   *<a name="wp934930"> </a>
   *               name = SDStemplate<a name="wp934931"> </a>
   *               rank = 2<a name="wp934932"> </a>
   *               dimension sizes are : 16  5  <a name="wp934933"> </a>
   *               data type is  24<a name="wp934934"> </a>
   *               number of attributes is  0<a name="wp934935"> </a>
   */<a name="wp934936"> </a>
   for (index = 0; index &lt; n_datasets; index++)<a name="wp934937"> </a>
   {<a name="wp934938"> </a>
       sds_id = SDselect (sd_id, index);<a name="wp934939"> </a>
       status = SDgetinfo (sds_id, name, &amp;rank, dim_sizes, <a name="wp934940"> </a>
                           &amp;data_type, &amp;n_attrs);<a name="wp934941"> </a>
       printf (&quot;name = %s\n&quot;, name);<a name="wp934943"> </a>
       printf (&quot;rank = %d\n&quot;, rank);<a name="wp934944"> </a>
       printf (&quot;dimension sizes are : &quot;);<a name="wp934945"> </a>
       for (i=0; i&lt; rank; i++) printf (&quot;%d  &quot;, dim_sizes[i]);<a name="wp934946"> </a>
       printf (&quot;\n&quot;);<a name="wp934947"> </a>
       printf (&quot;data type is  %d\n&quot;, data_type);<a name="wp934948"> </a>
       printf (&quot;number of attributes is  %d\n&quot;, n_attrs);<a name="wp934949"> </a>
       /*<a name="wp934951"> </a>
       * Terminate access to the data set.<a name="wp934952"> </a>
       */<a name="wp934953"> </a>
       status = SDendaccess (sds_id);<a name="wp934954"> </a>
   }<a name="wp934955"> </a>
   /*<a name="wp934957"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp934958"> </a>
   */<a name="wp934959"> </a>
   status = SDend (sd_id);<a name="wp934960"> </a>
}<a name="wp934961"> </a>
</pre></div>
<a name="wp931523"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
get_info.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program get_data_set_info <a name="wp931648"> </a>
      implicit none<a name="wp934971"> </a>
C<a name="wp934972"> </a>
C     Parameter declaration.<a name="wp934973"> </a>
C<a name="wp934974"> </a>
      character*7  FILE_NAME<a name="wp934975"> </a>
      parameter   (FILE_NAME = &#39;SDS.hdf&#39;)<a name="wp934976"> </a>
      integer      DFACC_READ, DFNT_INT32<a name="wp934977"> </a>
      parameter   (DFACC_READ = 1,<a name="wp934978"> </a>
     +             DFNT_INT32 = 24)<a name="wp934979"> </a>
      integer      MAX_NC_NAME, MAX_VAR_DIMS<a name="wp934980"> </a>
      parameter   (MAX_NC_NAME  = 256,<a name="wp934981"> </a>
     +             MAX_VAR_DIMS = 32)<a name="wp934982"> </a>
C<a name="wp934983"> </a>
C     Function declaration.<a name="wp934984"> </a>
C<a name="wp934985"> </a>
      integer sfstart, sffinfo, sfselect, sfginfo<a name="wp934986"> </a>
      integer sfendacc, sfend<a name="wp934987"> </a>
C<a name="wp934988"> </a>
C**** Variable declaration *******************************************<a name="wp934989"> </a>
C<a name="wp934990"> </a>
      integer sd_id, sds_id<a name="wp934991"> </a>
      integer n_datasets, n_file_attrs, index<a name="wp934992"> </a>
      integer status, n_attrs<a name="wp934993"> </a>
      integer rank, data_type<a name="wp934994"> </a>
      integer dim_sizes(MAX_VAR_DIMS)<a name="wp934995"> </a>
      character name *(MAX_NC_NAME)<a name="wp934996"> </a>
      integer i<a name="wp934997"> </a>
C<a name="wp934998"> </a>
C**** End of variable declaration ************************************<a name="wp934999"> </a>
C<a name="wp935000"> </a>
C<a name="wp935001"> </a>
C     Open the file and initialize the SD interface.<a name="wp935002"> </a>
C<a name="wp935003"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_READ)<a name="wp935004"> </a>
C<a name="wp935005"> </a>
C     Determine the number of data sets in the file and the number of <a name="wp935006"> </a>
C     file attributes. <a name="wp935007"> </a>
C<a name="wp935008"> </a>
      status = sffinfo(sd_id, n_datasets, n_file_attrs)<a name="wp935009"> </a>
C<a name="wp935010"> </a>
C     Access every data set in the file and print its name, rank,<a name="wp935011"> </a>
C     dimension sizes, data type, and number of attributes.<a name="wp935012"> </a>
C     The following information should be displayed:<a name="wp935013"> </a>
C<a name="wp935014"> </a>
C                name = SDStemplate    <a name="wp935015"> </a>
C                rank =   2<a name="wp935016"> </a>
C                dimension sizes are :   5  16<a name="wp935017"> </a>
C                data type is   24<a name="wp935018"> </a>
C                number of attributes is   0<a name="wp935019"> </a>
C<a name="wp935020"> </a>
      do 10 index = 0, n_datasets - 1<a name="wp935021"> </a>
         sds_id = sfselect(sd_id, index)<a name="wp935022"> </a>
         status = sfginfo(sds_id, name, rank, dim_sizes, data_type, <a name="wp935023"> </a>
     .                    n_attrs)<a name="wp935024"> </a>
         write(*,*)  &quot;name = &quot;, name(1:15)<a name="wp935025"> </a>
         write(*,*)  &quot;rank = &quot;, rank<a name="wp935026"> </a>
         write(*,*)  &quot;dimension sizes are : &quot;, (dim_sizes(i), i=1, rank)<a name="wp935027"> </a>
         write(*,*)  &quot;data type is &quot;, data_type<a name="wp935028"> </a>
         write(*,*)  &quot;number of attributes is &quot;, n_attrs   <a name="wp935029"> </a>
C<a name="wp935030"> </a>
C     Terminate access to the current data set.<a name="wp935031"> </a>
C<a name="wp935032"> </a>
         status = sfendacc(sds_id)<a name="wp935033"> </a>
10    continue<a name="wp935034"> </a>
C<a name="wp935035"> </a>
C     Terminate access to the SD interface and close the file.<a name="wp935036"> </a>
C<a name="wp935037"> </a>
      status = sfend(sd_id)<a name="wp935038"> </a>
      end<a name="wp935040"> </a>
</pre></div>
<a name="wp931668"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
find_sds_by_name.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp931778"> </a>
#define FILE_NAME     &quot;SDS.hdf&quot;<a name="wp935051"> </a>
#define SDS_NAME      &quot;SDStemplate&quot;<a name="wp935052"> </a>
#define WRONG_NAME    &quot;WrongName&quot;<a name="wp935053"> </a>
#define X_LENGTH      5<a name="wp935054"> </a>
#define Y_LENGTH      16<a name="wp935055"> </a>
main( ) <a name="wp935057"> </a>
{<a name="wp935058"> </a>
   /************************* Variable declaration **************************/<a name="wp935059"> </a>
   int32 sd_id, sds_id, sds_index;<a name="wp935061"> </a>
   intn  status;<a name="wp935062"> </a>
   int32 start[2], edges[2];<a name="wp935063"> </a>
   int32 data[Y_LENGTH][X_LENGTH];<a name="wp935064"> </a>
   int   i, j;<a name="wp935065"> </a>
   /********************* End of variable declaration ***********************/<a name="wp935067"> </a>
   /*<a name="wp935069"> </a>
   * Open the file for reading and initialize the SD interface.<a name="wp935070"> </a>
   */<a name="wp935071"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_READ);<a name="wp935072"> </a>
   /*<a name="wp935074"> </a>
   * Find index of the data set with the name specified in WRONG_NAME.<a name="wp935075"> </a>
   * Error condition occurs, since the data set with that name does not exist <a name="wp935076"> </a>
   * in the file.<a name="wp935077"> </a>
   */ <a name="wp935078"> </a>
   sds_index = SDnametoindex (sd_id, WRONG_NAME);<a name="wp935079"> </a>
   if (sds_index == FAIL)<a name="wp935080"> </a>
   printf (&quot;Data set with the name \&quot;WrongName\&quot; does not exist\n&quot;); <a name="wp935081"> </a>
   /*<a name="wp935083"> </a>
   * Find index of the data set with the name specified in SDS_NAME and use <a name="wp935084"> </a>
   * the index to select the data set.<a name="wp935085"> </a>
   */ <a name="wp935086"> </a>
   sds_index = SDnametoindex (sd_id, SDS_NAME);<a name="wp935087"> </a>
   sds_id = SDselect (sd_id, sds_index);<a name="wp935088"> </a>
   /* <a name="wp935090"> </a>
   * Set elements of the array start to 0, elements of the array edges to <a name="wp935091"> </a>
   * SDS dimensions, and use NULL for stride argument in SDreaddata to read<a name="wp935092"> </a>
   * the entire data.<a name="wp935093"> </a>
   */<a name="wp935094"> </a>
   start[0] = 0;<a name="wp935095"> </a>
   start[1] = 0;<a name="wp935096"> </a>
   edges[0] = Y_LENGTH;<a name="wp935097"> </a>
   edges[1] = X_LENGTH;<a name="wp935098"> </a>
   /*<a name="wp935100"> </a>
   * Read the entire data into the buffer named data.<a name="wp935101"> </a>
   */<a name="wp935102"> </a>
   status = SDreaddata (sds_id, start, NULL, edges, (VOIDP)data);<a name="wp935103"> </a>
   /* <a name="wp935105"> </a>
   * Print 10th row; the following numbers should be displayed:<a name="wp935106"> </a>
   *<a name="wp935107"> </a>
   *             10 1000 12 13 14<a name="wp935108"> </a>
   */<a name="wp935109"> </a>
   for (j = 0; j &lt; X_LENGTH; j++) printf (&quot;%d &quot;, data[9][j]);<a name="wp935110"> </a>
   printf (&quot;\n&quot;);<a name="wp935111"> </a>
   /*<a name="wp935113"> </a>
   * Terminate access to the data set.<a name="wp935114"> </a>
   */<a name="wp935115"> </a>
   status = SDendaccess (sds_id);<a name="wp935116"> </a>
   /*<a name="wp935118"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp935119"> </a>
   */<a name="wp935120"> </a>
   status = SDend (sd_id);<a name="wp935121"> </a>
}<a name="wp935122"> </a>
</pre></div>
<a name="wp931779"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
find_sds_by_name.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  locate_by_name<a name="wp931904"> </a>
      implicit none<a name="wp935132"> </a>
C<a name="wp935133"> </a>
C     Parameter declaration.<a name="wp935134"> </a>
C<a name="wp935135"> </a>
      character*7  FILE_NAME<a name="wp935136"> </a>
      character*11 SDS_NAME<a name="wp935137"> </a>
      character*9  WRONG_NAME<a name="wp935138"> </a>
      integer      X_LENGTH, Y_LENGTH<a name="wp935139"> </a>
      parameter   (FILE_NAME  = &#39;SDS.hdf&#39;,<a name="wp935140"> </a>
     +             SDS_NAME   = &#39;SDStemplate&#39;,<a name="wp935141"> </a>
     +             WRONG_NAME = &#39;WrongName&#39;,<a name="wp935142"> </a>
     +             X_LENGTH = 5,<a name="wp935143"> </a>
     +             Y_LENGTH = 16)<a name="wp935144"> </a>
      integer      DFACC_READ, DFNT_INT32<a name="wp935145"> </a>
      parameter   (DFACC_READ = 1,<a name="wp935146"> </a>
     +             DFNT_INT32 = 24)<a name="wp935147"> </a>
C<a name="wp935149"> </a>
C     Function declaration.<a name="wp935150"> </a>
C<a name="wp935151"> </a>
      integer sfstart, sfn2index, sfselect, sfrdata, sfendacc, sfend<a name="wp935152"> </a>
C<a name="wp935153"> </a>
C**** Variable declaration *******************************************<a name="wp935154"> </a>
C <a name="wp935155"> </a>
      integer sd_id, sds_id, sds_index, status<a name="wp935156"> </a>
      integer start(2), edges(2), stride(2)<a name="wp935157"> </a>
      integer data(X_LENGTH, Y_LENGTH)<a name="wp935158"> </a>
      integer j<a name="wp935159"> </a>
C<a name="wp935160"> </a>
C**** End of variable declaration ************************************<a name="wp935161"> </a>
C<a name="wp935162"> </a>
C<a name="wp935163"> </a>
C     Open the file and initialize the SD interface.<a name="wp935164"> </a>
C<a name="wp935165"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_READ)<a name="wp935166"> </a>
C<a name="wp935167"> </a>
C     Find index of the data set with the name specified in WRONG_NAME. <a name="wp935168"> </a>
C     Error condition occurs, since a data set with this name <a name="wp935169"> </a>
C     does not exist in the file.<a name="wp935170"> </a>
C<a name="wp935171"> </a>
      sds_index = sfn2index(sd_id, WRONG_NAME)<a name="wp935172"> </a>
      if (sds_index .eq. -1) then<a name="wp935173"> </a>
        write(*,*) &quot;Data set with the name &quot;, WRONG_NAME,<a name="wp935174"> </a>
     +             &quot; does not exist&quot;        <a name="wp935175"> </a>
      endif<a name="wp935176"> </a>
C<a name="wp935177"> </a>
C     Find index of the data set with the name specified in SDS_NAME  <a name="wp935178"> </a>
C     and use the index to attach to the data set. <a name="wp935179"> </a>
C<a name="wp935180"> </a>
      sds_index = sfn2index(sd_id, SDS_NAME)<a name="wp935181"> </a>
      sds_id    = sfselect(sd_id, sds_index)<a name="wp935182"> </a>
C<a name="wp935183"> </a>
C     Set elements of start array to 0, elements of edges array <a name="wp935184"> </a>
C     to SDS dimensions, and elements of stride array to 1 to read entire data. <a name="wp935185"> </a>
C<a name="wp935186"> </a>
      start(1) = 0<a name="wp935187"> </a>
      start(2) = 0<a name="wp935188"> </a>
      edges(1) = X_LENGTH<a name="wp935189"> </a>
      edges(2) = Y_LENGTH<a name="wp935190"> </a>
      stride(1) = 1<a name="wp935191"> </a>
      stride(2) = 1<a name="wp935192"> </a>
C<a name="wp935193"> </a>
C     Read entire data into array named data. <a name="wp935194"> </a>
C<a name="wp935195"> </a>
      status = sfrdata(sds_id, start, stride, edges, data)<a name="wp935196"> </a>
C<a name="wp935197"> </a>
C     Print 10th column; the following numbers should be displayed:<a name="wp935198"> </a>
C<a name="wp935199"> </a>
C           10 1000 12 13 14<a name="wp935200"> </a>
C<a name="wp935201"> </a>
      write(*,*) (data(j,10), j = 1, X_LENGTH)<a name="wp935202"> </a>
C<a name="wp935203"> </a>
C     Terminate access to the data set. <a name="wp935204"> </a>
C<a name="wp935205"> </a>
      status = sfendacc(sds_id)<a name="wp935206"> </a>
C<a name="wp935207"> </a>
C     Terminate access to the SD interface and close the file.<a name="wp935208"> </a>
C<a name="wp935209"> </a>
      status = sfend(sd_id)<a name="wp935210"> </a>
      end<a name="wp935212"> </a>
</pre></div>
<a name="wp931924"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
set_get_dim_info.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp932034"> </a>
#define FILE_NAME     &quot;SDS.hdf&quot;<a name="wp935223"> </a>
#define SDS_NAME      &quot;SDStemplate&quot;<a name="wp935224"> </a>
#define DIM_NAME_X     &quot;X_Axis&quot;<a name="wp935225"> </a>
#define DIM_NAME_Y     &quot;Y_Axis&quot;<a name="wp935226"> </a>
#define NAME_LENGTH   6<a name="wp935227"> </a>
#define X_LENGTH      5<a name="wp935228"> </a>
#define Y_LENGTH      16<a name="wp935229"> </a>
#define RANK          2<a name="wp935230"> </a>
main( ) <a name="wp935232"> </a>
{<a name="wp935233"> </a>
   /************************* Variable declaration **************************/<a name="wp935234"> </a>
   int32   sd_id, sds_id, sds_index;<a name="wp935236"> </a>
   intn    status;<a name="wp935237"> </a>
   int32   dim_index, dim_id;<a name="wp935238"> </a>
   int32   n_values, data_type, n_attrs;<a name="wp935239"> </a>
   int16   data_X[X_LENGTH];    /* X dimension dimension scale */<a name="wp935240"> </a>
   int16   data_X_out[X_LENGTH];<a name="wp935241"> </a>
   float64 data_Y[Y_LENGTH];  /* Y dimension dimension scale */<a name="wp935242"> </a>
   float64 data_Y_out[Y_LENGTH]; <a name="wp935243"> </a>
   char    dim_name[NAME_LENGTH];<a name="wp935244"> </a>
   int     i, j, nrow;<a name="wp935245"> </a>
   /********************* End of variable declaration ***********************/<a name="wp935247"> </a>
   /*<a name="wp935249"> </a>
   * Initialize dimension scales.<a name="wp935250"> </a>
   */<a name="wp935251"> </a>
   for (i=0; i &lt; X_LENGTH; i++) data_X[i] = i;<a name="wp935252"> </a>
   for (i=0; i &lt; Y_LENGTH; i++) data_Y[i] = 0.1 * i;<a name="wp935253"> </a>
      <a name="wp935254"> </a>
   /* <a name="wp935255"> </a>
   * Open the file and initialize SD interface.<a name="wp935256"> </a>
   */<a name="wp935257"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_WRITE);<a name="wp935258"> </a>
   /*<a name="wp935260"> </a>
   * Get the index of the data set specified in SDS_NAME.<a name="wp935261"> </a>
   */<a name="wp935262"> </a>
   sds_index = SDnametoindex (sd_id, SDS_NAME);<a name="wp935263"> </a>
   /*<a name="wp935265"> </a>
   * Select the data set corresponding to the returned index.<a name="wp935266"> </a>
   */<a name="wp935267"> </a>
   sds_id = SDselect (sd_id, sds_index);<a name="wp935268"> </a>
   /* For each dimension of the data set specified in SDS_NAME,<a name="wp935270"> </a>
   *  get its dimension identifier and set dimension name<a name="wp935271"> </a>
   *  and dimension scale. Note that data type of dimension scale <a name="wp935272"> </a>
   *  can be different between dimensions and can be different from <a name="wp935273"> </a>
   *  SDS data type.<a name="wp935274"> </a>
   */<a name="wp935275"> </a>
   for (dim_index = 0; dim_index &lt; RANK; dim_index++) <a name="wp935276"> </a>
   {<a name="wp935277"> </a>
       /* <a name="wp935278"> </a>
       * Select the dimension at position dim_index.<a name="wp935279"> </a>
       */<a name="wp935280"> </a>
       dim_id = SDgetdimid (sds_id, dim_index);<a name="wp935281"> </a>
       /* <a name="wp935283"> </a>
       * Assign name and dimension scale to selected dimension.<a name="wp935284"> </a>
       */<a name="wp935285"> </a>
       switch (dim_index)<a name="wp935286"> </a>
       {<a name="wp935287"> </a>
	case 0:	status = SDsetdimname (dim_id, DIM_NAME_Y);<a name="wp935288"> </a>
                n_values = Y_LENGTH;<a name="wp935289"> </a>
                status = SDsetdimscale (dim_id,n_values,DFNT_FLOAT64, \<a name="wp935290"> </a>
                                       (VOIDP)data_Y);  <a name="wp935291"> </a>
		break;<a name="wp935292"> </a>
	case 1:	status = SDsetdimname (dim_id, DIM_NAME_X);<a name="wp935293"> </a>
                n_values = X_LENGTH; <a name="wp935294"> </a>
                status = SDsetdimscale (dim_id,n_values,DFNT_INT16, \<a name="wp935295"> </a>
                                       (VOIDP)data_X);  <a name="wp935296"> </a>
		break;<a name="wp935297"> </a>
	default: break;<a name="wp935298"> </a>
       }<a name="wp935299"> </a>
       /*<a name="wp935301"> </a>
       * Get and display info about the dimension and its scale values.<a name="wp935302"> </a>
       * The following information is displayed:<a name="wp935303"> </a>
       *                         <a name="wp935304"> </a>
       *         Information about 1 dimension:<a name="wp935305"> </a>
       *         dimension name is Y_Axis<a name="wp935306"> </a>
       *         number of scale values is 16<a name="wp935307"> </a>
       *         dimension scale data type is float64<a name="wp935308"> </a>
       *         number of dimension attributes is 0<a name="wp935309"> </a>
       *<a name="wp935310"> </a>
       *         Scale values are :<a name="wp935311"> </a>
       *               0.000    0.100    0.200    0.300  <a name="wp935312"> </a>
       *               0.400    0.500    0.600    0.700  <a name="wp935313"> </a>
       *               0.800    0.900    1.000    1.100  <a name="wp935314"> </a>
       *               1.200    1.300    1.400    1.500  <a name="wp935315"> </a>
       *<a name="wp935316"> </a>
       *         Information about 2 dimension:<a name="wp935317"> </a>
       *         dimension name is X_Axis<a name="wp935318"> </a>
       *         number of scale values is 5<a name="wp935319"> </a>
       *         dimension scale data type is int16<a name="wp935320"> </a>
       *         number of dimension attributes is 0<a name="wp935321"> </a>
       *<a name="wp935322"> </a>
       *         Scale values are :<a name="wp935323"> </a>
       *               0  1  2  3  4<a name="wp935324"> </a>
       */<a name="wp935325"> </a>
       status = SDdiminfo (dim_id, dim_name, &amp;n_values, &amp;data_type, &amp;n_attrs);<a name="wp935327"> </a>
       printf (&quot;Information about %d dimension:\n&quot;, dim_index+1);<a name="wp935328"> </a>
       printf (&quot;dimension name is %s\n&quot;, dim_name);<a name="wp935329"> </a>
       printf (&quot;number of scale values is %d\n&quot;, n_values);<a name="wp935330"> </a>
       if( data_type == DFNT_FLOAT64)<a name="wp935331"> </a>
       printf (&quot;dimension scale data type is float64\n&quot;);<a name="wp935332"> </a>
       if( data_type == DFNT_INT16)<a name="wp935333"> </a>
       printf (&quot;dimension scale data type is int16\n&quot;);<a name="wp935334"> </a>
       printf (&quot;number of dimension attributes is %d\n&quot;, n_attrs);<a name="wp935335"> </a>
       printf (&quot;\n&quot;);<a name="wp935336"> </a>
       printf (&quot;Scale values are :\n&quot;);<a name="wp935337"> </a>
       switch (dim_index) <a name="wp935338"> </a>
       {<a name="wp935339"> </a>
         case 0:  status = SDgetdimscale (dim_id, (VOIDP)data_Y_out);<a name="wp935340"> </a>
                  nrow = 4;<a name="wp935341"> </a>
                  for (i=0; i&lt;n_values/nrow; i++ )<a name="wp935342"> </a>
                  {<a name="wp935343"> </a>
                      for (j=0; j&lt;nrow; j++)<a name="wp935344"> </a>
                          printf (&quot;  %-6.3f&quot;, data_Y_out[i*nrow + j]);<a name="wp935345"> </a>
                          printf (&quot;\n&quot;);<a name="wp935346"> </a>
                  }<a name="wp935347"> </a>
                  break; <a name="wp935348"> </a>
         case 1:  status = SDgetdimscale (dim_id, (VOIDP)data_X_out);<a name="wp935349"> </a>
                  for (i=0; i&lt;n_values; i++) printf (&quot;  %d&quot;, data_X_out[i]);<a name="wp935350"> </a>
                  break; <a name="wp935351"> </a>
         default: break;<a name="wp935352"> </a>
        }<a name="wp935353"> </a>
        printf (&quot;\n&quot;);<a name="wp935354"> </a>
   } /*for dim_index */<a name="wp935355"> </a>
   /*<a name="wp935357"> </a>
   * Terminate access to the data set.<a name="wp935358"> </a>
   */<a name="wp935359"> </a>
   status = SDendaccess (sds_id);<a name="wp935360"> </a>
   /*<a name="wp935362"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp935363"> </a>
   */<a name="wp935364"> </a>
   status = SDend (sd_id);<a name="wp935365"> </a>
}<a name="wp935366"> </a>
</pre></div>
<a name="wp932035"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
set_get_dim_info.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  dimension_info <a name="wp932160"> </a>
      implicit none<a name="wp935375"> </a>
C<a name="wp935376"> </a>
C     Parameter declaration.<a name="wp935377"> </a>
C<a name="wp935378"> </a>
      character*7  FILE_NAME<a name="wp935379"> </a>
      character*11 SDS_NAME<a name="wp935380"> </a>
      character*6  DIM_NAME_X<a name="wp935381"> </a>
      character*6  DIM_NAME_Y<a name="wp935382"> </a>
      integer      X_LENGTH, Y_LENGTH, RANK<a name="wp935383"> </a>
      parameter   (FILE_NAME  = &#39;SDS.hdf&#39;,<a name="wp935384"> </a>
     +             SDS_NAME   = &#39;SDStemplate&#39;,<a name="wp935385"> </a>
     +             DIM_NAME_X  = &#39;X_Axis&#39;,<a name="wp935386"> </a>
     +             DIM_NAME_Y  = &#39;Y_Axis&#39;,<a name="wp935387"> </a>
     +             X_LENGTH = 5,<a name="wp935388"> </a>
     +             Y_LENGTH = 16,<a name="wp935389"> </a>
     +             RANK     = 2)<a name="wp935390"> </a>
      integer      DFACC_WRITE, DFNT_INT16, DFNT_FLOAT64<a name="wp935391"> </a>
      parameter   (DFACC_WRITE   = 2,<a name="wp935392"> </a>
     +             DFNT_INT16   = 22,<a name="wp935393"> </a>
     +             DFNT_FLOAT64 = 6)<a name="wp935394"> </a>
C<a name="wp935396"> </a>
C     Function declaration.<a name="wp935397"> </a>
C<a name="wp935398"> </a>
      integer sfstart, sfn2index, sfdimid, sfgdinfo<a name="wp935399"> </a>
      integer sfsdscale, sfgdscale, sfsdmname, sfendacc<a name="wp935400"> </a>
      integer sfend, sfselect<a name="wp935401"> </a>
C<a name="wp935402"> </a>
C**** Variable declaration *******************************************<a name="wp935403"> </a>
C<a name="wp935404"> </a>
      integer sd_id, sds_id, sds_index, status<a name="wp935405"> </a>
      integer dim_index, dim_id<a name="wp935406"> </a>
      integer n_values, n_attrs, data_type<a name="wp935407"> </a>
      integer*2 data_X(X_LENGTH)<a name="wp935408"> </a>
      integer*2 data_X_out(X_LENGTH)<a name="wp935409"> </a>
      real*8    data_Y(Y_LENGTH)<a name="wp935410"> </a>
      real*8    data_Y_out(Y_LENGTH)<a name="wp935411"> </a>
      character*6 dim_name<a name="wp935412"> </a>
      integer   i<a name="wp935413"> </a>
C<a name="wp935414"> </a>
C**** End of variable declaration ************************************<a name="wp935415"> </a>
C<a name="wp935416"> </a>
C<a name="wp935417"> </a>
C     Initialize dimension scales.<a name="wp935418"> </a>
C<a name="wp935419"> </a>
      do 10 i = 1, X_LENGTH  <a name="wp935420"> </a>
         data_X(i) = i - 1<a name="wp935421"> </a>
10     continue<a name="wp935422"> </a>
      do 20 i = 1, Y_LENGTH  <a name="wp935424"> </a>
         data_Y(i) = 0.1 * (i - 1)<a name="wp935425"> </a>
20     continue<a name="wp935426"> </a>
C<a name="wp935427"> </a>
C     Open the file and initialize SD interface.<a name="wp935428"> </a>
C <a name="wp935429"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_WRITE)<a name="wp935430"> </a>
C<a name="wp935431"> </a>
C     Get the index of the data set with the name specified in SDS_NAME. <a name="wp935432"> </a>
C<a name="wp935433"> </a>
      sds_index = sfn2index(sd_id, SDS_NAME)<a name="wp935434"> </a>
C<a name="wp935435"> </a>
C     Select the data set corresponding to the returned index.<a name="wp935436"> </a>
C<a name="wp935437"> </a>
      sds_id = sfselect(sd_id, sds_index)<a name="wp935438"> </a>
C<a name="wp935439"> </a>
C     For each dimension of the data set,<a name="wp935440"> </a>
C     get its dimension identifier and set dimension name<a name="wp935441"> </a>
C     and dimension scales. Note that data type of dimension scale can<a name="wp935442"> </a>
C     be different between dimensions and can be different from SDS data type.<a name="wp935443"> </a>
C<a name="wp935444"> </a>
      do 30 dim_index = 0, RANK - 1 <a name="wp935445"> </a>
C<a name="wp935446"> </a>
C        Select the dimension at position dim_index.<a name="wp935447"> </a>
C<a name="wp935448"> </a>
         dim_id = sfdimid(sds_id, dim_index)<a name="wp935449"> </a>
C<a name="wp935450"> </a>
C        Assign name and dimension scale to the dimension. <a name="wp935451"> </a>
C<a name="wp935452"> </a>
         if (dim_index .eq. 0) then<a name="wp935453"> </a>
            status = sfsdmname(dim_id, DIM_NAME_X) <a name="wp935454"> </a>
            n_values = X_LENGTH<a name="wp935455"> </a>
            status = sfsdscale(dim_id, n_values, DFNT_INT16, data_X)<a name="wp935456"> </a>
         end if<a name="wp935457"> </a>
         if (dim_index .eq. 1) then<a name="wp935458"> </a>
            status = sfsdmname(dim_id, DIM_NAME_Y)<a name="wp935459"> </a>
            n_values = Y_LENGTH<a name="wp935460"> </a>
            status = sfsdscale(dim_id, n_values, DFNT_FLOAT64, data_Y)<a name="wp935461"> </a>
         end if<a name="wp935462"> </a>
C<a name="wp935463"> </a>
C      Get and display information about dimension and its scale values.<a name="wp935464"> </a>
C      The following information is displayed:<a name="wp935465"> </a>
C<a name="wp935466"> </a>
C                    Information about 1 dimension :<a name="wp935467"> </a>
C                    dimension name is X_Axis<a name="wp935468"> </a>
C                    number of scale values is  5<a name="wp935469"> </a>
C                    dimension scale data type is int16<a name="wp935470"> </a>
C<a name="wp935471"> </a>
C                    number of dimension attributes is   0<a name="wp935472"> </a>
C                    Scale values are:<a name="wp935473"> </a>
C                        0  1  2  3  4<a name="wp935474"> </a>
C<a name="wp935475"> </a>
C                    Information about 2 dimension :<a name="wp935476"> </a>
C                    dimension name is Y_Axis<a name="wp935477"> </a>
C                    number of scale values is  16<a name="wp935478"> </a>
C                    dimension scale data type is float64<a name="wp935479"> </a>
C                    number of dimension attributes is   0<a name="wp935480"> </a>
C<a name="wp935481"> </a>
C                    Scale values are:<a name="wp935482"> </a>
C                        0.000      0.100      0.200      0.300<a name="wp935483"> </a>
C                        0.400      0.500      0.600      0.700<a name="wp935484"> </a>
C                        0.800      0.900      1.000      1.100<a name="wp935485"> </a>
C                        1.200      1.300      1.400      1.500<a name="wp935486"> </a>
C<a name="wp935487"> </a>
       status = sfgdinfo(dim_id, dim_name, n_values, data_type, n_attrs)<a name="wp935488"> </a>
C<a name="wp935489"> </a>
       write(*,*) &quot;Information about &quot;, dim_index+1,&quot; dimension :&quot;<a name="wp935490"> </a>
       write(*,*) &quot;dimension name is &quot;, dim_name<a name="wp935491"> </a>
       write(*,*) &quot;number of scale values is&quot;, n_values<a name="wp935492"> </a>
       if (data_type. eq. 22) then<a name="wp935493"> </a>
           write(*,*) &quot;dimension scale data type is int16&quot;<a name="wp935494"> </a>
       endif <a name="wp935495"> </a>
       if (data_type. eq. 6) then<a name="wp935496"> </a>
           write(*,*) &quot;dimension scale data type is float64&quot;<a name="wp935497"> </a>
       endif <a name="wp935498"> </a>
       write(*,*) &quot;number of dimension attributes is &quot;, n_attrs<a name="wp935499"> </a>
C<a name="wp935500"> </a>
       write(*,*) &quot;Scale values are:&quot;<a name="wp935501"> </a>
       if (dim_index .eq. 0) then<a name="wp935502"> </a>
          status = sfgdscale(dim_id, data_X_out)<a name="wp935503"> </a>
          write(*,*) (data_X_out(i), i= 1, X_LENGTH)<a name="wp935504"> </a>
       endif <a name="wp935505"> </a>
       if (dim_index .eq. 1)  then<a name="wp935506"> </a>
          status = sfgdscale(dim_id, data_Y_out) <a name="wp935507"> </a>
          write(*,100) (data_Y_out(i), i= 1, Y_LENGTH)<a name="wp935508"> </a>
100       format(4(1x,f10.3)/)<a name="wp935509"> </a>
       endif <a name="wp935510"> </a>
30      continue<a name="wp935511"> </a>
C<a name="wp935512"> </a>
C     Terminate access to the data set.<a name="wp935513"> </a>
C<a name="wp935514"> </a>
      status = sfendacc(sds_id)<a name="wp935515"> </a>
C<a name="wp935516"> </a>
C     Terminate access to the SD interface and close the file.<a name="wp935517"> </a>
C<a name="wp935518"> </a>
      status = sfend(sd_id)<a name="wp935519"> </a>
      end<a name="wp935520"> </a>
</pre></div>
<a name="wp932176"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
dimscale_vs_sds.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp932286"> </a>
#define FILE_NAME     &quot;SDS.hdf&quot;<a name="wp935534"> </a>
main( ) <a name="wp935536"> </a>
{<a name="wp935537"> </a>
   /************************* Variable declaration **************************/<a name="wp935538"> </a>
   int32 sd_id, sds_id, sds_index;<a name="wp935540"> </a>
   intn  status;<a name="wp935541"> </a>
   int32 rank, data_type, dim_sizes[MAX_VAR_DIMS];<a name="wp935542"> </a>
   int32 n_datasets, n_file_attr, n_attrs; <a name="wp935543"> </a>
   char  sds_name[MAX_NC_NAME];<a name="wp935544"> </a>
   /********************* End of variable declaration ***********************/<a name="wp935546"> </a>
   /*<a name="wp935548"> </a>
   * Open the file and initialize the SD interface.<a name="wp935549"> </a>
   */<a name="wp935550"> </a>
   sd_id = SDstart(FILE_NAME, DFACC_READ);<a name="wp935551"> </a>
   /*<a name="wp935553"> </a>
   * Obtain information about the file.<a name="wp935554"> </a>
   */ <a name="wp935555"> </a>
   status = SDfileinfo(sd_id, &amp;n_datasets, &amp;n_file_attr);<a name="wp935556"> </a>
   /* Get information about each SDS in the file.<a name="wp935558"> </a>
   *  Check whether it is a coordinate variable, then display retrieved <a name="wp935559"> </a>
   *  information.<a name="wp935560"> </a>
   *  Output displayed:<a name="wp935561"> </a>
   *<a name="wp935562"> </a>
   *            SDS array with the name SDStemplate<a name="wp935563"> </a>
   *            Coordinate variable with the name Y_Axis<a name="wp935564"> </a>
   *            Coordinate variable with the name X_Axis<a name="wp935565"> </a>
   *<a name="wp935566"> </a>
   */<a name="wp935567"> </a>
   for (sds_index=0; sds_index&lt; n_datasets; sds_index++) <a name="wp935568"> </a>
   {<a name="wp935569"> </a>
       sds_id = SDselect (sd_id, sds_index);<a name="wp935570"> </a>
       status = SDgetinfo(sds_id, sds_name, &amp;rank, dim_sizes, &amp;data_type, &amp;n_attrs);<a name="wp935571"> </a>
       if (SDiscoordvar(sds_id)) <a name="wp935572"> </a>
          printf(&quot; Coordinate variable with the name %s\n&quot;, sds_name);<a name="wp935573"> </a>
       else<a name="wp935574"> </a>
          printf(&quot; SDS array with the name %s\n&quot;, sds_name);<a name="wp935575"> </a>
   /*<a name="wp935577"> </a>
   * Terminate access to the selected data set.<a name="wp935578"> </a>
   */<a name="wp935579"> </a>
   status = SDendaccess(sds_id);<a name="wp935580"> </a>
   }<a name="wp935582"> </a>
   /*<a name="wp935584"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp935585"> </a>
   */<a name="wp935586"> </a>
   status = SDend(sd_id);<a name="wp935587"> </a>
}<a name="wp935588"> </a>
</pre></div>
<a name="wp932287"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
dimscale_vs_sds.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  sds_vrs_coordvar <a name="wp932412"> </a>
      implicit none<a name="wp935598"> </a>
C<a name="wp935599"> </a>
C     Parameter declaration.<a name="wp935600"> </a>
C<a name="wp935601"> </a>
      character*7  FILE_NAME<a name="wp935602"> </a>
      parameter   (FILE_NAME = &#39;SDS.hdf&#39;)<a name="wp935603"> </a>
      integer      DFACC_READ, DFNT_INT32<a name="wp935604"> </a>
      parameter   (DFACC_READ = 1,<a name="wp935605"> </a>
     +             DFNT_INT32 = 24)<a name="wp935606"> </a>
      integer      MAX_VAR_DIMS<a name="wp935607"> </a>
      parameter   (MAX_VAR_DIMS = 32)<a name="wp935608"> </a>
C<a name="wp935609"> </a>
C     Function declaration.<a name="wp935610"> </a>
C <a name="wp935611"> </a>
      integer sfstart, sfselect, sfiscvar, sffinfo, sfginfo<a name="wp935612"> </a>
      integer sfendacc, sfend<a name="wp935613"> </a>
C<a name="wp935614"> </a>
C**** Variable declaration *******************************************<a name="wp935615"> </a>
C<a name="wp935616"> </a>
      integer       sd_id, sds_id, sds_index, status<a name="wp935617"> </a>
      integer       rank, data_type<a name="wp935618"> </a>
      integer       n_datasets, n_file_attrs, n_attrs<a name="wp935619"> </a>
      integer       dim_sizes(MAX_VAR_DIMS)<a name="wp935620"> </a>
      character*256 sds_name<a name="wp935621"> </a>
C<a name="wp935622"> </a>
C**** End of variable declaration ************************************<a name="wp935623"> </a>
C<a name="wp935624"> </a>
C<a name="wp935625"> </a>
C     Open the file and initialize the SD interface.<a name="wp935626"> </a>
C<a name="wp935627"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_READ)<a name="wp935628"> </a>
C<a name="wp935629"> </a>
C     Obtain information about the file.<a name="wp935630"> </a>
C <a name="wp935631"> </a>
      status = sffinfo(sd_id, n_datasets, n_file_attrs) <a name="wp935632"> </a>
C<a name="wp935633"> </a>
C     Get information about each SDS in the file.<a name="wp935634"> </a>
C     Check whether it is a coordinate variable, then display retrieved <a name="wp935635"> </a>
C     information. <a name="wp935636"> </a>
C     Output displayed:<a name="wp935637"> </a>
C <a name="wp935638"> </a>
C           SDS array with the name SDStemplate<a name="wp935639"> </a>
C           Coordinate variable with the name X_Axis<a name="wp935640"> </a>
C           Coordinate variable with the name Y_Axis<a name="wp935641"> </a>
C<a name="wp935642"> </a>
      do 10 sds_index = 0, n_datasets-1<a name="wp935643"> </a>
         sds_id = sfselect(sd_id, sds_index)<a name="wp935644"> </a>
         status = sfginfo(sds_id, sds_name, rank, dim_sizes,<a name="wp935645"> </a>
     +                    data_type, n_attrs)<a name="wp935646"> </a>
         status = sfiscvar(sds_id)<a name="wp935647"> </a>
         if (status .eq. 1) then<a name="wp935648"> </a>
             write(*,*) &quot;Coordinate variable with the name &quot;,<a name="wp935649"> </a>
     +       sds_name(1:6) <a name="wp935650"> </a>
         else<a name="wp935651"> </a>
             write(*,*) &quot;SDS array with the name &quot;, <a name="wp935652"> </a>
     +       sds_name(1:11) <a name="wp935653"> </a>
         endif<a name="wp935654"> </a>
C<a name="wp935655"> </a>
C        Terminate access to the data set.<a name="wp935656"> </a>
C<a name="wp935657"> </a>
         status = sfendacc(sds_id)<a name="wp935658"> </a>
10    continue<a name="wp935659"> </a>
C<a name="wp935660"> </a>
C     Terminate access to the SD interface and close the file.<a name="wp935661"> </a>
C<a name="wp935662"> </a>
      status = sfend(sd_id)<a name="wp935663"> </a>
      end<a name="wp935664"> </a>
</pre></div>
<a name="wp932432"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
set_attr.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp932542"> </a>
#define FILE_NAME      &quot;SDS.hdf&quot;<a name="wp935675"> </a>
#define FILE_ATTR_NAME &quot;File_contents&quot;<a name="wp935676"> </a>
#define SDS_ATTR_NAME  &quot;Valid_range&quot;<a name="wp935677"> </a>
#define DIM_ATTR_NAME  &quot;Dim_metric&quot;<a name="wp935678"> </a>
main( ) <a name="wp935680"> </a>
{<a name="wp935681"> </a>
   /************************* Variable declaration **************************/<a name="wp935682"> </a>
   int32   sd_id, sds_id, sds_index;<a name="wp935684"> </a>
   intn    status;<a name="wp935685"> </a>
   int32   dim_id, dim_index;<a name="wp935686"> </a>
   int32   n_values;                /* number of values of the file, SDS or<a name="wp935687"> </a>
                                       dimension attribute         */<a name="wp935688"> </a>
   char8   file_values[] = &quot;Storm_track_data&quot;; <a name="wp935689"> </a>
                                   /* values of the file attribute */<a name="wp935690"> </a>
   float32 sds_values[2] = {2., 10.};<a name="wp935691"> </a>
                                   /* values of the SDS attribute  */<a name="wp935692"> </a>
   char8   dim_values[]  = &quot;Seconds&quot;; <a name="wp935693"> </a>
                                  /* values of the dimension attribute */<a name="wp935694"> </a>
   /********************* End of variable declaration ***********************/<a name="wp935696"> </a>
   /*<a name="wp935698"> </a>
   * Open the file and initialize the SD interface.<a name="wp935699"> </a>
   */<a name="wp935700"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_WRITE);<a name="wp935701"> </a>
   /*<a name="wp935703"> </a>
   * Set an attribute that describes the file contents.<a name="wp935704"> </a>
   */<a name="wp935705"> </a>
   n_values = 16;<a name="wp935706"> </a>
   status = SDsetattr (sd_id, FILE_ATTR_NAME, DFNT_CHAR8, n_values, <a name="wp935707"> </a>
                       (VOIDP)file_values);<a name="wp935708"> </a>
   /*<a name="wp935710"> </a>
   * Select the first data set.<a name="wp935711"> </a>
   */<a name="wp935712"> </a>
   sds_index = 0;<a name="wp935713"> </a>
   sds_id = SDselect (sd_id, sds_index);<a name="wp935714"> </a>
   /* <a name="wp935716"> </a>
   * Assign attribute to the first SDS. Note that attribute values<a name="wp935717"> </a>
   * may have different data type than SDS data.<a name="wp935718"> </a>
   */<a name="wp935719"> </a>
   n_values  = 2;<a name="wp935720"> </a>
   status = SDsetattr (sds_id, SDS_ATTR_NAME, DFNT_FLOAT32, n_values, <a name="wp935721"> </a>
                       (VOIDP)sds_values);<a name="wp935722"> </a>
   /*<a name="wp935724"> </a>
   * Get the the second dimension identifier of the SDS.<a name="wp935725"> </a>
   */<a name="wp935726"> </a>
   dim_index = 1;<a name="wp935727"> </a>
   dim_id = SDgetdimid (sds_id, dim_index);<a name="wp935728"> </a>
   /*<a name="wp935730"> </a>
   * Set an attribute of the dimension that specifies the dimension metric.<a name="wp935731"> </a>
   */<a name="wp935732"> </a>
   n_values = 7;<a name="wp935733"> </a>
   status = SDsetattr (dim_id, DIM_ATTR_NAME, DFNT_CHAR8, n_values, <a name="wp935734"> </a>
                       (VOIDP)dim_values);<a name="wp935735"> </a>
   /*<a name="wp935737"> </a>
   * Terminate access to the data set.<a name="wp935738"> </a>
   */<a name="wp935739"> </a>
   status = SDendaccess (sds_id);<a name="wp935740"> </a>
   /*<a name="wp935742"> </a>
   * Terminate access to the SD interface and close the file.<a name="wp935743"> </a>
   */<a name="wp935744"> </a>
   status = SDend (sd_id);<a name="wp935745"> </a>
}<a name="wp935746"> </a>
</pre></div>
<a name="wp932543"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
set_attr.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  set_attribs<a name="wp932668"> </a>
      implicit none<a name="wp935755"> </a>
C<a name="wp935756"> </a>
C     Parameter declaration.<a name="wp935757"> </a>
C<a name="wp935758"> </a>
      character*7  FILE_NAME<a name="wp935759"> </a>
      character*13 FILE_ATTR_NAME<a name="wp935760"> </a>
      character*11 SDS_ATTR_NAME<a name="wp935761"> </a>
      character*10 DIM_ATTR_NAME<a name="wp935762"> </a>
      parameter   (FILE_NAME = &#39;SDS.hdf&#39;,<a name="wp935763"> </a>
     +             FILE_ATTR_NAME = &#39;File_contents&#39;,<a name="wp935764"> </a>
     +             SDS_ATTR_NAME  = &#39;Valid_range&#39;,<a name="wp935765"> </a>
     +             DIM_ATTR_NAME  = &#39;Dim_metric&#39;)<a name="wp935766"> </a>
      integer      DFACC_WRITE, DFNT_CHAR8, DFNT_FLOAT32<a name="wp935767"> </a>
      parameter   (DFACC_WRITE = 2,<a name="wp935768"> </a>
     +             DFNT_CHAR8  = 4,<a name="wp935769"> </a>
     +             DFNT_FLOAT32 = 5)<a name="wp935770"> </a>
C<a name="wp935771"> </a>
C     Function declaration.<a name="wp935772"> </a>
C<a name="wp935773"> </a>
      integer sfstart, sfscatt, sfsnatt, sfselect, sfdimid<a name="wp935774"> </a>
      integer sfendacc, sfend<a name="wp935775"> </a>
C<a name="wp935776"> </a>
C**** Variable declaration *******************************************<a name="wp935777"> </a>
C<a name="wp935778"> </a>
      integer sd_id, sds_id, sds_index, status<a name="wp935779"> </a>
      integer dim_id, dim_index <a name="wp935780"> </a>
      integer n_values<a name="wp935781"> </a>
      character*16 file_values<a name="wp935782"> </a>
      real         sds_values(2)<a name="wp935783"> </a>
      character*7  dim_values<a name="wp935784"> </a>
      file_values   = &#39;Storm_track_data&#39;<a name="wp935785"> </a>
      sds_values(1) = 2.<a name="wp935786"> </a>
      sds_values(2) = 10.<a name="wp935787"> </a>
      dim_values    = &#39;Seconds&#39;<a name="wp935788"> </a>
C<a name="wp935789"> </a>
C**** End of variable declaration ************************************<a name="wp935790"> </a>
C<a name="wp935791"> </a>
C<a name="wp935792"> </a>
C     Open the file and initialize the SD interface. <a name="wp935793"> </a>
C<a name="wp935794"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_WRITE)<a name="wp935795"> </a>
C<a name="wp935796"> </a>
C     Set an attribute that describes the file contents. <a name="wp935797"> </a>
C<a name="wp935798"> </a>
      n_values = 16<a name="wp935799"> </a>
      status = sfscatt(sd_id, FILE_ATTR_NAME, DFNT_CHAR8, n_values, <a name="wp935800"> </a>
     +                 file_values)<a name="wp935801"> </a>
C<a name="wp935802"> </a>
C     Select the first data set. <a name="wp935803"> </a>
C<a name="wp935804"> </a>
      sds_index = 0<a name="wp935805"> </a>
      sds_id = sfselect(sd_id, sds_index)<a name="wp935806"> </a>
C<a name="wp935807"> </a>
C     Assign attribute to the first SDS. Note that attribute values<a name="wp935808"> </a>
C     may have different data type than SDS data.<a name="wp935809"> </a>
C<a name="wp935810"> </a>
      n_values = 2<a name="wp935811"> </a>
      status = sfsnatt(sds_id, SDS_ATTR_NAME, DFNT_FLOAT32, n_values, <a name="wp935812"> </a>
     +                 sds_values)<a name="wp935813"> </a>
C<a name="wp935814"> </a>
C     Get the identifier for the first dimension. <a name="wp935815"> </a>
C<a name="wp935816"> </a>
      dim_index = 0 <a name="wp935817"> </a>
      dim_id = sfdimid(sds_id, dim_index)<a name="wp935818"> </a>
C<a name="wp935819"> </a>
C     Set an attribute to the dimension that specifies the<a name="wp935820"> </a>
C     dimension metric. <a name="wp935821"> </a>
C<a name="wp935822"> </a>
      n_values = 7<a name="wp935823"> </a>
      status = sfscatt(dim_id, DIM_ATTR_NAME, DFNT_CHAR8, n_values, <a name="wp935824"> </a>
     +                 dim_values)<a name="wp935825"> </a>
C<a name="wp935826"> </a>
C     Terminate access to the data set. <a name="wp935827"> </a>
C<a name="wp935828"> </a>
      status = sfendacc(sds_id)<a name="wp935829"> </a>
C<a name="wp935830"> </a>
C     Terminate access to the SD interface and close the file.<a name="wp935831"> </a>
C<a name="wp935832"> </a>
      status = sfend(sd_id)<a name="wp935833"> </a>
      end<a name="wp935835"> </a>
</pre></div>
<a name="wp932684"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
get_attr.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp932794"> </a>
#define FILE_NAME      &quot;SDS.hdf&quot;<a name="wp935846"> </a>
#define FILE_ATTR_NAME &quot;File_contents&quot;<a name="wp935847"> </a>
#define SDS_ATTR_NAME  &quot;Valid_range&quot;<a name="wp935848"> </a>
#define DIM_ATTR_NAME  &quot;Dim_metric&quot;<a name="wp935849"> </a>
main( ) <a name="wp935851"> </a>
{<a name="wp935852"> </a>
   /************************* Variable declaration **************************/<a name="wp935853"> </a>
   int32   sd_id, sds_id, dim_id;<a name="wp935855"> </a>
   intn    status;<a name="wp935856"> </a>
   int32   attr_index, data_type, n_values; <a name="wp935857"> </a>
   char    attr_name[MAX_NC_NAME];<a name="wp935858"> </a>
   int8    *file_data;<a name="wp935859"> </a>
   int8    *dim_data;<a name="wp935860"> </a>
   float32 *sds_data;<a name="wp935861"> </a>
   int     i;<a name="wp935862"> </a>
   <a name="wp935863"> </a>
   /********************* End of variable declaration ***********************/<a name="wp935864"> </a>
   /*<a name="wp935866"> </a>
   * Open the file and initialize SD interface.<a name="wp935867"> </a>
   */<a name="wp935868"> </a>
   sd_id = SDstart (FILE_NAME, DFACC_READ);<a name="wp935869"> </a>
   /*<a name="wp935871"> </a>
   * Find the file attribute defined by FILE_ATTR_NAME.<a name="wp935872"> </a>
   */<a name="wp935873"> </a>
   attr_index = SDfindattr (sd_id, FILE_ATTR_NAME);<a name="wp935874"> </a>
   /*<a name="wp935876"> </a>
   * Get information about the file attribute. Note that the first<a name="wp935877"> </a>
   * parameter is an SD interface identifier.<a name="wp935878"> </a>
   */<a name="wp935879"> </a>
   status = SDattrinfo (sd_id, attr_index, attr_name, &amp;data_type, &amp;n_values);<a name="wp935880"> </a>
   /*<a name="wp935882"> </a>
   * Allocate a buffer to hold the attribute data.<a name="wp935883"> </a>
   */<a name="wp935884"> </a>
   file_data = (int8 *)malloc (n_values * sizeof (data_type));<a name="wp935885"> </a>
   /*<a name="wp935887"> </a>
   * Read the file attribute data.<a name="wp935888"> </a>
   */<a name="wp935889"> </a>
   status = SDreadattr (sd_id, attr_index, file_data);<a name="wp935890"> </a>
   /*<a name="wp935892"> </a>
   * Print out file attribute value. <a name="wp935893"> </a>
   */<a name="wp935894"> </a>
   printf (&quot;File attribute value is : %s\n&quot;, file_data);<a name="wp935895"> </a>
   /*<a name="wp935897"> </a>
   * Select the first data set.<a name="wp935898"> </a>
   */<a name="wp935899"> </a>
   sds_id = SDselect (sd_id, 0);<a name="wp935900"> </a>
   /*<a name="wp935902"> </a>
   * Find the data set attribute defined by SDS_ATTR_NAME. Note that the<a name="wp935903"> </a>
   * first parameter is a data set identifier.<a name="wp935904"> </a>
   */<a name="wp935905"> </a>
   attr_index = SDfindattr (sds_id, SDS_ATTR_NAME);<a name="wp935906"> </a>
   /*<a name="wp935908"> </a>
   * Get information about the data set attribute.<a name="wp935909"> </a>
   */<a name="wp935910"> </a>
   status = SDattrinfo (sds_id, attr_index, attr_name, &amp;data_type, &amp;n_values);<a name="wp935911"> </a>
   /*<a name="wp935913"> </a>
   * Allocate a buffer to hold the data set attribute data.<a name="wp935914"> </a>
   */<a name="wp935915"> </a>
   sds_data = (float32 *)malloc (n_values * sizeof (data_type));<a name="wp935916"> </a>
   /*<a name="wp935918"> </a>
   * Read the SDS attribute data.<a name="wp935919"> </a>
   */<a name="wp935920"> </a>
   status = SDreadattr (sds_id, attr_index, sds_data);<a name="wp935921"> </a>
   /*<a name="wp935923"> </a>
   * Print out SDS attribute data type and values. <a name="wp935924"> </a>
   */<a name="wp935925"> </a>
   if (data_type == DFNT_FLOAT32) <a name="wp935926"> </a>
                 printf (&quot;SDS attribute data type is : float32\n&quot;);<a name="wp935927"> </a>
   printf (&quot;SDS attribute values are :  &quot;);<a name="wp935928"> </a>
   for (i=0; i&lt;n_values; i++) printf (&quot; %f&quot;, sds_data[i]);<a name="wp935929"> </a>
   printf (&quot;\n&quot;); <a name="wp935930"> </a>
   /*    <a name="wp935932"> </a>
   * Get the identifier for the second dimension of the SDS.<a name="wp935933"> </a>
   */<a name="wp935934"> </a>
   dim_id = SDgetdimid (sds_id, 1);<a name="wp935935"> </a>
   /*<a name="wp935937"> </a>
   * Find dimension attribute defined by DIM_ATTR_NAME.<a name="wp935938"> </a>
   */<a name="wp935939"> </a>
   attr_index = SDfindattr (dim_id, DIM_ATTR_NAME);<a name="wp935940"> </a>
   /*<a name="wp935942"> </a>
   * Get information about the dimension attribute.<a name="wp935943"> </a>
   */<a name="wp935944"> </a>
   status = SDattrinfo (dim_id, attr_index, attr_name, &amp;data_type, &amp;n_values);<a name="wp935945"> </a>
   /*<a name="wp935947"> </a>
   * Allocate a buffer to hold the dimension attribute data.<a name="wp935948"> </a>
   */<a name="wp935949"> </a>
   dim_data = (int8 *)malloc (n_values * sizeof (data_type));<a name="wp935950"> </a>
   /*<a name="wp935952"> </a>
   * Read the dimension attribute data.<a name="wp935953"> </a>
   */<a name="wp935954"> </a>
   status = SDreadattr (dim_id, attr_index, dim_data);<a name="wp935955"> </a>
   /*<a name="wp935957"> </a>
   * Print out dimension attribute value. <a name="wp935958"> </a>
   */<a name="wp935959"> </a>
   printf (&quot;Dimensional attribute values is : %s\n&quot;, dim_data);<a name="wp935960"> </a>
   /*<a name="wp935962"> </a>
   * Terminate access to the data set and to the SD interface and <a name="wp935963"> </a>
   * close the file.<a name="wp935964"> </a>
   */<a name="wp935965"> </a>
   status = SDendaccess (sds_id);<a name="wp935966"> </a>
   status = SDend (sd_id);<a name="wp935967"> </a>
   /*<a name="wp935969"> </a>
   * Free all buffers.<a name="wp935970"> </a>
   */<a name="wp935971"> </a>
   free (dim_data);<a name="wp935972"> </a>
   free (sds_data);<a name="wp935973"> </a>
   free (file_data);<a name="wp935974"> </a>
   /*   Output of this program is :<a name="wp935976"> </a>
   *<a name="wp935977"> </a>
   *    File attribute value is : Storm_track_data<a name="wp935978"> </a>
   *    SDS attribute data type is : float32<a name="wp935979"> </a>
   *    SDS attribute values are :   2.000000 10.000000<a name="wp935980"> </a>
   *    Dimensional attribute values is : Seconds<a name="wp935981"> </a>
   */<a name="wp935982"> </a>
}<a name="wp935983"> </a>
</pre></div>
<a name="wp932795"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
get_attr.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  attr_info<a name="wp932920"> </a>
      implicit none<a name="wp935996"> </a>
C<a name="wp935997"> </a>
C     Parameter declaration.<a name="wp935998"> </a>
C<a name="wp935999"> </a>
      character*7  FILE_NAME<a name="wp936000"> </a>
      character*13 FILE_ATTR_NAME<a name="wp936001"> </a>
      character*11 SDS_ATTR_NAME<a name="wp936002"> </a>
      character*10 DIM_ATTR_NAME<a name="wp936003"> </a>
      parameter   (FILE_NAME = &#39;SDS.hdf&#39;,<a name="wp936004"> </a>
     +             FILE_ATTR_NAME = &#39;File_contents&#39;,<a name="wp936005"> </a>
     +             SDS_ATTR_NAME  = &#39;Valid_range&#39;,<a name="wp936006"> </a>
     +             DIM_ATTR_NAME  = &#39;Dim_metric&#39;)<a name="wp936007"> </a>
      integer      DFACC_READ, DFNT_FLOAT32<a name="wp936008"> </a>
      parameter   (DFACC_READ   = 1,<a name="wp936009"> </a>
     +             DFNT_FLOAT32 = 5)<a name="wp936010"> </a>
C<a name="wp936012"> </a>
C     Function declaration.<a name="wp936013"> </a>
C<a name="wp936014"> </a>
      integer sfstart, sffattr, sfgainfo, sfrattr, sfselect<a name="wp936015"> </a>
      integer sfdimid, sfendacc, sfend<a name="wp936016"> </a>
C<a name="wp936017"> </a>
C**** Variable declaration *******************************************<a name="wp936018"> </a>
C<a name="wp936019"> </a>
      integer      sd_id, sds_id, dim_id<a name="wp936020"> </a>
      integer      attr_index, data_type, n_values, status<a name="wp936021"> </a>
      real         sds_data(2)<a name="wp936022"> </a>
      character*20 attr_name <a name="wp936023"> </a>
      character*16 file_data<a name="wp936024"> </a>
      character*7  dim_data<a name="wp936025"> </a>
      integer      i<a name="wp936026"> </a>
C<a name="wp936027"> </a>
C**** End of variable declaration ************************************<a name="wp936028"> </a>
C<a name="wp936029"> </a>
C<a name="wp936030"> </a>
C     Open the file and initialize SD interface. <a name="wp936031"> </a>
C<a name="wp936032"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_READ)<a name="wp936033"> </a>
C<a name="wp936034"> </a>
C     Find the file attribute defined by FILE_ATTR_NAME.<a name="wp936035"> </a>
C     Note that the first parameter is an SD interface identifier.<a name="wp936036"> </a>
C<a name="wp936037"> </a>
      attr_index = sffattr(sd_id, FILE_ATTR_NAME)<a name="wp936038"> </a>
C<a name="wp936039"> </a>
C     Get information about the file attribute. <a name="wp936040"> </a>
C<a name="wp936041"> </a>
      status = sfgainfo(sd_id, attr_index, attr_name, data_type, <a name="wp936042"> </a>
     +			n_values)<a name="wp936043"> </a>
C<a name="wp936044"> </a>
C     Read the file attribute data. <a name="wp936045"> </a>
C<a name="wp936046"> </a>
      status = sfrattr(sd_id, attr_index, file_data)<a name="wp936047"> </a>
C<a name="wp936048"> </a>
C     Print file attribute value.<a name="wp936049"> </a>
C<a name="wp936050"> </a>
      write(*,*) &quot;File attribute value is : &quot;, file_data <a name="wp936051"> </a>
C<a name="wp936052"> </a>
C     Select the first data set. <a name="wp936053"> </a>
C<a name="wp936054"> </a>
      sds_id = sfselect(sd_id, 0)<a name="wp936055"> </a>
C<a name="wp936056"> </a>
C     Find the data set attribute defined by SDS_ATTR_NAME.<a name="wp936057"> </a>
C     Note that the first parameter is a data set identifier. <a name="wp936058"> </a>
C<a name="wp936059"> </a>
      attr_index = sffattr(sds_id, SDS_ATTR_NAME)<a name="wp936060"> </a>
C<a name="wp936061"> </a>
C     Get information about the data set attribute. <a name="wp936062"> </a>
C<a name="wp936063"> </a>
      status = sfgainfo(sds_id, attr_index, attr_name, data_type, <a name="wp936064"> </a>
     +			n_values)<a name="wp936065"> </a>
C<a name="wp936066"> </a>
C     Read the SDS attribute data. <a name="wp936067"> </a>
C<a name="wp936068"> </a>
      status = sfrattr(sds_id, attr_index, sds_data)<a name="wp936069"> </a>
C<a name="wp936071"> </a>
C     Print SDS attribute data type and values. <a name="wp936072"> </a>
C<a name="wp936073"> </a>
      if (data_type .eq. DFNT_FLOAT32)  then<a name="wp936074"> </a>
         write(*,*) &quot;SDS attribute data type is : float32 &quot;  <a name="wp936075"> </a>
      endif<a name="wp936076"> </a>
      write(*,*) &quot;SDS attribute values are  : &quot; <a name="wp936077"> </a>
      write(*,*)  (sds_data(i), i=1, n_values) <a name="wp936078"> </a>
C<a name="wp936079"> </a>
C     Get the identifier for the first dimension of the SDS. <a name="wp936080"> </a>
C<a name="wp936081"> </a>
      dim_id = sfdimid(sds_id, 0)<a name="wp936082"> </a>
C<a name="wp936083"> </a>
C     Find the dimensional attribute defined by DIM_ATTR_NAME.<a name="wp936084"> </a>
C     Note that the first parameter is a dimension identifier.<a name="wp936085"> </a>
C<a name="wp936086"> </a>
      attr_index = sffattr(dim_id, DIM_ATTR_NAME)<a name="wp936087"> </a>
C<a name="wp936088"> </a>
C     Get information about dimension attribute. <a name="wp936089"> </a>
C<a name="wp936090"> </a>
      status = sfgainfo(dim_id, attr_index, attr_name, data_type, <a name="wp936091"> </a>
     +			n_values)<a name="wp936092"> </a>
C<a name="wp936093"> </a>
C     Read the dimension attribute data. <a name="wp936094"> </a>
C<a name="wp936095"> </a>
      status = sfrattr(dim_id, attr_index, dim_data)<a name="wp936096"> </a>
C<a name="wp936097"> </a>
C     Print dimension attribute value.<a name="wp936098"> </a>
C<a name="wp936099"> </a>
      write(*,*) &quot;Dimensional attribute value is : &quot;, dim_data <a name="wp936100"> </a>
C<a name="wp936101"> </a>
C     Terminate access to the data set. <a name="wp936102"> </a>
C<a name="wp936103"> </a>
      status = sfendacc(sds_id)<a name="wp936104"> </a>
C<a name="wp936105"> </a>
C     Terminate access to the SD interface and close the file. <a name="wp936106"> </a>
C<a name="wp936107"> </a>
      status = sfend(sd_id)<a name="wp936108"> </a>
C<a name="wp936109"> </a>
C     Output of this program is :<a name="wp936110"> </a>
C<a name="wp936111"> </a>
C<a name="wp936112"> </a>
C     File attribute value is : Storm_track_data<a name="wp936113"> </a>
C     SDS attribute data type is : float32 <a name="wp936114"> </a>
C     SDS attribute values are  : <a name="wp936115"> </a>
C         2.00000   10.00000<a name="wp936116"> </a>
C      Dimensional attribute value is : Seconds<a name="wp936117"> </a>
C<a name="wp936118"> </a>
      end<a name="wp936119"> </a>
</pre></div>
<a name="wp932940"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
chunking_example.c
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
#include &quot;mfhdf.h&quot;<a name="wp933050"> </a>
#define FILE_NAME     &quot;SDSchunked.hdf&quot;<a name="wp936129"> </a>
#define SDS_NAME      &quot;ChunkedData&quot;<a name="wp936130"> </a>
#define RANK          2<a name="wp936131"> </a>
main()<a name="wp936133"> </a>
{<a name="wp936134"> </a>
   /************************* Variable declaration **************************/<a name="wp936135"> </a>
   int32         sd_id, sds_id, sds_index;<a name="wp936137"> </a>
   intn          status;<a name="wp936138"> </a>
   int32         flag, maxcache, new_maxcache;<a name="wp936139"> </a>
   int32         dim_sizes[2], origin[2];<a name="wp936140"> </a>
   HDF_CHUNK_DEF c_def, c_def_out; /* Chunking definitions */ <a name="wp936141"> </a>
   int32         comp_flag, c_flags;<a name="wp936142"> </a>
   int16         all_data[9][4];<a name="wp936143"> </a>
   int32         start[2], edges[2];<a name="wp936144"> </a>
   int16         chunk_out[3][2];<a name="wp936145"> </a>
   int16         row[2] = { 5, 5 };<a name="wp936146"> </a>
   int16         column[3] = { 4, 4, 4 };<a name="wp936147"> </a>
   int16         fill_value = 0;   /* Fill value */<a name="wp936148"> </a>
   int           i,j;<a name="wp936149"> </a>
   /*<a name="wp936150"> </a>
   * Declare chunks data type and initialize some of them. <a name="wp936151"> </a>
   */<a name="wp936152"> </a>
          int16 chunk1[3][2] = { 1, 1,<a name="wp936153"> </a>
                                 1, 1,<a name="wp936154"> </a>
                                 1, 1 }; <a name="wp936155"> </a>
          int16 chunk2[3][2] = { 2, 2,<a name="wp936157"> </a>
                                 2, 2,<a name="wp936158"> </a>
                                 2, 2 }; <a name="wp936159"> </a>
          int16 chunk3[3][2] = { 3, 3,<a name="wp936161"> </a>
                                 3, 3,<a name="wp936162"> </a>
                                 3, 3 }; <a name="wp936163"> </a>
          int16 chunk6[3][2] = { 6, 6,<a name="wp936165"> </a>
                                 6, 6,<a name="wp936166"> </a>
                                 6, 6 };<a name="wp936167"> </a>
    /********************* End of variable declaration ***********************/<a name="wp936169"> </a>
    /*<a name="wp936170"> </a>
    * Define chunk&#39;s dimensions.<a name="wp936171"> </a>
    *<a name="wp936172"> </a>
    *         In this example we do not use compression. <a name="wp936173"> </a>
    *         To use chunking with RLE, Skipping Huffman, and GZIP<a name="wp936174"> </a>
    *         compression, initialize<a name="wp936175"> </a>
    *<a name="wp936176"> </a>
    *                c_def.comp.chunk_lengths[0] = 3;<a name="wp936177"> </a>
    *                c_def.comp.chunk_lengths[1] = 2; <a name="wp936178"> </a>
    *<a name="wp936179"> </a>
    *         To use chunking with NBIT, initialize<a name="wp936180"> </a>
    *<a name="wp936181"> </a>
    *                c_def.nbit.chunk_lengths[0] = 3;<a name="wp936182"> </a>
    *                c_def.nbit.chunk_lengths[1] = 2; <a name="wp936183"> </a>
    *<a name="wp936184"> </a>
    */<a name="wp936185"> </a>
    c_def.chunk_lengths[0] = 3;<a name="wp936186"> </a>
    c_def.chunk_lengths[1] = 2;<a name="wp936187"> </a>
    /*<a name="wp936189"> </a>
    * Create the file and initialize SD interface.<a name="wp936190"> </a>
    */<a name="wp936191"> </a>
    sd_id = SDstart (FILE_NAME, DFACC_CREATE);<a name="wp936192"> </a>
    /*<a name="wp936194"> </a>
    * Create 9x4 SDS.<a name="wp936195"> </a>
    */<a name="wp936196"> </a>
    dim_sizes[0] = 9;<a name="wp936197"> </a>
    dim_sizes[1] = 4;<a name="wp936198"> </a>
    sds_id = SDcreate (sd_id, SDS_NAME,DFNT_INT16, RANK, dim_sizes);<a name="wp936199"> </a>
    /*<a name="wp936201"> </a>
    * Fill the SDS array with the fill value.<a name="wp936202"> </a>
    */<a name="wp936203"> </a>
    status = SDsetfillvalue (sds_id, (VOIDP)&amp;fill_value);<a name="wp936204"> </a>
    /*<a name="wp936206"> </a>
    * Create chunked SDS.<a name="wp936207"> </a>
    * In this example we do not use compression ( third<a name="wp936208"> </a>
    * parameter of SDsetchunk is set to HDF_CHUNK).<a name="wp936209"> </a>
    *<a name="wp936210"> </a>
    * To use RLE compresssion, set compression type and flag<a name="wp936211"> </a>
    *<a name="wp936212"> </a>
    *            c_def.comp.comp_type = COMP_CODE_RLE;<a name="wp936213"> </a>
    *            comp_flag = HDF_CHUNK | HDF_COMP;<a name="wp936214"> </a>
    *          <a name="wp936215"> </a>
    * To use Skipping Huffman compression, set compression type, flag<a name="wp936216"> </a>
    * and skipping size skp_size<a name="wp936217"> </a>
    *<a name="wp936218"> </a>
    *            c_def.comp.comp_type = COMP_CODE_SKPHUFF;<a name="wp936219"> </a>
    *            c_def.comp.cinfo.skphuff.skp_size = value;             <a name="wp936220"> </a>
    *            comp_flag = HDF_CHUNK | HDF_COMP;<a name="wp936221"> </a>
    *<a name="wp936222"> </a>
    * To use GZIP compression, set compression type, flag and<a name="wp936223"> </a>
    * deflate level<a name="wp936224"> </a>
    * <a name="wp936225"> </a>
    *            c_def.comp.comp_type = COMP_CODE_DEFLATE;<a name="wp936226"> </a>
    *            c_def.comp.cinfo.deflate.level = value;             <a name="wp936227"> </a>
    *            comp_flag = HDF_CHUNK | HDF_COMP;<a name="wp936228"> </a>
    *<a name="wp936229"> </a>
    * To use NBIT compression, set compression flag and<a name="wp936230"> </a>
    * compression parameters<a name="wp936231"> </a>
    *          <a name="wp936232"> </a>
    *            comp_flag = HDF_CHUNK | HDF_NBIT;<a name="wp936233"> </a>
    *            c_def.nbit.start_bit = value1;             <a name="wp936234"> </a>
    *            c_def.nbit.bit_len   = value2;             <a name="wp936235"> </a>
    *            c_def.nbit.sign_ext  = value3;             <a name="wp936236"> </a>
    *            c_def.nbit.fill_one  = value4;             <a name="wp936237"> </a>
    */<a name="wp936238"> </a>
    comp_flag = HDF_CHUNK;<a name="wp936239"> </a>
    status = SDsetchunk (sds_id, c_def, comp_flag);<a name="wp936240"> </a>
    /*<a name="wp936242"> </a>
    * Set chunk cache to hold maximum of 3 chunks.<a name="wp936243"> </a>
    */<a name="wp936244"> </a>
    maxcache = 3;<a name="wp936245"> </a>
    flag = 0;<a name="wp936246"> </a>
    new_maxcache = SDsetchunkcache (sds_id, maxcache, flag);<a name="wp936247"> </a>
    /* <a name="wp936249"> </a>
    * Write chunks using SDwritechunk function.<a name="wp936250"> </a>
    * Chunks can be written in any order.<a name="wp936251"> </a>
    */<a name="wp936252"> </a>
    /* <a name="wp936254"> </a>
    * Write the chunk with the coordinates (0,0).<a name="wp936255"> </a>
    */<a name="wp936256"> </a>
    origin[0] = 0;<a name="wp936257"> </a>
    origin[1] = 0;<a name="wp936258"> </a>
    status = SDwritechunk (sds_id, origin, (VOIDP) chunk1);<a name="wp936259"> </a>
    /*   <a name="wp936261"> </a>
    * Write the chunk with the coordinates (1,0).<a name="wp936262"> </a>
    */<a name="wp936263"> </a>
    origin[0] = 1;<a name="wp936264"> </a>
    origin[1] = 0;<a name="wp936265"> </a>
    status = SDwritechunk (sds_id, origin, (VOIDP) chunk3);<a name="wp936266"> </a>
    /*   <a name="wp936268"> </a>
    * Write the chunk with the coordinates (0,1). <a name="wp936269"> </a>
    */<a name="wp936270"> </a>
    origin[0] = 0;<a name="wp936271"> </a>
    origin[1] = 1;<a name="wp936272"> </a>
    status = SDwritechunk (sds_id, origin, (VOIDP) chunk2);<a name="wp936273"> </a>
    /* <a name="wp936275"> </a>
    * Write chunk with the coordinates (1,2) using<a name="wp936276"> </a>
    * SDwritedata function.<a name="wp936277"> </a>
    */<a name="wp936278"> </a>
    start[0] = 6;<a name="wp936279"> </a>
    start[1] = 2;<a name="wp936280"> </a>
    edges[0] = 3;<a name="wp936281"> </a>
    edges[1] = 2;<a name="wp936282"> </a>
    status = SDwritedata (sds_id, start, NULL, edges, (VOIDP) chunk6); <a name="wp936283"> </a>
    /* <a name="wp936285"> </a>
    * Fill second column in the chunk with the coordinates (1,1)<a name="wp936286"> </a>
    * using SDwritedata function.<a name="wp936287"> </a>
    */<a name="wp936288"> </a>
    start[0] = 3;<a name="wp936289"> </a>
    start[1] = 3;<a name="wp936290"> </a>
    edges[0] = 3;<a name="wp936291"> </a>
    edges[1] = 1;<a name="wp936292"> </a>
    status = SDwritedata (sds_id, start, NULL, edges, (VOIDP) column); <a name="wp936293"> </a>
    /* <a name="wp936295"> </a>
    * Fill second row in the chunk with the coordinates (0,2)<a name="wp936296"> </a>
    * using SDwritedata function.<a name="wp936297"> </a>
    */<a name="wp936298"> </a>
    start[0] = 7;<a name="wp936299"> </a>
    start[1] = 0;<a name="wp936300"> </a>
    edges[0] = 1;<a name="wp936301"> </a>
    edges[1] = 2;<a name="wp936302"> </a>
    status = SDwritedata (sds_id, start, NULL, edges, (VOIDP) row); <a name="wp936303"> </a>
           <a name="wp936304"> </a>
    /* <a name="wp936305"> </a>
    * Terminate access to the data set.<a name="wp936306"> </a>
    */<a name="wp936307"> </a>
    status = SDendaccess (sds_id);<a name="wp936308"> </a>
    /*<a name="wp936310"> </a>
    * Terminate access to the SD interface and close the file.<a name="wp936311"> </a>
    */<a name="wp936312"> </a>
    status = SDend (sd_id);<a name="wp936313"> </a>
    /*<a name="wp936315"> </a>
    * Reopen the file and access the first data set.<a name="wp936316"> </a>
    */<a name="wp936317"> </a>
    sd_id = SDstart (FILE_NAME, DFACC_READ);<a name="wp936318"> </a>
    sds_index = 0;<a name="wp936319"> </a>
    sds_id = SDselect (sd_id, sds_index);<a name="wp936320"> </a>
    /*<a name="wp936322"> </a>
    * Get information about the SDS. Only chunk lengths and compression<a name="wp936323"> </a>
    * flag can be returned. Compression information is not available if<a name="wp936324"> </a>
    * NBIT, Skipping Huffman, or GZIP compression is used.<a name="wp936325"> </a>
    */<a name="wp936326"> </a>
    status = SDgetchunkinfo (sds_id, &amp;c_def_out, &amp;c_flags);<a name="wp936327"> </a>
    if (c_flags == HDF_CHUNK )<a name="wp936328"> </a>
       printf(&quot; SDS is chunked\nChunk&#39;s dimensions %dx%d\n&quot;,<a name="wp936329"> </a>
              c_def_out.chunk_lengths[0],<a name="wp936330"> </a>
              c_def_out.chunk_lengths[1]);<a name="wp936331"> </a>
    else if (c_flags == (HDF_CHUNK | HDF_COMP))<a name="wp936332"> </a>
         printf(&quot;SDS is chunked and compressed\nChunk&#39;s dimensions %dx%d\n&quot;,<a name="wp936333"> </a>
                  c_def_out.comp.chunk_lengths[0],<a name="wp936334"> </a>
                  c_def_out.comp.chunk_lengths[1]);<a name="wp936335"> </a>
    else if (c_flags == (HDF_CHUNK | HDF_NBIT))<a name="wp936336"> </a>
         printf (&quot;SDS is chunked (NBIT)\nChunk&#39;s dimensions %dx%d\n&quot;,<a name="wp936337"> </a>
                  c_def_out.nbit.chunk_lengths[0],<a name="wp936338"> </a>
                  c_def_out.nbit.chunk_lengths[1]);<a name="wp936339"> </a>
    /*<a name="wp936341"> </a>
    * Read the entire data set using SDreaddata function.<a name="wp936342"> </a>
    */<a name="wp936343"> </a>
    start[0] = 0;<a name="wp936344"> </a>
    start[1] = 0;<a name="wp936345"> </a>
    edges[0] = 9;<a name="wp936346"> </a>
    edges[1] = 4;<a name="wp936347"> </a>
    status = SDreaddata (sds_id, start, NULL, edges, (VOIDP)all_data);<a name="wp936348"> </a>
    /* <a name="wp936350"> </a>
    * Print out what we have read.<a name="wp936351"> </a>
    * The following information should be displayed:<a name="wp936352"> </a>
    *<a name="wp936353"> </a>
    * SDS is chunked <a name="wp936354"> </a>
    * Chunk&#39;s dimensions 3x2<a name="wp936355"> </a>
    *          1 1 2 <a name="wp936356"> </a>
    *          1 1 2 2<a name="wp936357"> </a>
    *          1 1 2 2<a name="wp936358"> </a>
    *          3 3 0 4<a name="wp936359"> </a>
    *          3 3 0 4<a name="wp936360"> </a>
    *          3 3 0 4<a name="wp936361"> </a>
    *          0 0 6 6<a name="wp936362"> </a>
    *          5 5 6 6<a name="wp936363"> </a>
    *          0 0 6 6<a name="wp936364"> </a>
    */<a name="wp936365"> </a>
    for (j=0; j&lt;9; j++) <a name="wp936366"> </a>
    {<a name="wp936367"> </a>
         for (i=0; i&lt;4; i++) printf (&quot; %d&quot;, all_data[j][i]);<a name="wp936368"> </a>
         printf (&quot;\n&quot;);<a name="wp936369"> </a>
    }<a name="wp936370"> </a>
    /* <a name="wp936372"> </a>
    * Read chunk with the coordinates (2,0) and display it.<a name="wp936373"> </a>
    */<a name="wp936374"> </a>
    origin[0] = 2;<a name="wp936375"> </a>
    origin[1] = 0;    	<a name="wp936376"> </a>
    status = SDreadchunk (sds_id, origin, chunk_out);<a name="wp936377"> </a>
    printf (&quot; Chunk (2,0) \n&quot;);<a name="wp936378"> </a>
    for (j=0; j&lt;3; j++) <a name="wp936379"> </a>
    {<a name="wp936380"> </a>
         for (i=0; i&lt;2; i++) printf (&quot; %d&quot;, chunk_out[j][i]);<a name="wp936381"> </a>
         printf (&quot;\n&quot;);<a name="wp936382"> </a>
    }<a name="wp936383"> </a>
    /* <a name="wp936385"> </a>
    * Read chunk with the coordinates (1,1) and display it.<a name="wp936386"> </a>
    */<a name="wp936387"> </a>
    origin[0] = 1;<a name="wp936388"> </a>
    origin[1] = 1;    	<a name="wp936389"> </a>
    status = SDreadchunk (sds_id, origin, chunk_out);<a name="wp936390"> </a>
    printf (&quot; Chunk (1,1) \n&quot;);<a name="wp936391"> </a>
    for (j=0; j&lt;3; j++) <a name="wp936392"> </a>
    {<a name="wp936393"> </a>
         for (i=0; i&lt;2; i++) printf (&quot; %d&quot;, chunk_out[j][i]);<a name="wp936394"> </a>
         printf (&quot;\n&quot;);<a name="wp936395"> </a>
    }<a name="wp936396"> </a>
    /*  The following information is displayed:<a name="wp936398"> </a>
    *<a name="wp936399"> </a>
    *   Chunk (2,0) <a name="wp936400"> </a>
    *   0 0<a name="wp936401"> </a>
    *   5 5<a name="wp936402"> </a>
    *   0 0<a name="wp936403"> </a>
    *   Chunk (1,1) <a name="wp936404"> </a>
    *   0 4<a name="wp936405"> </a>
    *   0 4<a name="wp936406"> </a>
    *   0 4<a name="wp936407"> </a>
    */<a name="wp936408"> </a>
    /* <a name="wp936410"> </a>
    * Terminate access to the data set.<a name="wp936411"> </a>
    */<a name="wp936412"> </a>
    status = SDendaccess (sds_id);<a name="wp936413"> </a>
    /*<a name="wp936415"> </a>
    * Terminate access to the SD interface and close the file.<a name="wp936416"> </a>
    */<a name="wp936417"> </a>
    status = SDend (sd_id);<a name="wp936418"> </a>
}            <a name="wp936419"> </a>
</pre></div>
<a name="wp933051"> </a><div style="color: #000000; font-family: Times New Roman; font-size: 12pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 6pt; margin-left: 0pt; margin-right: 0pt; margin-top: 12pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
chunking_example.f
</div>
<div class="pPreformatted" style="font-family: Courier New; font-size: 8pt"><pre class="pPreformatted" style="font-family: Courier New; font-size: 8pt">
      program  chunk_examples<a name="wp933176"> </a>
      implicit none<a name="wp936440"> </a>
C<a name="wp936441"> </a>
C     Parameter declaration.<a name="wp936442"> </a>
C<a name="wp936443"> </a>
      character*14 FILE_NAME<a name="wp936444"> </a>
      character*11 SDS_NAME<a name="wp936445"> </a>
      integer      RANK<a name="wp936446"> </a>
      parameter   (FILE_NAME = &#39;SDSchunked.hdf&#39;,<a name="wp936447"> </a>
     +             SDS_NAME  = &#39;ChunkedData&#39;,<a name="wp936448"> </a>
     +             RANK      = 2)<a name="wp936449"> </a>
      integer      DFACC_CREATE, DFACC_READ, DFNT_INT16<a name="wp936450"> </a>
      parameter   (DFACC_CREATE = 4,<a name="wp936451"> </a>
     +             DFACC_READ   = 1,<a name="wp936452"> </a>
     +             DFNT_INT16   = 22)<a name="wp936453"> </a>
      integer      COMP_CODE_NONE<a name="wp936454"> </a>
      parameter   (COMP_CODE_NONE = 0)<a name="wp936455"> </a>
C<a name="wp936456"> </a>
C     This example does not use compression.<a name="wp936457"> </a>
C<a name="wp936458"> </a>
C     To use RLE compression, declare:<a name="wp936459"> </a>
C<a name="wp936460"> </a>
C     integer      COMP_CODE_RLE<a name="wp936461"> </a>
C     parameter   (COMP_CODE_RLE = 1)<a name="wp936462"> </a>
C<a name="wp936463"> </a>
C     To use NBIT compression, declare:<a name="wp936464"> </a>
C<a name="wp936465"> </a>
C     integer      COMP_CODE_NBIT<a name="wp936466"> </a>
C     parameter   (COMP_CODE_NBIT = 2)<a name="wp936467"> </a>
C<a name="wp936468"> </a>
C     To use Skipping Huffman compression, declare:<a name="wp936469"> </a>
C<a name="wp936470"> </a>
C     integer      COMP_CODE_SKPHUFF<a name="wp936471"> </a>
C     parameter   (COMP_CODE_SKPHUFF = 3)<a name="wp936472"> </a>
C<a name="wp936473"> </a>
C     To use GZIP compression, declare:<a name="wp936474"> </a>
C<a name="wp936475"> </a>
C     integer      COMP_CODE_DEFLATE<a name="wp936476"> </a>
C     parameter   (COMP_CODE_DEFLATE = 4)<a name="wp936477"> </a>
C<a name="wp936478"> </a>
C<a name="wp936479"> </a>
C     Function declaration.<a name="wp936480"> </a>
C<a name="wp936481"> </a>
      integer sfstart, sfcreate, sfendacc, sfend,<a name="wp936482"> </a>
     +        sfselect, sfsfill, sfschnk, sfwchnk,<a name="wp936483"> </a>
     +        sfrchnk, sfgichnk, sfwdata, sfrdata,<a name="wp936484"> </a>
     +        sfscchnk<a name="wp936485"> </a>
C<a name="wp936486"> </a>
C**** Variable declaration *******************************************<a name="wp936487"> </a>
C<a name="wp936488"> </a>
      integer   sd_id, sds_id, sds_index, status          <a name="wp936489"> </a>
      integer   dim_sizes(2), origin(2)<a name="wp936490"> </a>
      integer   fill_value, maxcache, new_maxcache, flag<a name="wp936491"> </a>
      integer   start(2), edges(2), stride(2)<a name="wp936492"> </a>
      integer*2 all_data(4,9)<a name="wp936493"> </a>
      integer*2 row(3), column(2)<a name="wp936494"> </a>
      integer*2 chunk_out(2,3)<a name="wp936495"> </a>
      integer*2 chunk1(2,3),<a name="wp936496"> </a>
     +          chunk2(2,3),<a name="wp936497"> </a>
     +          chunk3(2,3),<a name="wp936498"> </a>
     +          chunk6(2,3)<a name="wp936499"> </a>
      integer   i, j<a name="wp936500"> </a>
C<a name="wp936501"> </a>
C     Compression flag and parameters.<a name="wp936502"> </a>
C<a name="wp936503"> </a>
      integer comp_type, comp_flag, comp_prm(4)<a name="wp936504"> </a>
C<a name="wp936505"> </a>
C     Chunk&#39;s dimensions.<a name="wp936506"> </a>
C<a name="wp936507"> </a>
      integer dim_length(2), dim_length_out(2)<a name="wp936508"> </a>
C<a name="wp936509"> </a>
C     Initialize four chunks<a name="wp936510"> </a>
C<a name="wp936511"> </a>
      data chunk1 /6*1/<a name="wp936512"> </a>
      data chunk2 /6*2/<a name="wp936513"> </a>
      data chunk3 /6*3/<a name="wp936514"> </a>
      data chunk6 /6*6/<a name="wp936515"> </a>
C<a name="wp936516"> </a>
C     Initialize row and column arrays.<a name="wp936517"> </a>
C<a name="wp936518"> </a>
      data row /3*4/<a name="wp936519"> </a>
      data column /2*5/<a name="wp936520"> </a>
C<a name="wp936521"> </a>
C**** End of variable declaration ************************************<a name="wp936522"> </a>
C<a name="wp936523"> </a>
C<a name="wp936524"> </a>
C     Define chunk&#39;s dimensions.<a name="wp936525"> </a>
C<a name="wp936526"> </a>
      dim_length(1) = 2 <a name="wp936527"> </a>
      dim_length(2) = 3 <a name="wp936528"> </a>
C <a name="wp936529"> </a>
C     Create the file and initialize SD interface.<a name="wp936530"> </a>
C<a name="wp936531"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_CREATE)<a name="wp936532"> </a>
C<a name="wp936534"> </a>
C     Create 4x9 SDS<a name="wp936535"> </a>
C<a name="wp936536"> </a>
      dim_sizes(1) = 4 <a name="wp936537"> </a>
      dim_sizes(2) = 9 <a name="wp936538"> </a>
      sds_id = sfcreate(sd_id, SDS_NAME, DFNT_INT16,<a name="wp936539"> </a>
     +                  RANK, dim_sizes)<a name="wp936540"> </a>
C<a name="wp936541"> </a>
C     Fill SDS array with the fill value.<a name="wp936542"> </a>
C<a name="wp936543"> </a>
      fill_value = 0<a name="wp936544"> </a>
      status = sfsfill( sds_id, fill_value)<a name="wp936545"> </a>
C<a name="wp936546"> </a>
C     Create chunked SDS.<a name="wp936547"> </a>
C<a name="wp936548"> </a>
C     In this example we do not use compression.<a name="wp936549"> </a>
C<a name="wp936550"> </a>
C     To use RLE compression, initialize comp_type parameter<a name="wp936551"> </a>
C     before the call to sfschnk function.<a name="wp936552"> </a>
C              comp_type = COMP_CODE_RLE<a name="wp936553"> </a>
C<a name="wp936554"> </a>
C     To use NBIT, Skipping Huffman, or GZIP compression,<a name="wp936555"> </a>
C     initialize comp_prm array and comp type parameter<a name="wp936556"> </a>
C     before call to sfschnk function<a name="wp936557"> </a>
C<a name="wp936558"> </a>
C     NBIT:<a name="wp936559"> </a>
C              comp_prm(1) = value_of(sign_ext)<a name="wp936560"> </a>
C              comp_prm(2) = value_of(fill_one)<a name="wp936561"> </a>
C              comp_prm(3) = value_of(start_bit)<a name="wp936562"> </a>
C              comp_prm(4) = value_of(bit_len)<a name="wp936563"> </a>
C              comp_type   = COMP_CODE_NBIT<a name="wp936564"> </a>
C<a name="wp936565"> </a>
C     Skipping Huffman:<a name="wp936566"> </a>
C              comp_prm(1) = value_of(skp_size)<a name="wp936567"> </a>
C              comp_type   = COMP_CODE_SKPHUFF<a name="wp936568"> </a>
C<a name="wp936569"> </a>
C     GZIP:<a name="wp936570"> </a>
C              comp_prm(1) = value_of(deflate_level) <a name="wp936571"> </a>
C              comp_type   = COMP_CODE_DEFLATE<a name="wp936572"> </a>
C       <a name="wp936573"> </a>
C<a name="wp936574"> </a>
      comp_type = COMP_CODE_NONE<a name="wp936575"> </a>
      status = sfschnk(sds_id, dim_length, comp_type, comp_prm)<a name="wp936576"> </a>
C<a name="wp936577"> </a>
C     Set chunk cache to hold maximum 2 chunks.<a name="wp936578"> </a>
C<a name="wp936579"> </a>
      flag = 0<a name="wp936580"> </a>
      maxcache = 2<a name="wp936581"> </a>
      new_maxcache = sfscchnk(sds_id, maxcache, flag) <a name="wp936582"> </a>
C<a name="wp936583"> </a>
C     Write chunks using SDwritechunk function.<a name="wp936584"> </a>
C     Chunks can be written in any order.<a name="wp936585"> </a>
C<a name="wp936586"> </a>
C     Write chunk with the coordinates (1,1).<a name="wp936587"> </a>
C<a name="wp936588"> </a>
      origin(1) = 1<a name="wp936589"> </a>
      origin(2) = 1<a name="wp936590"> </a>
      status = sfwchnk(sds_id, origin, chunk1) <a name="wp936591"> </a>
C<a name="wp936592"> </a>
C     Write chunk with the coordinates (1,2).<a name="wp936593"> </a>
C<a name="wp936594"> </a>
      origin(1) = 1 <a name="wp936595"> </a>
      origin(2) = 2 <a name="wp936596"> </a>
      status = sfwchnk(sds_id, origin, chunk3) <a name="wp936597"> </a>
C<a name="wp936598"> </a>
C     Write chunk with the coordinates (2,1).<a name="wp936599"> </a>
C<a name="wp936600"> </a>
      origin(1) = 2 <a name="wp936601"> </a>
      origin(2) = 1 <a name="wp936602"> </a>
      status = sfwchnk(sds_id, origin, chunk2) <a name="wp936603"> </a>
C<a name="wp936604"> </a>
C     Write chunk with the coordinates (2,3).<a name="wp936605"> </a>
C<a name="wp936606"> </a>
      origin(1) = 2 <a name="wp936607"> </a>
      origin(2) = 3 <a name="wp936608"> </a>
      status = sfwchnk(sds_id, origin, chunk6) <a name="wp936609"> </a>
C<a name="wp936610"> </a>
C     Fill second row in the chunk with the coordinates (2,2).<a name="wp936611"> </a>
C<a name="wp936612"> </a>
      start(1) = 3<a name="wp936613"> </a>
      start(2) = 3<a name="wp936614"> </a>
      edges(1) = 1 <a name="wp936615"> </a>
      edges(2) = 3 <a name="wp936616"> </a>
      stride(1) = 1<a name="wp936617"> </a>
      stride(2) = 1<a name="wp936618"> </a>
      status = sfwdata(sds_id, start, stride, edges, row)<a name="wp936619"> </a>
C<a name="wp936620"> </a>
C     Fill second column in the chunk with the coordinates (1,3).<a name="wp936621"> </a>
C<a name="wp936622"> </a>
      start(1) = 0 <a name="wp936623"> </a>
      start(2) = 7 <a name="wp936624"> </a>
      edges(1) = 2 <a name="wp936625"> </a>
      edges(2) = 1 <a name="wp936626"> </a>
      stride(1) = 1<a name="wp936627"> </a>
      stride(2) = 1<a name="wp936628"> </a>
      status = sfwdata(sds_id, start, stride, edges, column)<a name="wp936629"> </a>
C<a name="wp936630"> </a>
C     Terminate access to the data set.<a name="wp936631"> </a>
C<a name="wp936632"> </a>
      status = sfendacc(sds_id)<a name="wp936633"> </a>
C<a name="wp936634"> </a>
C     Terminate access to the SD interface and close the file.  <a name="wp936635"> </a>
C<a name="wp936636"> </a>
      status = sfend(sd_id)<a name="wp936637"> </a>
C<a name="wp936638"> </a>
C     Reopen the file and access the first data set.<a name="wp936639"> </a>
C<a name="wp936640"> </a>
      sd_id = sfstart(FILE_NAME, DFACC_READ)<a name="wp936641"> </a>
      sds_index = 0<a name="wp936642"> </a>
      sds_id = sfselect(sd_id, sds_index)<a name="wp936643"> </a>
C<a name="wp936644"> </a>
C     Get information about the SDS.<a name="wp936645"> </a>
C<a name="wp936646"> </a>
      status = sfgichnk(sds_id, dim_length_out, comp_flag)<a name="wp936647"> </a>
      if (comp_flag .eq. 0) then<a name="wp936648"> </a>
         write(*,*) &#39;SDS is chunked&#39;<a name="wp936649"> </a>
      endif<a name="wp936650"> </a>
      if (comp_flag .eq. 1) then<a name="wp936651"> </a>
         write(*,*) &#39;SDS is chunked and compressed&#39;<a name="wp936652"> </a>
      endif<a name="wp936653"> </a>
      if (comp_flag .eq. 2) then<a name="wp936654"> </a>
         write(*,*) &#39;SDS is chunked and NBIT compressed&#39;<a name="wp936655"> </a>
      endif<a name="wp936656"> </a>
      write(*,*) &#39;Chunks dimensions are &#39;, dim_length_out(1),<a name="wp936657"> </a>
     + &#39;  x&#39; ,dim_length_out(2)<a name="wp936658"> </a>
C<a name="wp936659"> </a>
C     Read the whole SDS using sfrdata function and display<a name="wp936660"> </a>
C     what we have read. The following information will be displayed:<a name="wp936661"> </a>
C<a name="wp936662"> </a>
C<a name="wp936663"> </a>
C             SDS is chunked<a name="wp936664"> </a>
C             Chunks dimensions are   2  x  3<a name="wp936665"> </a>
C <a name="wp936666"> </a>
C             1  1  1  3  3  3  0  5  0<a name="wp936667"> </a>
C             1  1  1  3  3  3  0  5  0<a name="wp936668"> </a>
C             2  2  2  0  0  0  6  6  6<a name="wp936669"> </a>
C             2  2  2  4  4  4  6  6  6<a name="wp936670"> </a>
C<a name="wp936671"> </a>
      start(1) = 0<a name="wp936672"> </a>
      start(2) = 0<a name="wp936673"> </a>
      edges(1) = 4<a name="wp936674"> </a>
      edges(2) = 9<a name="wp936675"> </a>
      stride(1) = 1<a name="wp936676"> </a>
      stride(2) = 1<a name="wp936677"> </a>
      status = sfrdata(sds_id, start, stride, edges, all_data)<a name="wp936678"> </a>
C<a name="wp936679"> </a>
C     Display the SDS.<a name="wp936680"> </a>
C<a name="wp936681"> </a>
      write(*,*)<a name="wp936682"> </a>
      do 10 i = 1,4<a name="wp936683"> </a>
         write(*,*) (all_data(i,j), j=1,9)<a name="wp936684"> </a>
10    continue     <a name="wp936685"> </a>
C<a name="wp936686"> </a>
C     Read chunks with the coordinates (2,2) and (1,3) and display.<a name="wp936687"> </a>
C     The following information will be shown:<a name="wp936688"> </a>
C<a name="wp936689"> </a>
C             Chunk (2,2)<a name="wp936690"> </a>
C<a name="wp936691"> </a>
C               0  0  0<a name="wp936692"> </a>
C               4  4  4<a name="wp936693"> </a>
C <a name="wp936694"> </a>
C             Chunk (1,3)<a name="wp936695"> </a>
C<a name="wp936696"> </a>
C               0  5  0<a name="wp936697"> </a>
C               0  5  0<a name="wp936698"> </a>
C<a name="wp936699"> </a>
      origin(1) = 2<a name="wp936700"> </a>
      origin(2) = 2<a name="wp936701"> </a>
      status = sfrchnk(sds_id, origin, chunk_out)<a name="wp936702"> </a>
      write(*,*) <a name="wp936703"> </a>
      write(*,*) &#39;Chunk (2,2)&#39;<a name="wp936704"> </a>
      write(*,*) <a name="wp936705"> </a>
      do 20 i = 1,2<a name="wp936706"> </a>
         write(*,*) (chunk_out(i,j), j=1,3)<a name="wp936707"> </a>
20    continue<a name="wp936708"> </a>
C<a name="wp936709"> </a>
      origin(1) = 1 <a name="wp936710"> </a>
      origin(2) = 3 <a name="wp936711"> </a>
      status = sfrchnk(sds_id, origin, chunk_out)<a name="wp936712"> </a>
      write(*,*) <a name="wp936713"> </a>
      write(*,*) &#39;Chunk (1,3)&#39;<a name="wp936714"> </a>
      write(*,*) <a name="wp936715"> </a>
      do 30 i = 1,2<a name="wp936716"> </a>
         write(*,*) (chunk_out(i,j), j=1,3)<a name="wp936717"> </a>
30    continue<a name="wp936718"> </a>
C<a name="wp936719"> </a>
C     Terminate access to the data set.<a name="wp936720"> </a>
C<a name="wp936721"> </a>
      status = sfendacc(sds_id)<a name="wp936722"> </a>
C<a name="wp936723"> </a>
C     Terminate access to the SD interface and close the file.   <a name="wp936724"> </a>
C<a name="wp936725"> </a>
      status = sfend(sd_id)<a name="wp936726"> </a>
      end <a name="wp936727"> </a>
</pre></div>
    </blockquote>

    <hr />

    <table id="SummaryNotReq2" border="0" width="850" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left">
        HDF4.2r4 - February 2009<br/>
        <a href="UG_Copyright.html">Copyright</a>
        <td align="right">
          <span style="font-size: 12px; font-weight: bold">
            The HDF Group<br />
          </span>
          <span style="font-size: 12px">
            <a href="http://www.hdfgroup.org">www.hdfgroup.org</a><br />
            <img valign="bottom" border="0" src="images/help.jpg" height="12" alt="The HDF Group" valign="top" />
          </span>
        </td>
      </tr>
    </table>

    <table id="SummaryNotReq3" width="220" border="0" cellpadding="0" cellspacing="0">
    </table>
  </body>
</html>
